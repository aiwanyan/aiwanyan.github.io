# 椭圆曲线密码(ECC):

基于椭圆曲线离散对数问题（ECDLP）难解性

## 1. 密钥的生成:

在椭圆曲线加密中，密钥生成包括两部分：**私钥**和**公钥**。

- **私钥**：随机选择一个大整数，通常通过一个安全的随机数生成器来生成。

- **公钥**：通过私钥和椭圆曲线的基点（生成点）进行运算生成。公钥是私钥与基点的乘积，记作：

  Public Key=Private Key×G

  其中 G 是椭圆曲线的基点。

## 2.加密流程:

椭圆曲线集成加密方案（ECIES，Elliptic Curve Integrated Encryption Scheme）是一种使用椭圆曲线加密的标准方法，下面是ECIES的加密流程：

#### 加密方：

1. **选择公钥**：接收方（Bob）将其公钥提供给发送方（Alice）。

2. **生成随机数**：发送方随机选择一个整数 k，该整数与椭圆曲线基点 G 结合来生成加密密钥。

3. **计算共享密钥**：发送方使用自己的私钥和接收方的公钥，计算共享密钥（共享密钥的计算基于椭圆曲线Diffie-Hellman协议）：

   K=k×Bob’s Public Key     ---Bob’s Public Key=Bob的私钥×G

4. **生成密文**：使用共享密钥生成对称密钥，用来加密实际的数据（比如AES加密）。然后，计算加密后的数据和随机数的组合：

   C=Encrypt(Message,Key)

5. **传输密文**：发送方将密文和随机数 k 一起发送给接收方。

#### 解密方：

1. **计算共享密钥**：接收方使用自己的私钥和发送方的公钥计算共享密钥。

   K=k×Alice’s Public Key      ---Alice’s Public Key=Bob的私钥×G

2. **解密密文**：接收方使用计算得到的共享密钥解密收到的密文。

   Message=Decrypt(C,Key)

## 3.**数字签名（ECDSA）**

### 1.作用:

#### **身份验证（Authentication）**

数字签名能够证明消息确实是由消息的发送者发出的，并且没有被篡改。

- **公钥基础设施（PKI）**：通过数字签名，接收方能够验证消息是否确实是由声明的发送方发出的。这是因为签名是使用发送方的私钥生成的，而只有拥有对应私钥的人才能生成有效的签名。因此，接收方可以使用发送方的公钥来验证签名是否有效，确保消息的发件人身份。

#### **数据完整性（Data Integrity）**

数字签名确保了消息在传输过程中未被篡改。

- **哈希值**：数字签名通常会对消息进行哈希运算（生成消息摘要），然后使用私钥对这个哈希值进行签名。如果消息内容在传输过程中被修改，计算得到的哈希值就会发生变化，验证签名时就会失败，从而能够检测到数据被篡改。

#### **不可否认性（Non-repudiation）**

数字签名提供了不可否认性，即发送方不能否认自己已签署某个消息。

- 由于数字签名是通过发送方的私钥生成的，且只有发送方拥有私钥，因此在签署之后，发送方不能声称自己没有发送过该消息。即使在后续，发送方也不能否认自己发送的消息。

#### **防篡改**

数字签名还能够保证消息的完整性。任何在消息上的修改都会导致签名验证失败，防止数据在传输过程中被篡改。

## 2.流程:

``` 
发送方:
    1.首先对要发送的二进制数据流进行哈希摘要
                   --- 常用哈希摘要: MD5 ,SHA1  ,SHA256  
    2.使用私钥对摘要进行加密(签名)
接受方:
    1.使用发送方的公钥对摘要进行解密
    2.使用同样的哈希算法对二进制数据流进行计算
    3.对比两次哈希是否一致，一致则未篡改
```



